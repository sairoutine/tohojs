!function t(r,e,n){function a(o,u){if(!e[o]){if(!r[o]){var s="function"==typeof require&&require;if(!u&&s)return s(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var h=e[o]={exports:{}};r[o][0].call(h.exports,function(t){var e=r[o][1][t];return a(e?e:t)},h,h.exports,t,r,e,n)}return e[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)a(n[o]);return a}({1:[function(t,r,e){(function(t){(function(){function n(t,r){return t.set(r[0],r[1]),t}function a(t,r){return t.add(r),t}function i(t,r,e){var n=e.length;switch(n){case 0:return t.call(r);case 1:return t.call(r,e[0]);case 2:return t.call(r,e[0],e[1]);case 3:return t.call(r,e[0],e[1],e[2])}return t.apply(r,e)}function o(t,r,e,n){for(var a=-1,i=t.length;++a<i;){var o=t[a];r(n,o,e(o),t)}return n}function u(t,r){for(var e=-1,n=t.length,a=-1,i=r.length,o=Array(n+i);++e<n;)o[e]=t[e];for(;++a<i;)o[e++]=r[a];return o}function s(t,r){for(var e=-1,n=t.length;++e<n&&r(t[e],e,t)!==!1;);return t}function c(t,r){for(var e=t.length;e--&&r(t[e],e,t)!==!1;);return t}function h(t,r){for(var e=-1,n=t.length;++e<n;)if(!r(t[e],e,t))return!1;return!0}function f(t,r){for(var e=-1,n=t.length,a=-1,i=[];++e<n;){var o=t[e];r(o,e,t)&&(i[++a]=o)}return i}function l(t,r){return!!t.length&&b(t,r,0)>-1}function p(t,r,e){for(var n=-1,a=t.length;++n<a;)if(e(r,t[n]))return!0;return!1}function v(t,r){for(var e=-1,n=t.length,a=Array(n);++e<n;)a[e]=r(t[e],e,t);return a}function g(t,r){for(var e=-1,n=r.length,a=t.length;++e<n;)t[a+e]=r[e];return t}function m(t,r,e,n){var a=-1,i=t.length;for(n&&i&&(e=t[++a]);++a<i;)e=r(e,t[a],a,t);return e}function w(t,r,e,n){var a=t.length;for(n&&a&&(e=t[--a]);a--;)e=r(e,t[a],a,t);return e}function y(t,r){for(var e=-1,n=t.length;++e<n;)if(r(t[e],e,t))return!0;return!1}function _(t,r,e){for(var n=-1,a=t.length;++n<a;){var i=t[n],o=r(i);if(null!=o&&(u===q?o===o:e(o,u)))var u=o,s=i}return s}function d(t,r,e,n){var a;return e(t,function(t,e,i){return r(t,e,i)?(a=n?e:t,!1):void 0}),a}function x(t,r,e){for(var n=t.length,a=e?n:-1;e?a--:++a<n;)if(r(t[a],a,t))return a;return-1}function b(t,r,e){if(r!==r)return M(t,e);for(var n=e-1,a=t.length;++n<a;)if(t[n]===r)return n;return-1}function I(t,r,e,n,a){return a(t,function(t,a,i){e=n?(n=!1,t):r(e,t,a,i)}),e}function T(t,r){var e=t.length;for(t.sort(r);e--;)t[e]=t[e].value;return t}function S(t,r){for(var e,n=-1,a=t.length;++n<a;){var i=r(t[n]);i!==q&&(e=e===q?i:e+i)}return e}function O(t,r){for(var e=-1,n=Array(t);++e<t;)n[e]=r(e);return n}function C(t,r){return v(r,function(r){return[r,t[r]]})}function A(t){return function(r){return t(r)}}function E(t,r){return v(r,function(r){return t[r]})}function N(t,r){for(var e=-1,n=t.length;++e<n&&b(r,t[e],0)>-1;);return e}function j(t,r){for(var e=t.length;e--&&b(r,t[e],0)>-1;);return e}function k(t){return t&&t.Object===Object?t:null}function U(t,r){if(t!==r){var e=null===t,n=t===q,a=t===t,i=null===r,o=r===q,u=r===r;if(t>r&&!i||!a||e&&!o&&u||n&&u)return 1;if(r>t&&!e||!u||i&&!n&&a||o&&a)return-1}return 0}function R(t,r,e){for(var n=-1,a=t.criteria,i=r.criteria,o=a.length,u=e.length;++n<o;){var s=U(a[n],i[n]);if(s){if(n>=u)return s;var c=e[n];return s*("desc"==c?-1:1)}}return t.index-r.index}function D(t,r){for(var e=t.length,n=0;e--;)t[e]===r&&n++;return n}function W(t){return de[t]}function B(t){return xe[t]}function L(t){return"\\"+Te[t]}function M(t,r,e){for(var n=t.length,a=r+(e?0:-1);e?a--:++a<n;){var i=t[a];if(i!==i)return a}return-1}function H(t){var r=!1;if(null!=t&&"function"!=typeof t.toString)try{r=!!(t+"")}catch(e){}return r}function P(t,r){return t="number"==typeof t||Or.test(t)?+t:-1,r=null==r?xt:r,t>-1&&t%1==0&&r>t}function G(t){for(var r,e=[];!(r=t.next()).done;)e.push(r.value);return e}function X(t){var r=-1,e=Array(t.size);return t.forEach(function(t,n){e[++r]=[n,t]}),e}function Y(t,r){for(var e=-1,n=t.length,a=-1,i=[];++e<n;){var o=t[e];o!==r&&o!==Ct||(t[e]=Ct,i[++a]=e)}return i}function F(t){var r=-1,e=Array(t.size);return t.forEach(function(t){e[++r]=t}),e}function K(t){if(!t||!le.test(t))return t.length;for(var r=fe.lastIndex=0;fe.test(t);)r++;return r}function z(t){return t.match(fe)}function $(t){return be[t]}function Z(t){function r(t){if(Mo(t)&&!xh(t)&&!(t instanceof Or)){if(t instanceof k)return t;if(Ys.call(t,"__wrapped__"))return Ua(t)}return new k(t)}function e(){}function k(t,r){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=q}function Or(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Tt,this.__views__=[]}function Nr(){var t=new Or(this.__wrapped__);return t.__actions__=Ln(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ln(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ln(this.__views__),t}function jr(){if(this.__filtered__){var t=new Or(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function kr(){var t=this.__wrapped__.value(),r=this.__dir__,e=xh(t),n=0>r,a=e?t.length:0,i=ma(0,a,this.__views__),o=i.start,u=i.end,s=u-o,c=n?u:o-1,h=this.__iteratees__,f=h.length,l=0,p=gc(s,this.__takeCount__);if(!e||vt>a||a==s&&p==s)return On(t,this.__actions__);var v=[];t:for(;s--&&p>l;){c+=r;for(var g=-1,m=t[c];++g<f;){var w=h[g],y=w.iteratee,_=w.type,d=y(m);if(_==mt)m=d;else if(!d){if(_==gt)continue t;break t}}v[l++]=m}return v}function Ur(){}function Rr(t,r){return Wr(t,r)&&delete t[r]}function Dr(t,r){if(bc){var e=t[r];return e===_t?q:e}return Ys.call(t,r)?t[r]:q}function Wr(t,r){return bc?t[r]!==q:Ys.call(t,r)}function Br(t,r,e){t[r]=bc&&e===q?_t:e}function Lr(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}function Mr(){this.__data__={hash:new Ur,map:_c?new _c:[],string:new Ur}}function Hr(t){var r=this.__data__;return Ta(t)?Rr("string"==typeof t?r.string:r.hash,t):_c?r.map["delete"](t):Jr(r.map,t)}function Pr(t){var r=this.__data__;return Ta(t)?Dr("string"==typeof t?r.string:r.hash,t):_c?r.map.get(t):te(r.map,t)}function Gr(t){var r=this.__data__;return Ta(t)?Wr("string"==typeof t?r.string:r.hash,t):_c?r.map.has(t):re(r.map,t)}function Xr(t,r){var e=this.__data__;return Ta(t)?Br("string"==typeof t?e.string:e.hash,t,r):_c?e.map.set(t,r):ne(e.map,t,r),this}function Yr(t){var r=-1,e=t?t.length:0;for(this.__data__=new Lr;++r<e;)this.push(t[r])}function Fr(t,r){var e=t.__data__;if(Ta(r)){var n=e.__data__,a="string"==typeof r?n.string:n.hash;return a[r]===_t}return e.has(r)}function Kr(t){var r=this.__data__;if(Ta(t)){var e=r.__data__,n="string"==typeof t?e.string:e.hash;n[t]=_t}else r.set(t,_t)}function zr(t){var r=-1,e=t?t.length:0;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}function $r(){this.__data__={array:[],map:null}}function Zr(t){var r=this.__data__,e=r.array;return e?Jr(e,t):r.map["delete"](t)}function qr(t){var r=this.__data__,e=r.array;return e?te(e,t):r.map.get(t)}function Vr(t){var r=this.__data__,e=r.array;return e?re(e,t):r.map.has(t)}function Qr(t,r){var e=this.__data__,n=e.array;n&&(n.length<vt-1?ne(n,t,r):(e.array=null,e.map=new Lr(n)));var a=e.map;return a&&a.set(t,r),this}function Jr(t,r){var e=ee(t,r);if(0>e)return!1;var n=t.length-1;return e==n?t.pop():sc.call(t,e,1),!0}function te(t,r){var e=ee(t,r);return 0>e?q:t[e][1]}function re(t,r){return ee(t,r)>-1}function ee(t,r){for(var e=t.length;e--;)if(_o(t[e][0],r))return e;return-1}function ne(t,r,e){var n=ee(t,r);0>n?t.push([r,e]):t[n][1]=e}function ae(t,r,e,n){return t===q||_o(t,Gs[e])&&!Ys.call(n,e)?r:t}function ie(t,r,e){(e===q||_o(t[r],e))&&("number"!=typeof r||e!==q||r in t)||(t[r]=e)}function oe(t,r,e){var n=t[r];Ys.call(t,r)&&_o(n,e)&&(e!==q||r in t)||(t[r]=e)}function ue(t,r,e,n){return jc(t,function(t,a,i){r(n,t,e(t),i)}),n}function se(t,r){return t&&Mn(r,Su(r),t)}function ce(t,r){for(var e=-1,n=null==t,a=r.length,i=Array(a);++e<a;)i[e]=n?q:bu(t,r[e]);return i}function fe(t){return Oo(t)?t:[]}function de(t){return"function"==typeof t?t:vs}function xe(t){return xh(t)?t:ka(t)}function be(t,r,e){return t===t&&(e!==q&&(t=e>=t?t:e),r!==q&&(t=t>=r?t:r)),t}function Ie(t,r,e,n,a,i){var o;if(e&&(o=a?e(t,n,a,i):e(t)),o!==q)return o;if(!Lo(t))return t;var u=xh(t);if(u){if(o=ya(t),!r)return Ln(t,o)}else{var c=ga(t),h=c==Ut||c==Rt;if(bh(t))return En(t,r);if(c==Bt||c==At||h&&!a){if(H(t))return a?t:{};if(o=_a(h?{}:t),!r)return Pn(t,se(o,t))}else{if(!_e[c])return a?t:{};o=da(t,c,r)}}i||(i=new zr);var f=i.get(t);return f?f:(i.set(t,o),(u?s:Le)(t,function(n,a){oe(o,a,Ie(n,r,e,a,t,i))}),u?o:Pn(t,o))}function Te(t){var r=Su(t),e=r.length;return function(n){if(null==n)return!e;for(var a=e;a--;){var i=r[a],o=t[i],u=n[i];if(u===q&&!(i in Object(n))||!o(u))return!1}return!0}}function Ce(t){return Lo(t)?ic(t):{}}function Ae(t,r,e){if("function"!=typeof t)throw new Hs(yt);return uc(function(){t.apply(q,e)},r)}function Ne(t,r,e,n){var a=-1,i=l,o=!0,u=t.length,s=[],c=r.length;if(!u)return s;e&&(r=v(r,A(e))),n?(i=p,o=!1):r.length>=vt&&(i=Fr,o=!1,r=new Yr(r));t:for(;++a<u;){var h=t[a],f=e?e(h):h;if(o&&f===f){for(var g=c;g--;)if(r[g]===f)continue t;s.push(h)}else i(r,f,n)||s.push(h)}return s}function je(t,r){var e=!0;return jc(t,function(t,n,a){return e=!!r(t,n,a)}),e}function ke(t,r,e,n){var a=t.length;for(e=uu(e),0>e&&(e=-e>a?0:a+e),n=n===q||n>a?a:uu(n),0>n&&(n+=a),n=e>n?0:su(n);n>e;)t[e++]=r;return t}function Ue(t,r){var e=[];return jc(t,function(t,n,a){r(t,n,a)&&e.push(t)}),e}function We(t,r,e,n){n||(n=[]);for(var a=-1,i=t.length;++a<i;){var o=t[a];r>0&&Oo(o)&&(e||xh(o)||Io(o))?r>1?We(o,r-1,e,n):g(n,o):e||(n[n.length]=o)}return n}function Be(t,r){return null==t?t:Uc(t,r,Ou)}function Le(t,r){return t&&Uc(t,r,Su)}function Me(t,r){return t&&Rc(t,r,Su)}function He(t,r){return f(r,function(r){return Do(t[r])})}function Pe(t,r){r=Ia(r,t)?[r+""]:xe(r);for(var e=0,n=r.length;null!=t&&n>e;)t=t[r[e++]];return e&&e==n?t:q}function Ge(t,r){return Ys.call(t,r)||"object"==typeof t&&r in t&&null===ec(t)}function Xe(t,r){return r in Object(t)}function Ye(t,r,e){return t>=gc(r,e)&&t<vc(r,e)}function Fe(t,r,e){for(var n=e?p:l,a=t.length,i=a,o=Array(a),u=[];i--;){var s=t[i];i&&r&&(s=v(s,A(r))),o[i]=!e&&(r||s.length>=120)?new Yr(i&&s):q}s=t[0];var c=-1,h=s.length,f=o[0];t:for(;++c<h;){var g=s[c],m=r?r(g):g;if(!(f?Fr(f,m):n(u,m,e))){for(var i=a;--i;){var w=o[i];if(!(w?Fr(w,m):n(t[i],m,e)))continue t}f&&f.push(m),u.push(g)}}return u}function Ke(t,r,e,n){return Le(t,function(t,a,i){r(n,e(t),a,i)}),n}function ze(t,r,e){Ia(r,t)||(r=xe(r),t=Na(t,r),r=Va(r));var n=null==t?t:t[r];return null==n?q:i(n,t,e)}function $e(t,r,e,n,a){return t===r?!0:null==t||null==r||!Lo(t)&&!Mo(r)?t!==t&&r!==r:Ze(t,r,$e,e,n,a)}function Ze(t,r,e,n,a,i){var o=xh(t),u=xh(r),s=Et,c=Et;o||(s=ga(t),s==At?s=Bt:s!=Bt&&(o=tu(t))),u||(c=ga(r),c==At?c=Bt:c!=Bt&&(u=tu(r)));var h=s==Bt&&!H(t),f=c==Bt&&!H(r),l=s==c;if(l&&!o&&!h)return sa(t,r,s,e,n,a);var p=a&ct;if(!p){var v=h&&Ys.call(t,"__wrapped__"),g=f&&Ys.call(r,"__wrapped__");if(v||g)return e(v?t.value():t,g?r.value():r,n,a,i)}return l?(i||(i=new zr),(o?ua:ca)(t,r,e,n,a,i)):!1}function qe(t,r,e,n){var a=e.length,i=a,o=!n;if(null==t)return!i;for(t=Object(t);a--;){var u=e[a];if(o&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++a<i;){u=e[a];var s=u[0],c=t[s],h=u[1];if(o&&u[2]){if(c===q&&!(s in t))return!1}else{var f=new zr,l=n?n(c,h,s,t,r,f):q;if(!(l===q?$e(h,c,n,st|ct,f):l))return!1}}return!0}function Ve(t){var r=typeof t;return"function"==r?t:null==t?vs:"object"==r?xh(t)?en(t[0],t[1]):rn(t):bs(t)}function Qe(t){return pc(Object(t))}function Je(t){t=null==t?t:Object(t);var r=[];for(var e in t)r.push(e);return r}function tn(t,r){var e=-1,n=So(t)?Array(t.length):[];return jc(t,function(t,a,i){n[++e]=r(t,a,i)}),n}function rn(t){var r=la(t);if(1==r.length&&r[0][2]){var e=r[0][0],n=r[0][1];return function(t){return null==t?!1:t[e]===n&&(n!==q||e in Object(t))}}return function(e){return e===t||qe(e,t,r)}}function en(t,r){return function(e){var n=bu(e,t);return n===q&&n===r?Tu(e,t):$e(r,n,q,st|ct)}}function nn(t,r,e,n,a){if(t!==r){var i=xh(r)||tu(r)?q:Ou(r);s(i||r,function(o,u){if(i&&(u=o,o=r[u]),Lo(o))a||(a=new zr),an(t,r,u,e,nn,n,a);else{var s=n?n(t[u],o,u+"",t,r,a):q;s===q&&(s=o),ie(t,u,s)}})}}function an(t,r,e,n,a,i,o){var u=t[e],s=r[e],c=o.get(s);if(c)return void ie(t,e,c);var h=i?i(u,s,e+"",t,r,o):q,f=h===q;f&&(h=s,xh(s)||tu(s)?xh(u)?h=u:Oo(u)?h=Ln(u):(f=!1,h=Ie(s,!0)):$o(s)||Io(s)?Io(u)?h=hu(u):!Lo(u)||n&&Do(u)?(f=!1,h=Ie(s,!0)):h=u:f=!1),o.set(s,h),f&&a(h,s,n,i,o),ie(t,e,h)}function on(t,r,e){var n=-1,a=fa();r=v(r.length?r:Array(1),function(t){return a(t)});var i=tn(t,function(t,e,a){var i=v(r,function(r){return r(t)});return{criteria:i,index:++n,value:t}});return T(i,function(t,r){return R(t,r,e)})}function un(t,r){return t=Object(t),m(r,function(r,e){return e in t&&(r[e]=t[e]),r},{})}function sn(t,r){var e={};return Be(t,function(t,n){r(t,n)&&(e[n]=t)}),e}function cn(t){return function(r){return null==r?q:r[t]}}function hn(t){return function(r){return Pe(r,t)}}function fn(t,r){return ln(t,r)}function ln(t,r,e){var n=-1,a=r.length,i=t;for(e&&(i=v(t,function(t){return e(t)}));++n<a;)for(var o=0,u=r[n],s=e?e(u):u;(o=b(i,s,o))>-1;)i!==t&&sc.call(i,o,1),sc.call(t,o,1);return t}function pn(t,r){for(var e=t?r.length:0,n=e-1;e--;){var a=r[e];if(n==e||a!=i){var i=a;if(P(a))sc.call(t,a,1);else if(Ia(a,t))delete t[a];else{var o=xe(a),u=Na(t,o);null!=u&&delete u[Va(o)]}}}return t}function vn(t,r){return t+hc(wc()*(r-t+1))}function gn(t,r,e,n){for(var a=-1,i=vc(cc((r-t)/(e||1)),0),o=Array(i);i--;)o[n?i:++a]=t,t+=e;return o}function mn(t,r,e,n){r=Ia(r,t)?[r+""]:xe(r);for(var a=-1,i=r.length,o=i-1,u=t;null!=u&&++a<i;){var s=r[a];if(Lo(u)){var c=e;if(a!=o){var h=u[s];c=n?n(h,s,u):q,c===q&&(c=null==h?P(r[a+1])?[]:{}:h)}oe(u,s,c)}u=u[s]}return t}function wn(t,r,e){var n=-1,a=t.length;0>r&&(r=-r>a?0:a+r),e=e>a?a:e,0>e&&(e+=a),a=r>e?0:e-r>>>0,r>>>=0;for(var i=Array(a);++n<a;)i[n]=t[n+r];return i}function yn(t,r){var e;return jc(t,function(t,n,a){return e=r(t,n,a),!e}),!!e}function _n(t,r,e){var n=0,a=t?t.length:n;if("number"==typeof r&&r===r&&Ot>=a){for(;a>n;){var i=n+a>>>1,o=t[i];(e?r>=o:r>o)&&null!==o?n=i+1:a=i}return a}return dn(t,r,vs,e)}function dn(t,r,e,n){r=e(r);for(var a=0,i=t?t.length:0,o=r!==r,u=null===r,s=r===q;i>a;){var c=hc((a+i)/2),h=e(t[c]),f=h!==q,l=h===h;if(o)var p=l||n;else p=u?l&&f&&(n||null!=h):s?l&&(n||f):null==h?!1:n?r>=h:r>h;p?a=c+1:i=c}return gc(i,St)}function xn(t){return bn(t)}function bn(t,r){for(var e=0,n=t.length,a=t[0],i=r?r(a):a,o=i,u=0,s=[a];++e<n;)a=t[e],i=r?r(a):a,_o(i,o)||(o=i,s[++u]=a);return s}function In(t,r,e){var n=-1,a=l,i=t.length,o=!0,u=[],s=u;if(e)o=!1,a=p;else if(i>=vt){var c=r?null:Wc(t);if(c)return F(c);o=!1,a=Fr,s=new Yr}else s=r?[]:u;t:for(;++n<i;){var h=t[n],f=r?r(h):h;if(o&&f===f){for(var v=s.length;v--;)if(s[v]===f)continue t;r&&s.push(f),u.push(h)}else a(s,f,e)||(s!==u&&s.push(f),u.push(h))}return u}function Tn(t,r){r=Ia(r,t)?[r+""]:xe(r),t=Na(t,r);var e=Va(r);return null!=t&&Iu(t,e)?delete t[e]:!0}function Sn(t,r,e,n){for(var a=t.length,i=n?a:-1;(n?i--:++i<a)&&r(t[i],i,t););return e?wn(t,n?0:i,n?i+1:a):wn(t,n?i+1:0,n?a:i)}function On(t,r){var e=t;return e instanceof Or&&(e=e.value()),m(r,function(t,r){return r.func.apply(r.thisArg,g([t],r.args))},e)}function Cn(t,r,e){for(var n=-1,a=t.length;++n<a;)var i=i?g(Ne(i,t[n],r,e),Ne(t[n],i,r,e)):t[n];return i&&i.length?In(i,r,e):[]}function An(t,r,e){for(var n=-1,a=t.length,i=r.length,o={};++n<a;)e(o,t[n],i>n?r[n]:q);return o}function En(t,r){if(r)return t.slice();var e=t.constructor,n=new e(t.length);return t.copy(n),n}function Nn(t){var r=t.constructor,e=new r(t.byteLength),n=new Js(e);return n.set(new Js(t)),e}function jn(t){var r=t.constructor;return m(X(t),n,new r)}function kn(t){var r=t.constructor,e=new r(t.source,dr.exec(t));return e.lastIndex=t.lastIndex,e}function Un(t){var r=t.constructor;return m(F(t),a,new r)}function Rn(t){return Qs?Object(Ac.call(t)):{}}function Dn(t,r){var e=t.buffer,n=r?Nn(e):e,a=t.constructor;return new a(n,t.byteOffset,t.length)}function Wn(t,r,e,n){for(var a=-1,i=t.length,o=e.length,u=-1,s=r.length,c=vc(i-o,0),h=Array(s+c),f=!n;++u<s;)h[u]=r[u];for(;++a<o;)(f||i>a)&&(h[e[a]]=t[a]);for(;c--;)h[u++]=t[a++];return h}function Bn(t,r,e,n){for(var a=-1,i=t.length,o=-1,u=e.length,s=-1,c=r.length,h=vc(i-u,0),f=Array(h+c),l=!n;++a<h;)f[a]=t[a];for(var p=a;++s<c;)f[p+s]=r[s];for(;++o<u;)(l||i>a)&&(f[p+e[o]]=t[a++]);return f}function Ln(t,r){var e=-1,n=t.length;for(r||(r=Array(n));++e<n;)r[e]=t[e];return r}function Mn(t,r,e){return Hn(t,r,e)}function Hn(t,r,e,n){e||(e={});for(var a=-1,i=r.length;++a<i;){var o=r[a],u=n?n(e[o],t[o],o,e,t):t[o];oe(e,o,u)}return e}function Pn(t,r){return Mn(t,Mc(t),r)}function Gn(t,r){return function(e,n){var a=xh(e)?o:ue,i=r?r():{};return a(e,t,fa(n),i)}}function Xn(t){return co(function(r,e){var n=-1,a=e.length,i=a>1?e[a-1]:q,o=a>2?e[2]:q;for(i="function"==typeof i?(a--,i):q,o&&ba(e[0],e[1],o)&&(i=3>a?q:i,a=1),r=Object(r);++n<a;){var u=e[n];u&&t(r,u,n,i)}return r})}function Yn(t,r){return function(e,n){if(null==e)return e;if(!So(e))return t(e,n);for(var a=e.length,i=r?a:-1,o=Object(e);(r?i--:++i<a)&&n(o[i],i,o)!==!1;);return e}}function Fn(t){return function(r,e,n){for(var a=-1,i=Object(r),o=n(r),u=o.length;u--;){var s=o[t?u:++a];if(e(i[s],s,i)===!1)break}return r}}function Kn(t,r,e){function n(){var r=this&&this!==Re&&this instanceof n?i:t;return r.apply(a?e:this,arguments)}var a=r&Q,i=Zn(t);return n}function zn(t){return function(r){r=lu(r);var e=le.test(r)?z(r):q,n=e?e[0]:r.charAt(0),a=e?e.slice(1).join(""):r.slice(1);return n[t]()+a}}function $n(t){return function(r){return m(hs(Yu(r)),t,"")}}function Zn(t){return function(){var r=arguments;switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);case 5:return new t(r[0],r[1],r[2],r[3],r[4]);case 6:return new t(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new t(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var e=Ce(t.prototype),n=t.apply(e,r);return Lo(n)?n:e}}function qn(t,r,e){function n(){for(var o=arguments.length,u=Array(o),s=o,c=va(n);s--;)u[s]=arguments[s];var h=3>o&&u[0]!==c&&u[o-1]!==c?[]:Y(u,c);if(o-=h.length,e>o)return aa(t,r,Qn,n.placeholder,q,u,h,q,q,e-o);var f=this&&this!==Re&&this instanceof n?a:t;return i(f,this,u)}var a=Zn(t);return n}function Vn(t){return co(function(r){r=We(r,1);var e=r.length,n=e,a=k.prototype.thru;for(t&&r.reverse();n--;){var i=r[n];if("function"!=typeof i)throw new Hs(yt);if(a&&!o&&"wrapper"==ha(i))var o=new k([],!0)}for(n=o?n:e;++n<e;){i=r[n];var u=ha(i),s="wrapper"==u?Bc(i):q;o=s&&Sa(s[0])&&s[1]==(it|rt|nt|ot)&&!s[4].length&&1==s[9]?o[ha(s[0])].apply(o,s[3]):1==i.length&&Sa(i)?o[u]():o.thru(i)}return function(){var t=arguments,n=t[0];if(o&&1==t.length&&xh(n)&&n.length>=vt)return o.plant(n).value();for(var a=0,i=e?r[a].apply(this,t):n;++a<e;)i=r[a].call(this,i);return i}})}function Qn(t,r,e,n,a,i,o,u,s,c){function h(){for(var w=arguments.length,y=w,_=Array(w);y--;)_[y]=arguments[y];if(v)var d=va(h),x=D(_,d);if(n&&(_=Wn(_,n,a,v)),i&&(_=Bn(_,i,o,v)),w-=x,v&&c>w){var b=Y(_,d);return aa(t,r,Qn,h.placeholder,e,_,b,u,s,c-w)}var I=l?e:this,T=p?I[t]:t;return w=_.length,u?_=ja(_,u):g&&w>1&&_.reverse(),f&&w>s&&(_.length=s),this&&this!==Re&&this instanceof h&&(T=m||Zn(T)),T.apply(I,_)}var f=r&it,l=r&Q,p=r&J,v=r&(rt|et),g=r&ut,m=p?q:Zn(t);return h}function Jn(t,r){return function(e,n){return Ke(e,t,r(n),{})}}function ta(t){return co(function(r){return r=v(We(r,1),fa()),co(function(e){var n=this;return t(r,function(t){return i(t,n,e)})})})}function ra(t,r,e){r=uu(r);var n=K(t);if(!r||n>=r)return"";var a=r-n;e=e===q?" ":e+"";var i=Qu(e,cc(a/K(e)));return le.test(e)?z(i).slice(0,a).join(""):i.slice(0,a)}function ea(t,r,e,n){function a(){for(var r=-1,s=arguments.length,c=-1,h=n.length,f=Array(h+s),l=this&&this!==Re&&this instanceof a?u:t;++c<h;)f[c]=n[c];for(;s--;)f[c++]=arguments[++r];return i(l,o?e:this,f)}var o=r&Q,u=Zn(t);return a}function na(t){return function(r,e,n){return n&&"number"!=typeof n&&ba(r,e,n)&&(e=n=q),r=cu(r),r=r===r?r:0,e===q?(e=r,r=0):e=cu(e)||0,n=n===q?e>r?1:-1:cu(n)||0,gn(r,e,n,t)}}function aa(t,r,e,n,a,i,o,u,s,c){var h=r&rt,f=u?Ln(u):q,l=h?o:q,p=h?q:o,v=h?i:q,g=h?q:i;r|=h?nt:at,r&=~(h?at:nt),r&tt||(r&=~(Q|J));var m=[t,r,a,v,l,g,p,f,s,c],w=e.apply(q,m);return Sa(t)&&Hc(w,m),w.placeholder=n,w}function ia(t){var r=Ls[t];return function(t,e){if(t=cu(t),e=uu(e)){var n=(lu(t)+"e").split("e"),a=r(n[0]+"e"+(+n[1]+e));return n=(lu(a)+"e").split("e"),+(n[0]+"e"+(+n[1]-e))}return r(t)}}function oa(t,r,e,n,a,i,o,u){var s=r&J;if(!s&&"function"!=typeof t)throw new Hs(yt);var c=n?n.length:0;if(c||(r&=~(nt|at),n=a=q),o=o===q?o:vc(uu(o),0),u=u===q?u:uu(u),c-=a?a.length:0,r&at){var h=n,f=a;n=a=q}var l=s?q:Bc(t),p=[t,r,e,n,a,h,f,i,o,u];if(l&&Aa(p,l),t=p[0],r=p[1],e=p[2],n=p[3],a=p[4],u=p[9]=null==p[9]?s?0:t.length:vc(p[9]-c,0),!u&&r&(rt|et)&&(r&=~(rt|et)),r&&r!=Q)v=r==rt||r==et?qn(t,r,u):r!=nt&&r!=(Q|nt)||a.length?Qn.apply(q,p):ea(t,r,e,n);else var v=Kn(t,r,e);var g=l?Dc:Hc;return g(v,p)}function ua(t,r,e,n,a,i){var o=-1,u=a&ct,s=a&st,c=t.length,h=r.length;if(c!=h&&!(u&&h>c))return!1;var f=i.get(t);if(f)return f==r;var l=!0;for(i.set(t,r);++o<c;){var p=t[o],v=r[o];if(n)var g=u?n(v,p,o,r,t,i):n(p,v,o,t,r,i);if(g!==q){if(g)continue;l=!1;break}if(s){if(!y(r,function(t){return p===t||e(p,t,n,a,i)})){l=!1;break}}else if(p!==v&&!e(p,v,n,a,i)){l=!1;break}}return i["delete"](t),l}function sa(t,r,e,n,a,i){switch(e){case Yt:return!(t.byteLength!=r.byteLength||!n(new Js(t),new Js(r)));case Nt:case jt:return+t==+r;case kt:return t.name==r.name&&t.message==r.message;case Wt:return t!=+t?r!=+r:t==+r;case Lt:case Ht:return t==r+"";case Dt:var o=X;case Mt:var u=i&ct;return o||(o=F),(u||t.size==r.size)&&n(o(t),o(r),a,i|st);case Pt:return!!Qs&&Ac.call(t)==Ac.call(r)}return!1}function ca(t,r,e,n,a,i){var o=a&ct,u=Su(t),s=u.length,c=Su(r),h=c.length;if(s!=h&&!o)return!1;for(var f=s;f--;){var l=u[f];if(!(o?l in r:Ge(r,l)))return!1}var p=i.get(t);if(p)return p==r;var v=!0;i.set(t,r);for(var g=o;++f<s;){l=u[f];var m=t[l],w=r[l];if(n)var y=o?n(w,m,l,r,t,i):n(m,w,l,t,r,i);if(!(y===q?m===w||e(m,w,n,a,i):y)){v=!1;break}g||(g="constructor"==l)}if(v&&!g){var _=t.constructor,d=r.constructor;_!=d&&"constructor"in t&&"constructor"in r&&!("function"==typeof _&&_ instanceof _&&"function"==typeof d&&d instanceof d)&&(v=!1)}return i["delete"](t),v}function ha(t){for(var r=t.name+"",e=Nc[r],n=Ys.call(Nc,r)?e.length:0;n--;){var a=e[n],i=a.func;if(null==i||i==t)return a.name}return r}function fa(){var t=r.iteratee||gs;return t=t===gs?Ve:t,arguments.length?t(arguments[0],arguments[1]):t}function la(t){for(var r=Ru(t),e=r.length;e--;)r[e][2]=Ca(r[e][1]);return r}function pa(t,r){var e=null==t?q:t[r];return Yo(e)?e:q}function va(t){var e=Ys.call(r,"placeholder")?r:t;return e.placeholder}function ga(t){return zs.call(t)}function ma(t,r,e){for(var n=-1,a=e.length;++n<a;){var i=e[n],o=i.size;switch(i.type){case"drop":t+=o;break;case"dropRight":r-=o;break;case"take":r=gc(r,t+o);break;case"takeRight":t=vc(t,r-o)}}return{start:t,end:r}}function wa(t,r,e){if(null==t)return!1;var n=e(t,r);n||Ia(r)||(r=xe(r),t=Na(t,r),null!=t&&(r=Va(r),n=e(t,r)));var a=t?t.length:q;return n||!!a&&Bo(a)&&P(r,a)&&(xh(t)||Qo(t)||Io(t))}function ya(t){var r=t.length,e=t.constructor(r);return r&&"string"==typeof t[0]&&Ys.call(t,"index")&&(e.index=t.index,e.input=t.input),e}function _a(t){return Do(t.constructor)&&!Oa(t)?Ce(ec(t)):{}}function da(t,r,e){var n=t.constructor;switch(r){case Yt:return Nn(t);case Nt:case jt:return new n(+t);case Ft:case Kt:case zt:case $t:case Zt:case qt:case Vt:case Qt:case Jt:return Dn(t,e);case Dt:return jn(t);case Wt:case Ht:return new n(t);case Lt:return kn(t);case Mt:return Un(t);case Pt:return Rn(t)}}function xa(t){var r=t?t.length:q;return Bo(r)&&(xh(t)||Qo(t)||Io(t))?O(r,String):null}function ba(t,r,e){if(!Lo(e))return!1;var n=typeof r;return("number"==n?So(e)&&P(r,e.length):"string"==n&&r in e)?_o(e[r],t):!1}function Ia(t,r){return"number"==typeof t?!0:!xh(t)&&(fr.test(t)||!hr.test(t)||null!=r&&t in Object(r))}function Ta(t){var r=typeof t;return"number"==r||"boolean"==r||"string"==r&&"__proto__"!=t||null==t}function Sa(t){var e=ha(t),n=r[e];if("function"!=typeof n||!(e in Or.prototype))return!1;if(t===n)return!0;var a=Bc(n);return!!a&&t===a[0]}function Oa(t){var r=t&&t.constructor,e=Do(r)&&r.prototype||Gs;return t===e}function Ca(t){return t===t&&!Lo(t)}function Aa(t,r){var e=t[1],n=r[1],a=e|n,i=(Q|J|it)>a,o=n==it&&e==rt||n==it&&e==ot&&t[7].length<=r[8]||n==(it|ot)&&r[7].length<=r[8]&&e==rt;if(!i&&!o)return t;n&Q&&(t[2]=r[2],a|=e&Q?0:tt);var u=r[3];if(u){var s=t[3];t[3]=s?Wn(s,u,r[4]):Ln(u),t[4]=s?Y(t[3],Ct):Ln(r[4])}return u=r[5],u&&(s=t[5],t[5]=s?Bn(s,u,r[6]):Ln(u),t[6]=s?Y(t[5],Ct):Ln(r[6])),u=r[7],u&&(t[7]=Ln(u)),n&it&&(t[8]=null==t[8]?r[8]:gc(t[8],r[8])),null==t[9]&&(t[9]=r[9]),t[0]=r[0],t[1]=a,t}function Ea(t,r,e,n,a,i){return Lo(t)&&Lo(r)&&(i.set(r,t),nn(t,r,q,Ea,i)),t}function Na(t,r){return 1==r.length?t:bu(t,wn(r,0,-1))}function ja(t,r){for(var e=t.length,n=gc(r.length,e),a=Ln(t);n--;){var i=r[n];t[n]=P(i,e)?a[i]:q}return t}function ka(t){var r=[];return lu(t).replace(lr,function(t,e,n,a){r.push(n?a.replace(yr,"$1"):e||t)}),r}function Ua(t){if(t instanceof Or)return t.clone();var r=new k(t.__wrapped__,t.__chain__);return r.__actions__=Ln(t.__actions__),r.__index__=t.__index__,r.__values__=t.__values__,r}function Ra(t,r){r=vc(uu(r),0);var e=t?t.length:0;if(!e||1>r)return[];for(var n=0,a=-1,i=Array(cc(e/r));e>n;)i[++a]=wn(t,n,n+=r);return i}function Da(t){for(var r=-1,e=t?t.length:0,n=-1,a=[];++r<e;){var i=t[r];i&&(a[++n]=i)}return a}function Wa(t,r,e){var n=t?t.length:0;return n?(r=e||r===q?1:uu(r),wn(t,0>r?0:r,n)):[]}function Ba(t,r,e){var n=t?t.length:0;return n?(r=e||r===q?1:uu(r),r=n-r,wn(t,0,0>r?0:r)):[]}function La(t,r){return t&&t.length?Sn(t,fa(r,3),!0,!0):[]}function Ma(t,r){return t&&t.length?Sn(t,fa(r,3),!0):[]}function Ha(t,r,e,n){var a=t?t.length:0;return a?(e&&"number"!=typeof e&&ba(t,r,e)&&(e=0,n=a),ke(t,r,e,n)):[]}function Pa(t,r){return t&&t.length?x(t,fa(r,3)):-1}function Ga(t,r){return t&&t.length?x(t,fa(r,3),!0):-1}function Xa(t){var r=t?t.length:0;return r?We(t,1):[]}function Ya(t){var r=t?t.length:0;return r?We(t,dt):[]}function Fa(t,r){var e=t?t.length:0;return e?(r=r===q?1:uu(r),We(t,r)):[]}function Ka(t){for(var r=-1,e=t?t.length:0,n={};++r<e;){var a=t[r];n[a[0]]=a[1]}return n}function za(t){return t?t[0]:q}function $a(t,r,e){var n=t?t.length:0;return n?(e=uu(e),0>e&&(e=vc(n+e,0)),b(t,r,e)):-1}function Za(t){return Ba(t,1)}function qa(t,r){return t?lc.call(t,r):""}function Va(t){var r=t?t.length:0;return r?t[r-1]:q}function Qa(t,r,e){var n=t?t.length:0;if(!n)return-1;var a=n;if(e!==q&&(a=uu(e),a=(0>a?vc(n+a,0):gc(a,n-1))+1),r!==r)return M(t,a,!0);for(;a--;)if(t[a]===r)return a;return-1}function Ja(t,r){return t&&t.length&&r&&r.length?fn(t,r):t}function ti(t,r,e){return t&&t.length&&r&&r.length?ln(t,r,fa(e)):t}function ri(t,r){var e=[];if(!t||!t.length)return e;var n=-1,a=[],i=t.length;for(r=fa(r,3);++n<i;){var o=t[n];r(o,n,t)&&(e.push(o),a.push(n))}return pn(t,a),e}function ei(t){return t?yc.call(t):t}function ni(t,r,e){var n=t?t.length:0;return n?(e&&"number"!=typeof e&&ba(t,r,e)?(r=0,e=n):(r=null==r?0:uu(r),e=e===q?n:uu(e)),wn(t,r,e)):[]}function ai(t,r){return _n(t,r)}function ii(t,r,e){return dn(t,r,fa(e))}function oi(t,r){var e=t?t.length:0;if(e){var n=_n(t,r);if(e>n&&_o(t[n],r))return n}return-1}function ui(t,r){return _n(t,r,!0)}function si(t,r,e){return dn(t,r,fa(e),!0)}function ci(t,r){var e=t?t.length:0;if(e){var n=_n(t,r,!0)-1;if(_o(t[n],r))return n}return-1}function hi(t){return t&&t.length?xn(t):[]}function fi(t,r){return t&&t.length?bn(t,fa(r)):[]}function li(t){return Wa(t,1)}function pi(t,r,e){return t&&t.length?(r=e||r===q?1:uu(r),wn(t,0,0>r?0:r)):[]}function vi(t,r,e){var n=t?t.length:0;return n?(r=e||r===q?1:uu(r),r=n-r,wn(t,0>r?0:r,n)):[]}function gi(t,r){return t&&t.length?Sn(t,fa(r,3),!1,!0):[]}function mi(t,r){return t&&t.length?Sn(t,fa(r,3)):[]}function wi(t){return t&&t.length?In(t):[]}function yi(t,r){return t&&t.length?In(t,fa(r)):[]}function _i(t,r){return t&&t.length?In(t,q,r):[]}function di(t){if(!t||!t.length)return[];var r=0;return t=f(t,function(t){return Oo(t)?(r=vc(t.length,r),!0):void 0}),O(r,function(r){return v(t,cn(r))})}function xi(t,r){if(!t||!t.length)return[];var e=di(t);return null==r?e:v(e,function(t){return i(r,q,t)})}function bi(t,r){return An(t||[],r||[],oe)}function Ii(t,r){return An(t||[],r||[],mn)}function Ti(t){var e=r(t);return e.__chain__=!0,e}function Si(t,r){return r(t),t}function Oi(t,r){return r(t)}function Ci(){return Ti(this)}function Ai(){return new k(this.value(),this.__chain__)}function Ei(t){return this.map(t).flatten()}function Ni(){this.__values__===q&&(this.__values__=ou(this.value()));var t=this.__index__>=this.__values__.length,r=t?q:this.__values__[this.__index__++];return{done:t,value:r}}function ji(){return this}function ki(t){for(var r,n=this;n instanceof e;){var a=Ua(n);a.__index__=0,a.__values__=q,r?i.__wrapped__=a:r=a;var i=a;n=n.__wrapped__}return i.__wrapped__=t,r}function Ui(){var t=this.__wrapped__;if(t instanceof Or){var r=t;return this.__actions__.length&&(r=new Or(this)),r=r.reverse(),r.__actions__.push({func:Oi,args:[ei],thisArg:q}),new k(r,this.__chain__)}return this.thru(ei)}function Ri(){return On(this.__wrapped__,this.__actions__)}function Di(t,r,e){var n=xh(t)?h:je;return e&&ba(t,r,e)&&(r=q),n(t,fa(r,3))}function Wi(t,r){var e=xh(t)?f:Ue;return e(t,fa(r,3))}function Bi(t,r){if(r=fa(r,3),xh(t)){var e=x(t,r);return e>-1?t[e]:q}return d(t,r,jc)}function Li(t,r){if(r=fa(r,3),xh(t)){var e=x(t,r,!0);return e>-1?t[e]:q}return d(t,r,kc)}function Mi(t,r){return We(Xi(t,r),1)}function Hi(t,r){return"function"==typeof r&&xh(t)?s(t,r):jc(t,de(r))}function Pi(t,r){return"function"==typeof r&&xh(t)?c(t,r):kc(t,de(r))}function Gi(t,r,e,n){t=So(t)?t:Lu(t),e=e&&!n?uu(e):0;var a=t.length;return 0>e&&(e=vc(a+e,0)),Qo(t)?a>=e&&t.indexOf(r,e)>-1:!!a&&b(t,r,e)>-1}function Xi(t,r){var e=xh(t)?v:tn;return e(t,fa(r,3))}function Yi(t,r,e,n){return null==t?[]:(xh(r)||(r=null==r?[]:[r]),e=n?q:e,xh(e)||(e=null==e?[]:[e]),on(t,r,e))}function Fi(t,r,e){var n=xh(t)?m:I,a=arguments.length<3;return n(t,fa(r,4),e,a,jc)}function Ki(t,r,e){var n=xh(t)?w:I,a=arguments.length<3;return n(t,fa(r,4),e,a,kc)}function zi(t,r){var e=xh(t)?f:Ue;return r=fa(r,3),e(t,function(t,e,n){return!r(t,e,n)})}function $i(t){var r=So(t)?t:Lu(t),e=r.length;return e>0?r[vn(0,e-1)]:q}function Zi(t,r){var e=-1,n=ou(t),a=n.length,i=a-1;for(r=be(uu(r),0,a);++e<r;){var o=vn(e,i),u=n[o];n[o]=n[e],n[e]=u}return n.length=r,n}function qi(t){return Zi(t,Tt)}function Vi(t){if(null==t)return 0;if(So(t)){var r=t.length;return r&&Qo(t)?K(t):r}return Su(t).length}function Qi(t,r,e){var n=xh(t)?y:yn;return e&&ba(t,r,e)&&(r=q),n(t,fa(r,3))}function Ji(t,r){if("function"!=typeof r)throw new Hs(yt);return t=uu(t),function(){return--t<1?r.apply(this,arguments):void 0}}function to(t,r,e){return r=e?q:r,r=t&&null==r?t.length:r,oa(t,it,q,q,q,q,r)}function ro(t,r){var e;if("function"!=typeof r)throw new Hs(yt);return t=uu(t),function(){return--t>0&&(e=r.apply(this,arguments)),1>=t&&(r=q),e}}function eo(t,r,e){r=e?q:r;var n=oa(t,rt,q,q,q,q,q,r);return n.placeholder=eo.placeholder,n}function no(t,r,e){r=e?q:r;var n=oa(t,et,q,q,q,q,q,r);return n.placeholder=no.placeholder,n}function ao(t,r,e){function n(){v&&tc(v),h&&tc(h),m=0,c=h=p=v=g=q}function a(r,e){e&&tc(e),h=v=g=q,r&&(m=lh(),f=t.apply(p,c),v||h||(c=p=q))}function i(){var t=r-(lh()-l);0>=t||t>r?a(g,h):v=uc(i,t)}function o(){return(v&&g||h&&_)&&(f=t.apply(p,c)),n(),f}function u(){a(_,v)}function s(){if(c=arguments,l=lh(),p=this,g=_&&(v||!w),y===!1)var e=w&&!v;else{m||h||w||(m=l);var n=y-(l-m),a=(0>=n||n>y)&&(w||h);a?(h&&(h=tc(h)),m=l,f=t.apply(p,c)):h||(h=uc(u,n))}return a&&v?v=tc(v):v||r===y||(v=uc(i,r)),
e&&(a=!0,f=t.apply(p,c)),!a||v||h||(c=p=q),f}var c,h,f,l,p,v,g,m=0,w=!1,y=!1,_=!0;if("function"!=typeof t)throw new Hs(yt);return r=cu(r)||0,Lo(e)&&(w=!!e.leading,y="maxWait"in e&&vc(cu(e.maxWait)||0,r),_="trailing"in e?!!e.trailing:_),s.cancel=n,s.flush=o,s}function io(t){return oa(t,ut)}function oo(t,r){if("function"!=typeof t||r&&"function"!=typeof r)throw new Hs(yt);var e=function(){var n=arguments,a=r?r.apply(this,n):n[0],i=e.cache;if(i.has(a))return i.get(a);var o=t.apply(this,n);return e.cache=i.set(a,o),o};return e.cache=new oo.Cache,e}function uo(t){if("function"!=typeof t)throw new Hs(yt);return function(){return!t.apply(this,arguments)}}function so(t){return ro(2,t)}function co(t,r){if("function"!=typeof t)throw new Hs(yt);return r=vc(r===q?t.length-1:uu(r),0),function(){for(var e=arguments,n=-1,a=vc(e.length-r,0),o=Array(a);++n<a;)o[n]=e[r+n];switch(r){case 0:return t.call(this,o);case 1:return t.call(this,e[0],o);case 2:return t.call(this,e[0],e[1],o)}var u=Array(r+1);for(n=-1;++n<r;)u[n]=e[n];return u[r]=o,i(t,this,u)}}function ho(t,r){if("function"!=typeof t)throw new Hs(yt);return r=r===q?0:vc(uu(r),0),co(function(e){var n=e[r],a=e.slice(0,r);return n&&g(a,n),i(t,this,a)})}function fo(t,r,e){var n=!0,a=!0;if("function"!=typeof t)throw new Hs(yt);return Lo(e)&&(n="leading"in e?!!e.leading:n,a="trailing"in e?!!e.trailing:a),ao(t,r,{leading:n,maxWait:r,trailing:a})}function lo(t){return to(t,1)}function po(t,r){return r=null==r?vs:r,yh(r,t)}function vo(){if(!arguments.length)return[];var t=arguments[0];return xh(t)?t:[t]}function go(t){return Ie(t)}function mo(t,r){return Ie(t,!1,r)}function wo(t){return Ie(t,!0)}function yo(t,r){return Ie(t,!0,r)}function _o(t,r){return t===r||t!==t&&r!==r}function xo(t,r){return t>r}function bo(t,r){return t>=r}function Io(t){return Oo(t)&&Ys.call(t,"callee")&&(!oc.call(t,"callee")||zs.call(t)==At)}function To(t){return Mo(t)&&zs.call(t)==Yt}function So(t){return null!=t&&!("function"==typeof t&&Do(t))&&Bo(Lc(t))}function Oo(t){return Mo(t)&&So(t)}function Co(t){return t===!0||t===!1||Mo(t)&&zs.call(t)==Nt}function Ao(t){return Mo(t)&&zs.call(t)==jt}function Eo(t){return!!t&&1===t.nodeType&&Mo(t)&&!$o(t)}function No(t){if(So(t)&&(xh(t)||Qo(t)||Do(t.splice)||Io(t)))return!t.length;for(var r in t)if(Ys.call(t,r))return!1;return!0}function jo(t,r){return $e(t,r)}function ko(t,r,e){e="function"==typeof e?e:q;var n=e?e(t,r):q;return n===q?$e(t,r,e):!!n}function Uo(t){return Mo(t)?zs.call(t)==kt||"string"==typeof t.message&&"string"==typeof t.name:!1}function Ro(t){return"number"==typeof t&&fc(t)}function Do(t){var r=Lo(t)?zs.call(t):"";return r==Ut||r==Rt}function Wo(t){return"number"==typeof t&&t==uu(t)}function Bo(t){return"number"==typeof t&&t>-1&&t%1==0&&xt>=t}function Lo(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}function Mo(t){return!!t&&"object"==typeof t}function Ho(t){return Mo(t)&&ga(t)==Dt}function Po(t,r){return t===r||qe(t,r,la(r))}function Go(t,r,e){return e="function"==typeof e?e:q,qe(t,r,la(r),e)}function Xo(t){return zo(t)&&t!=+t}function Yo(t){return null==t?!1:Do(t)?Zs.test(Xs.call(t)):Mo(t)&&(H(t)?Zs:Tr).test(t)}function Fo(t){return null===t}function Ko(t){return null==t}function zo(t){return"number"==typeof t||Mo(t)&&zs.call(t)==Wt}function $o(t){if(!Mo(t)||zs.call(t)!=Bt||H(t))return!1;var r=ec(t);if(null===r)return!0;var e=r.constructor;return"function"==typeof e&&e instanceof e&&Xs.call(e)==Ks}function Zo(t){return Lo(t)&&zs.call(t)==Lt}function qo(t){return Wo(t)&&t>=-xt&&xt>=t}function Vo(t){return Mo(t)&&ga(t)==Mt}function Qo(t){return"string"==typeof t||!xh(t)&&Mo(t)&&zs.call(t)==Ht}function Jo(t){return"symbol"==typeof t||Mo(t)&&zs.call(t)==Pt}function tu(t){return Mo(t)&&Bo(t.length)&&!!ye[zs.call(t)]}function ru(t){return t===q}function eu(t){return Mo(t)&&ga(t)==Gt}function nu(t){return Mo(t)&&zs.call(t)==Xt}function au(t,r){return r>t}function iu(t,r){return r>=t}function ou(t){if(!t)return[];if(So(t))return Qo(t)?z(t):Ln(t);if(ac&&t[ac])return G(t[ac]());var r=ga(t),e=r==Dt?X:r==Mt?F:Lu;return e(t)}function uu(t){if(!t)return 0===t?t:0;if(t=cu(t),t===dt||t===-dt){var r=0>t?-1:1;return r*bt}var e=t%1;return t===t?e?t-e:t:0}function su(t){return t?be(uu(t),0,Tt):0}function cu(t){if(Lo(t)){var r=Do(t.valueOf)?t.valueOf():t;t=Lo(r)?r+"":r}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(gr,"");var e=Ir.test(t);return e||Sr.test(t)?Oe(t.slice(2),e?2:8):br.test(t)?It:+t}function hu(t){return Mn(t,Ou(t))}function fu(t){return be(uu(t),-xt,xt)}function lu(t){if("string"==typeof t)return t;if(null==t)return"";if(Jo(t))return Qs?Ec.call(t):"";var r=t+"";return"0"==r&&1/t==-dt?"-0":r}function pu(t,r){var e=Ce(t);return r?se(e,r):e}function vu(t,r){return d(t,fa(r,3),Le,!0)}function gu(t,r){return d(t,fa(r,3),Me,!0)}function mu(t,r){return null==t?t:Uc(t,de(r),Ou)}function wu(t,r){return null==t?t:Rc(t,de(r),Ou)}function yu(t,r){return t&&Le(t,de(r))}function _u(t,r){return t&&Me(t,de(r))}function du(t){return null==t?[]:He(t,Su(t))}function xu(t){return null==t?[]:He(t,Ou(t))}function bu(t,r,e){var n=null==t?q:Pe(t,r);return n===q?e:n}function Iu(t,r){return wa(t,r,Ge)}function Tu(t,r){return wa(t,r,Xe)}function Su(t){var r=Oa(t);if(!r&&!So(t))return Qe(t);var e=xa(t),n=!!e,a=e||[],i=a.length;for(var o in t)!Ge(t,o)||n&&("length"==o||P(o,i))||r&&"constructor"==o||a.push(o);return a}function Ou(t){for(var r=-1,e=Oa(t),n=Je(t),a=n.length,i=xa(t),o=!!i,u=i||[],s=u.length;++r<a;){var c=n[r];o&&("length"==c||P(c,s))||"constructor"==c&&(e||!Ys.call(t,c))||u.push(c)}return u}function Cu(t,r){var e={};return r=fa(r,3),Le(t,function(t,n,a){e[r(t,n,a)]=t}),e}function Au(t,r){var e={};return r=fa(r,3),Le(t,function(t,n,a){e[n]=r(t,n,a)}),e}function Eu(t,r){return r=fa(r),sn(t,function(t,e){return!r(t,e)})}function Nu(t,r){return null==t?{}:sn(t,fa(r))}function ju(t,r,e){if(Ia(r,t))n=null==t?q:t[r];else{r=xe(r);var n=bu(t,r);t=Na(t,r)}return n===q&&(n=e),Do(n)?n.call(t):n}function ku(t,r,e){return null==t?t:mn(t,r,e)}function Uu(t,r,e,n){return n="function"==typeof n?n:q,null==t?t:mn(t,r,e,n)}function Ru(t){return C(t,Su(t))}function Du(t){return C(t,Ou(t))}function Wu(t,r,e){var n=xh(t)||tu(t);if(r=fa(r,4),null==e)if(n||Lo(t)){var a=t.constructor;e=n?xh(t)?new a:[]:Do(a)?Ce(ec(t)):{}}else e={};return(n?s:Le)(t,function(t,n,a){return r(e,t,n,a)}),e}function Bu(t,r){return null==t?!0:Tn(t,r)}function Lu(t){return t?E(t,Su(t)):[]}function Mu(t){return null==t?[]:E(t,Ou(t))}function Hu(t,r,e){return e===q&&(e=r,r=q),e!==q&&(e=cu(e),e=e===e?e:0),r!==q&&(r=cu(r),r=r===r?r:0),be(cu(t),r,e)}function Pu(t,r,e){return r=cu(r)||0,e===q?(e=r,r=0):e=cu(e)||0,t=cu(t),Ye(t,r,e)}function Gu(t,r,e){if(e&&"boolean"!=typeof e&&ba(t,r,e)&&(r=e=q),e===q&&("boolean"==typeof r?(e=r,r=q):"boolean"==typeof t&&(e=t,t=q)),t===q&&r===q?(t=0,r=1):(t=cu(t)||0,r===q?(r=t,t=0):r=cu(r)||0),t>r){var n=t;t=r,r=n}if(e||t%1||r%1){var a=wc();return gc(t+a*(r-t+Se("1e-"+((a+"").length-1))),r)}return vn(t,r)}function Xu(t){return Ph(lu(t).toLowerCase())}function Yu(t){return t=lu(t),t&&t.replace(Cr,W).replace(he,"")}function Fu(t,r,e){t=lu(t),r="string"==typeof r?r:r+"";var n=t.length;return e=e===q?n:be(uu(e),0,n),e-=r.length,e>=0&&t.indexOf(r,e)==e}function Ku(t){return t=lu(t),t&&or.test(t)?t.replace(ar,B):t}function zu(t){return t=lu(t),t&&vr.test(t)?t.replace(pr,"\\$&"):t}function $u(t,r,e){t=lu(t),r=uu(r);var n=K(t);if(!r||n>=r)return t;var a=(r-n)/2,i=hc(a),o=cc(a);return ra("",i,e)+t+ra("",o,e)}function Zu(t,r,e){return t=lu(t),t+ra(t,r,e)}function qu(t,r,e){return t=lu(t),ra(t,r,e)+t}function Vu(t,r,e){return e||null==r?r=0:r&&(r=+r),t=lu(t).replace(gr,""),mc(t,r||(xr.test(t)?16:10))}function Qu(t,r){t=lu(t),r=uu(r);var e="";if(!t||1>r||r>xt)return e;do r%2&&(e+=t),r=hc(r/2),t+=t;while(r);return e}function Ju(){var t=arguments,r=lu(t[0]);return t.length<3?r:r.replace(t[1],t[2])}function ts(t,r,e){return lu(t).split(r,e)}function rs(t,r,e){return t=lu(t),e=be(uu(e),0,t.length),t.lastIndexOf(r,e)==e}function es(t,e,n){var a=r.templateSettings;n&&ba(t,e,n)&&(e=q),t=lu(t),e=Sh({},e,a,ae);var i,o,u=Sh({},e.imports,a.imports,ae),s=Su(u),c=E(u,s),h=0,f=e.interpolate||Ar,l="__p += '",p=Ms((e.escape||Ar).source+"|"+f.source+"|"+(f===cr?_r:Ar).source+"|"+(e.evaluate||Ar).source+"|$","g"),v="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++we+"]")+"\n";t.replace(p,function(r,e,n,a,u,s){return n||(n=a),l+=t.slice(h,s).replace(Er,L),e&&(i=!0,l+="' +\n__e("+e+") +\n'"),u&&(o=!0,l+="';\n"+u+";\n__p += '"),n&&(l+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),h=s+r.length,r}),l+="';\n";var g=e.variable;g||(l="with (obj) {\n"+l+"\n}\n"),l=(o?l.replace(tr,""):l).replace(rr,"$1").replace(er,"$1;"),l="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var m=Fh(function(){return Function(s,v+"return "+l).apply(q,c)});if(m.source=l,Uo(m))throw m;return m}function ns(t){return lu(t).toLowerCase()}function as(t){return lu(t).toUpperCase()}function is(t,r,e){if(t=lu(t),!t)return t;if(e||r===q)return t.replace(gr,"");if(r+="",!r)return t;var n=z(t),a=z(r);return n.slice(N(n,a),j(n,a)+1).join("")}function os(t,r,e){if(t=lu(t),!t)return t;if(e||r===q)return t.replace(wr,"");if(r+="",!r)return t;var n=z(t);return n.slice(0,j(n,z(r))+1).join("")}function us(t,r,e){if(t=lu(t),!t)return t;if(e||r===q)return t.replace(mr,"");if(r+="",!r)return t;var n=z(t);return n.slice(N(n,z(r))).join("")}function ss(t,r){var e=ht,n=ft;if(Lo(r)){var a="separator"in r?r.separator:a;e="length"in r?uu(r.length):e,n="omission"in r?lu(r.omission):n}t=lu(t);var i=t.length;if(le.test(t)){var o=z(t);i=o.length}if(e>=i)return t;var u=e-K(n);if(1>u)return n;var s=o?o.slice(0,u).join(""):t.slice(0,u);if(a===q)return s+n;if(o&&(u+=s.length-u),Zo(a)){if(t.slice(u).search(a)){var c,h=s;for(a.global||(a=Ms(a.source,lu(dr.exec(a))+"g")),a.lastIndex=0;c=a.exec(h);)var f=c.index;s=s.slice(0,f===q?u:f)}}else if(t.indexOf(a,u)!=u){var l=s.lastIndexOf(a);l>-1&&(s=s.slice(0,l))}return s+n}function cs(t){return t=lu(t),t&&ir.test(t)?t.replace(nr,$):t}function hs(t,r,e){return t=lu(t),r=e?q:r,r===q&&(r=ge.test(t)?ve:pe),t.match(r)||[]}function fs(t){var r=t?t.length:0,e=fa();return t=r?v(t,function(t){if("function"!=typeof t[1])throw new Hs(yt);return[e(t[0]),t[1]]}):[],co(function(e){for(var n=-1;++n<r;){var a=t[n];if(i(a[0],this,e))return i(a[1],this,e)}})}function ls(t){return Te(Ie(t,!0))}function ps(t){return function(){return t}}function vs(t){return t}function gs(t){return Ve("function"==typeof t?t:Ie(t,!0))}function ms(t){return rn(Ie(t,!0))}function ws(t,r){return en(t,Ie(r,!0))}function ys(t,r,e){var n=Su(r),a=He(r,n);null!=e||Lo(r)&&(a.length||!n.length)||(e=r,r=t,t=this,a=He(r,Su(r)));var i=Lo(e)&&"chain"in e?e.chain:!0,o=Do(t);return s(a,function(e){var n=r[e];t[e]=n,o&&(t.prototype[e]=function(){var r=this.__chain__;if(i||r){var e=t(this.__wrapped__),a=e.__actions__=Ln(this.__actions__);return a.push({func:n,args:arguments,thisArg:t}),e.__chain__=r,e}return n.apply(t,g([this.value()],arguments))})}),t}function _s(){return Re._===this&&(Re._=$s),this}function ds(){}function xs(t){return t=uu(t),function(){return arguments[t]}}function bs(t){return Ia(t)?cn(t):hn(t)}function Is(t){return function(r){return null==t?q:Pe(t,r)}}function Ts(t,r){if(t=uu(t),1>t||t>xt)return[];var e=Tt,n=gc(t,Tt);r=de(r),t-=Tt;for(var a=O(n,r);++e<t;)r(e);return a}function Ss(t){return xh(t)?v(t,String):ka(t)}function Os(t){var r=++Fs;return lu(t)+r}function Cs(t,r){var e;return t===q&&r===q?0:(t!==q&&(e=t),r!==q&&(e=e===q?r:e+r),e)}function As(t){return t&&t.length?_(t,vs,xo):q}function Es(t,r){return t&&t.length?_(t,fa(r),xo):q}function Ns(t){return Rs(t)/(t?t.length:0)}function js(t){return t&&t.length?_(t,vs,au):q}function ks(t,r){return t&&t.length?_(t,fa(r),au):q}function Us(t,r){var e;return t===q&&r===q?0:(t!==q&&(e=t),r!==q&&(e=e===q?r:e-r),e)}function Rs(t){return t&&t.length?S(t,vs):0}function Ds(t,r){return t&&t.length?S(t,fa(r)):0}t=t?De.defaults({},t,De.pick(Re,me)):Re;var Ws=t.Date,Bs=t.Error,Ls=t.Math,Ms=t.RegExp,Hs=t.TypeError,Ps=t.Array.prototype,Gs=t.Object.prototype,Xs=t.Function.prototype.toString,Ys=Gs.hasOwnProperty,Fs=0,Ks=Xs.call(Object),zs=Gs.toString,$s=Re._,Zs=Ms("^"+Xs.call(Ys).replace(pr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),qs=Ee?t.Buffer:q,Vs=t.Reflect,Qs=t.Symbol,Js=t.Uint8Array,tc=t.clearTimeout,rc=Vs?Vs.enumerate:q,ec=Object.getPrototypeOf,nc=Object.getOwnPropertySymbols,ac="symbol"==typeof(ac=Qs&&Qs.iterator)?ac:q,ic=Object.create,oc=Gs.propertyIsEnumerable,uc=t.setTimeout,sc=Ps.splice,cc=Ls.ceil,hc=Ls.floor,fc=t.isFinite,lc=Ps.join,pc=Object.keys,vc=Ls.max,gc=Ls.min,mc=t.parseInt,wc=Ls.random,yc=Ps.reverse,_c=pa(t,"Map"),dc=pa(t,"Set"),xc=pa(t,"WeakMap"),bc=pa(Object,"create"),Ic=xc&&new xc,Tc=_c?Xs.call(_c):"",Sc=dc?Xs.call(dc):"",Oc=xc?Xs.call(xc):"",Cc=Qs?Qs.prototype:q,Ac=Qs?Cc.valueOf:q,Ec=Qs?Cc.toString:q,Nc={};r.templateSettings={escape:ur,evaluate:sr,interpolate:cr,variable:"",imports:{_:r}};var jc=Yn(Le),kc=Yn(Me,!0),Uc=Fn(),Rc=Fn(!0);rc&&!oc.call({valueOf:1},"valueOf")&&(Je=function(t){return G(rc(t))});var Dc=Ic?function(t,r){return Ic.set(t,r),t}:vs,Wc=dc&&2===new dc([1,2]).size?function(t){return new dc(t)}:ds,Bc=Ic?function(t){return Ic.get(t)}:ds,Lc=cn("length"),Mc=nc||function(){return[]};(_c&&ga(new _c)!=Dt||dc&&ga(new dc)!=Mt||xc&&ga(new xc)!=Gt)&&(ga=function(t){var r=zs.call(t),e=r==Bt?t.constructor:null,n="function"==typeof e?Xs.call(e):"";if(n)switch(n){case Tc:return Dt;case Sc:return Mt;case Oc:return Gt}return r});var Hc=function(){var t=0,r=0;return function(e,n){var a=lh(),i=pt-(a-r);if(r=a,i>0){if(++t>=lt)return e}else t=0;return Dc(e,n)}}(),Pc=co(function(t,r){return xh(t)||(t=null==t?[]:[Object(t)]),r=We(r,1),u(t,r)}),Gc=co(function(t,r){return Oo(t)?Ne(t,We(r,1,!0)):[]}),Xc=co(function(t,r){var e=Va(r);return Oo(e)&&(e=q),Oo(t)?Ne(t,We(r,1,!0),fa(e)):[]}),Yc=co(function(t,r){var e=Va(r);return Oo(e)&&(e=q),Oo(t)?Ne(t,We(r,1,!0),q,e):[]}),Fc=co(function(t){var r=v(t,fe);return r.length&&r[0]===t[0]?Fe(r):[]}),Kc=co(function(t){var r=Va(t),e=v(t,fe);return r===Va(e)?r=q:e.pop(),e.length&&e[0]===t[0]?Fe(e,fa(r)):[]}),zc=co(function(t){var r=Va(t),e=v(t,fe);return r===Va(e)?r=q:e.pop(),e.length&&e[0]===t[0]?Fe(e,q,r):[]}),$c=co(Ja),Zc=co(function(t,r){r=v(We(r,1),String);var e=ce(t,r);return pn(t,r.sort(U)),e}),qc=co(function(t){return In(We(t,1,!0))}),Vc=co(function(t){var r=Va(t);return Oo(r)&&(r=q),In(We(t,1,!0),fa(r))}),Qc=co(function(t){var r=Va(t);return Oo(r)&&(r=q),In(We(t,1,!0),q,r)}),Jc=co(function(t,r){return Oo(t)?Ne(t,r):[]}),th=co(function(t){return Cn(f(t,Oo))}),rh=co(function(t){var r=Va(t);return Oo(r)&&(r=q),Cn(f(t,Oo),fa(r))}),eh=co(function(t){var r=Va(t);return Oo(r)&&(r=q),Cn(f(t,Oo),q,r)}),nh=co(di),ah=co(function(t){var r=t.length,e=r>1?t[r-1]:q;return e="function"==typeof e?(t.pop(),e):q,xi(t,e)}),ih=co(function(t){t=We(t,1);var r=t.length,e=r?t[0]:0,n=this.__wrapped__,a=function(r){return ce(r,t)};return!(r>1||this.__actions__.length)&&n instanceof Or&&P(e)?(n=n.slice(e,+e+(r?1:0)),n.__actions__.push({func:Oi,args:[a],thisArg:q}),new k(n,this.__chain__).thru(function(t){return r&&!t.length&&t.push(q),t})):this.thru(a)}),oh=Gn(function(t,r,e){Ys.call(t,e)?++t[e]:t[e]=1}),uh=Gn(function(t,r,e){Ys.call(t,e)?t[e].push(r):t[e]=[r]}),sh=co(function(t,r,e){var n=-1,a="function"==typeof r,o=Ia(r),u=So(t)?Array(t.length):[];return jc(t,function(t){var s=a?r:o&&null!=t?t[r]:q;u[++n]=s?i(s,t,e):ze(t,r,e)}),u}),ch=Gn(function(t,r,e){t[e]=r}),hh=Gn(function(t,r,e){t[e?0:1].push(r)},function(){return[[],[]]}),fh=co(function(t,r){if(null==t)return[];var e=r.length;return e>1&&ba(t,r[0],r[1])?r=[]:e>2&&ba(r[0],r[1],r[2])&&(r.length=1),on(t,We(r,1),[])}),lh=Ws.now,ph=co(function(t,r,e){var n=Q;if(e.length){var a=Y(e,va(ph));n|=nt}return oa(t,n,r,e,a)}),vh=co(function(t,r,e){var n=Q|J;if(e.length){var a=Y(e,va(vh));n|=nt}return oa(r,n,t,e,a)}),gh=co(function(t,r){return Ae(t,1,r)}),mh=co(function(t,r,e){return Ae(t,cu(r)||0,e)}),wh=co(function(t,r){r=v(We(r,1),fa());var e=r.length;return co(function(n){for(var a=-1,o=gc(n.length,e);++a<o;)n[a]=r[a].call(this,n[a]);return i(t,this,n)})}),yh=co(function(t,r){var e=Y(r,va(yh));return oa(t,nt,q,r,e)}),_h=co(function(t,r){var e=Y(r,va(_h));return oa(t,at,q,r,e)}),dh=co(function(t,r){return oa(t,ot,q,q,q,We(r,1))}),xh=Array.isArray,bh=qs?function(t){return t instanceof qs}:ps(!1),Ih=Xn(function(t,r){Mn(r,Su(r),t)}),Th=Xn(function(t,r){Mn(r,Ou(r),t)}),Sh=Xn(function(t,r,e,n){Hn(r,Ou(r),t,n)}),Oh=Xn(function(t,r,e,n){Hn(r,Su(r),t,n)}),Ch=co(function(t,r){return ce(t,We(r,1))}),Ah=co(function(t){return t.push(q,ae),i(Sh,q,t)}),Eh=co(function(t){return t.push(q,Ea),i(Rh,q,t)}),Nh=Jn(function(t,r,e){t[r]=e},ps(vs)),jh=Jn(function(t,r,e){Ys.call(t,r)?t[r].push(e):t[r]=[e]},fa),kh=co(ze),Uh=Xn(function(t,r,e){nn(t,r,e)}),Rh=Xn(function(t,r,e,n){nn(t,r,e,n)}),Dh=co(function(t,r){return null==t?{}:(r=v(We(r,1),String),un(t,Ne(Ou(t),r)))}),Wh=co(function(t,r){return null==t?{}:un(t,We(r,1))}),Bh=$n(function(t,r,e){return r=r.toLowerCase(),t+(e?Xu(r):r)}),Lh=$n(function(t,r,e){return t+(e?"-":"")+r.toLowerCase()}),Mh=$n(function(t,r,e){return t+(e?" ":"")+r.toLowerCase()}),Hh=zn("toLowerCase"),Ph=zn("toUpperCase"),Gh=$n(function(t,r,e){return t+(e?"_":"")+r.toLowerCase()}),Xh=$n(function(t,r,e){return t+(e?" ":"")+Xu(r)}),Yh=$n(function(t,r,e){return t+(e?" ":"")+r.toUpperCase()}),Fh=co(function(t,r){try{return i(t,q,r)}catch(e){return Uo(e)?e:new Bs(e)}}),Kh=co(function(t,r){return s(We(r,1),function(r){t[r]=ph(t[r],t)}),t}),zh=Vn(),$h=Vn(!0),Zh=co(function(t,r){return function(e){return ze(e,t,r)}}),qh=co(function(t,r){return function(e){return ze(t,e,r)}}),Vh=ta(v),Qh=ta(h),Jh=ta(y),tf=na(),rf=na(!0),ef=ia("ceil"),nf=ia("floor"),af=ia("round");return r.prototype=e.prototype,k.prototype=Ce(e.prototype),k.prototype.constructor=k,Or.prototype=Ce(e.prototype),Or.prototype.constructor=Or,Ur.prototype=bc?bc(null):Gs,Lr.prototype.clear=Mr,Lr.prototype["delete"]=Hr,Lr.prototype.get=Pr,Lr.prototype.has=Gr,Lr.prototype.set=Xr,Yr.prototype.push=Kr,zr.prototype.clear=$r,zr.prototype["delete"]=Zr,zr.prototype.get=qr,zr.prototype.has=Vr,zr.prototype.set=Qr,oo.Cache=Lr,r.after=Ji,r.ary=to,r.assign=Ih,r.assignIn=Th,r.assignInWith=Sh,r.assignWith=Oh,r.at=Ch,r.before=ro,r.bind=ph,r.bindAll=Kh,r.bindKey=vh,r.castArray=vo,r.chain=Ti,r.chunk=Ra,r.compact=Da,r.concat=Pc,r.cond=fs,r.conforms=ls,r.constant=ps,r.countBy=oh,r.create=pu,r.curry=eo,r.curryRight=no,r.debounce=ao,r.defaults=Ah,r.defaultsDeep=Eh,r.defer=gh,r.delay=mh,r.difference=Gc,r.differenceBy=Xc,r.differenceWith=Yc,r.drop=Wa,r.dropRight=Ba,r.dropRightWhile=La,r.dropWhile=Ma,r.fill=Ha,r.filter=Wi,r.flatMap=Mi,r.flatten=Xa,r.flattenDeep=Ya,r.flattenDepth=Fa,r.flip=io,r.flow=zh,r.flowRight=$h,r.fromPairs=Ka,r.functions=du,r.functionsIn=xu,r.groupBy=uh,r.initial=Za,r.intersection=Fc,r.intersectionBy=Kc,r.intersectionWith=zc,r.invert=Nh,r.invertBy=jh,r.invokeMap=sh,r.iteratee=gs,r.keyBy=ch,r.keys=Su,r.keysIn=Ou,r.map=Xi,r.mapKeys=Cu,r.mapValues=Au,r.matches=ms,r.matchesProperty=ws,r.memoize=oo,r.merge=Uh,r.mergeWith=Rh,r.method=Zh,r.methodOf=qh,r.mixin=ys,r.negate=uo,r.nthArg=xs,r.omit=Dh,r.omitBy=Eu,r.once=so,r.orderBy=Yi,r.over=Vh,r.overArgs=wh,r.overEvery=Qh,r.overSome=Jh,r.partial=yh,r.partialRight=_h,r.partition=hh,r.pick=Wh,r.pickBy=Nu,r.property=bs,r.propertyOf=Is,r.pull=$c,r.pullAll=Ja,r.pullAllBy=ti,r.pullAt=Zc,r.range=tf,r.rangeRight=rf,r.rearg=dh,r.reject=zi,r.remove=ri,r.rest=co,r.reverse=ei,r.sampleSize=Zi,r.set=ku,r.setWith=Uu,r.shuffle=qi,r.slice=ni,r.sortBy=fh,r.sortedUniq=hi,r.sortedUniqBy=fi,r.split=ts,r.spread=ho,r.tail=li,r.take=pi,r.takeRight=vi,r.takeRightWhile=gi,r.takeWhile=mi,r.tap=Si,r.throttle=fo,r.thru=Oi,r.toArray=ou,r.toPairs=Ru,r.toPairsIn=Du,r.toPath=Ss,r.toPlainObject=hu,r.transform=Wu,r.unary=lo,r.union=qc,r.unionBy=Vc,r.unionWith=Qc,r.uniq=wi,r.uniqBy=yi,r.uniqWith=_i,r.unset=Bu,r.unzip=di,r.unzipWith=xi,r.values=Lu,r.valuesIn=Mu,r.without=Jc,r.words=hs,r.wrap=po,r.xor=th,r.xorBy=rh,r.xorWith=eh,r.zip=nh,r.zipObject=bi,r.zipObjectDeep=Ii,r.zipWith=ah,r.extend=Th,r.extendWith=Sh,ys(r,r),r.add=Cs,r.attempt=Fh,r.camelCase=Bh,r.capitalize=Xu,r.ceil=ef,r.clamp=Hu,r.clone=go,r.cloneDeep=wo,r.cloneDeepWith=yo,r.cloneWith=mo,r.deburr=Yu,r.endsWith=Fu,r.eq=_o,r.escape=Ku,r.escapeRegExp=zu,r.every=Di,r.find=Bi,r.findIndex=Pa,r.findKey=vu,r.findLast=Li,r.findLastIndex=Ga,r.findLastKey=gu,r.floor=nf,r.forEach=Hi,r.forEachRight=Pi,r.forIn=mu,r.forInRight=wu,r.forOwn=yu,r.forOwnRight=_u,r.get=bu,r.gt=xo,r.gte=bo,r.has=Iu,r.hasIn=Tu,r.head=za,r.identity=vs,r.includes=Gi,r.indexOf=$a,r.inRange=Pu,r.invoke=kh,r.isArguments=Io,r.isArray=xh,r.isArrayBuffer=To,r.isArrayLike=So,r.isArrayLikeObject=Oo,r.isBoolean=Co,r.isBuffer=bh,r.isDate=Ao,r.isElement=Eo,r.isEmpty=No,r.isEqual=jo,r.isEqualWith=ko,r.isError=Uo,r.isFinite=Ro,r.isFunction=Do,r.isInteger=Wo,r.isLength=Bo,r.isMap=Ho,r.isMatch=Po,r.isMatchWith=Go,r.isNaN=Xo,r.isNative=Yo,r.isNil=Ko,r.isNull=Fo,r.isNumber=zo,r.isObject=Lo,r.isObjectLike=Mo,r.isPlainObject=$o,r.isRegExp=Zo,r.isSafeInteger=qo,r.isSet=Vo,r.isString=Qo,r.isSymbol=Jo,r.isTypedArray=tu,r.isUndefined=ru,r.isWeakMap=eu,r.isWeakSet=nu,r.join=qa,r.kebabCase=Lh,r.last=Va,r.lastIndexOf=Qa,r.lowerCase=Mh,r.lowerFirst=Hh,r.lt=au,r.lte=iu,r.max=As,r.maxBy=Es,r.mean=Ns,r.min=js,r.minBy=ks,r.noConflict=_s,r.noop=ds,r.now=lh,r.pad=$u,r.padEnd=Zu,r.padStart=qu,r.parseInt=Vu,r.random=Gu,r.reduce=Fi,r.reduceRight=Ki,r.repeat=Qu,r.replace=Ju,r.result=ju,r.round=af,r.runInContext=Z,r.sample=$i,r.size=Vi,r.snakeCase=Gh,r.some=Qi,r.sortedIndex=ai,r.sortedIndexBy=ii,r.sortedIndexOf=oi,r.sortedLastIndex=ui,r.sortedLastIndexBy=si,r.sortedLastIndexOf=ci,r.startCase=Xh,r.startsWith=rs,r.subtract=Us,r.sum=Rs,r.sumBy=Ds,r.template=es,r.times=Ts,r.toInteger=uu,r.toLength=su,r.toLower=ns,r.toNumber=cu,r.toSafeInteger=fu,r.toString=lu,r.toUpper=as,r.trim=is,r.trimEnd=os,r.trimStart=us,r.truncate=ss,r.unescape=cs,r.uniqueId=Os,r.upperCase=Yh,r.upperFirst=Ph,r.each=Hi,r.eachRight=Pi,r.first=za,ys(r,function(){var t={};return Le(r,function(e,n){Ys.call(r.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),r.VERSION=V,s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){r[t].placeholder=r}),s(["drop","take"],function(t,r){Or.prototype[t]=function(e){var n=this.__filtered__;if(n&&!r)return new Or(this);e=e===q?1:vc(uu(e),0);var a=this.clone();return n?a.__takeCount__=gc(e,a.__takeCount__):a.__views__.push({size:gc(e,Tt),type:t+(a.__dir__<0?"Right":"")}),a},Or.prototype[t+"Right"]=function(r){return this.reverse()[t](r).reverse()}}),s(["filter","map","takeWhile"],function(t,r){var e=r+1,n=e==gt||e==wt;Or.prototype[t]=function(t){var r=this.clone();return r.__iteratees__.push({iteratee:fa(t,3),type:e}),r.__filtered__=r.__filtered__||n,r}}),s(["head","last"],function(t,r){var e="take"+(r?"Right":"");Or.prototype[t]=function(){return this[e](1).value()[0]}}),s(["initial","tail"],function(t,r){var e="drop"+(r?"":"Right");Or.prototype[t]=function(){return this.__filtered__?new Or(this):this[e](1)}}),Or.prototype.compact=function(){return this.filter(vs)},Or.prototype.find=function(t){return this.filter(t).head()},Or.prototype.findLast=function(t){return this.reverse().find(t)},Or.prototype.invokeMap=co(function(t,r){return"function"==typeof t?new Or(this):this.map(function(e){return ze(e,t,r)})}),Or.prototype.reject=function(t){return t=fa(t,3),this.filter(function(r){return!t(r)})},Or.prototype.slice=function(t,r){t=uu(t);var e=this;return e.__filtered__&&(t>0||0>r)?new Or(e):(0>t?e=e.takeRight(-t):t&&(e=e.drop(t)),r!==q&&(r=uu(r),e=0>r?e.dropRight(-r):e.take(r-t)),e)},Or.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Or.prototype.toArray=function(){return this.take(Tt)},Le(Or.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),a=/^(?:head|last)$/.test(e),i=r[a?"take"+("last"==e?"Right":""):e],o=a||/^find/.test(e);i&&(r.prototype[e]=function(){var e=this.__wrapped__,u=a?[1]:arguments,s=e instanceof Or,c=u[0],h=s||xh(e),f=function(t){var e=i.apply(r,g([t],u));return a&&l?e[0]:e};h&&n&&"function"==typeof c&&1!=c.length&&(s=h=!1);var l=this.__chain__,p=!!this.__actions__.length,v=o&&!l,m=s&&!p;if(!o&&h){e=m?e:new Or(this);var w=t.apply(e,u);return w.__actions__.push({func:Oi,args:[f],thisArg:q}),new k(w,l)}return v&&m?t.apply(this,u):(w=this.thru(f),v?a?w.value()[0]:w.value():w)})}),s(["pop","push","shift","sort","splice","unshift"],function(t){var e=Ps[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",a=/^(?:pop|shift)$/.test(t);r.prototype[t]=function(){var t=arguments;return a&&!this.__chain__?e.apply(this.value(),t):this[n](function(r){return e.apply(r,t)})}}),Le(Or.prototype,function(t,e){var n=r[e];if(n){var a=n.name+"",i=Nc[a]||(Nc[a]=[]);i.push({name:e,func:n})}}),Nc[Qn(q,J).name]=[{name:"wrapper",func:q}],Or.prototype.clone=Nr,Or.prototype.reverse=jr,Or.prototype.value=kr,r.prototype.at=ih,r.prototype.chain=Ci,r.prototype.commit=Ai,r.prototype.flatMap=Ei,r.prototype.next=Ni,r.prototype.plant=ki,r.prototype.reverse=Ui,r.prototype.toJSON=r.prototype.valueOf=r.prototype.value=Ri,ac&&(r.prototype[ac]=ji),r}var q,V="4.5.1",Q=1,J=2,tt=4,rt=8,et=16,nt=32,at=64,it=128,ot=256,ut=512,st=1,ct=2,ht=30,ft="...",lt=150,pt=16,vt=200,gt=1,mt=2,wt=3,yt="Expected a function",_t="__lodash_hash_undefined__",dt=1/0,xt=9007199254740991,bt=1.7976931348623157e308,It=NaN,Tt=4294967295,St=Tt-1,Ot=Tt>>>1,Ct="__lodash_placeholder__",At="[object Arguments]",Et="[object Array]",Nt="[object Boolean]",jt="[object Date]",kt="[object Error]",Ut="[object Function]",Rt="[object GeneratorFunction]",Dt="[object Map]",Wt="[object Number]",Bt="[object Object]",Lt="[object RegExp]",Mt="[object Set]",Ht="[object String]",Pt="[object Symbol]",Gt="[object WeakMap]",Xt="[object WeakSet]",Yt="[object ArrayBuffer]",Ft="[object Float32Array]",Kt="[object Float64Array]",zt="[object Int8Array]",$t="[object Int16Array]",Zt="[object Int32Array]",qt="[object Uint8Array]",Vt="[object Uint8ClampedArray]",Qt="[object Uint16Array]",Jt="[object Uint32Array]",tr=/\b__p \+= '';/g,rr=/\b(__p \+=) '' \+/g,er=/(__e\(.*?\)|\b__t\)) \+\n'';/g,nr=/&(?:amp|lt|gt|quot|#39|#96);/g,ar=/[&<>"'`]/g,ir=RegExp(nr.source),or=RegExp(ar.source),ur=/<%-([\s\S]+?)%>/g,sr=/<%([\s\S]+?)%>/g,cr=/<%=([\s\S]+?)%>/g,hr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fr=/^\w*$/,lr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,pr=/[\\^$.*+?()[\]{}|]/g,vr=RegExp(pr.source),gr=/^\s+|\s+$/g,mr=/^\s+/,wr=/\s+$/,yr=/\\(\\)?/g,_r=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dr=/\w*$/,xr=/^0x/i,br=/^[-+]0x[0-9a-f]+$/i,Ir=/^0b[01]+$/i,Tr=/^\[object .+?Constructor\]$/,Sr=/^0o[0-7]+$/i,Or=/^(?:0|[1-9]\d*)$/,Cr=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ar=/($^)/,Er=/['\n\r\u2028\u2029\\]/g,Nr="\\ud800-\\udfff",jr="\\u0300-\\u036f\\ufe20-\\ufe23",kr="\\u20d0-\\u20f0",Ur="\\u2700-\\u27bf",Rr="a-z\\xdf-\\xf6\\xf8-\\xff",Dr="\\xac\\xb1\\xd7\\xf7",Wr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Br="\\u2018\\u2019\\u201c\\u201d",Lr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mr="A-Z\\xc0-\\xd6\\xd8-\\xde",Hr="\\ufe0e\\ufe0f",Pr=Dr+Wr+Br+Lr,Gr="["+Nr+"]",Xr="["+Pr+"]",Yr="["+jr+kr+"]",Fr="\\d+",Kr="["+Ur+"]",zr="["+Rr+"]",$r="[^"+Nr+Pr+Fr+Ur+Rr+Mr+"]",Zr="\\ud83c[\\udffb-\\udfff]",qr="(?:"+Yr+"|"+Zr+")",Vr="[^"+Nr+"]",Qr="(?:\\ud83c[\\udde6-\\uddff]){2}",Jr="[\\ud800-\\udbff][\\udc00-\\udfff]",te="["+Mr+"]",re="\\u200d",ee="(?:"+zr+"|"+$r+")",ne="(?:"+te+"|"+$r+")",ae=qr+"?",ie="["+Hr+"]?",oe="(?:"+re+"(?:"+[Vr,Qr,Jr].join("|")+")"+ie+ae+")*",ue=ie+ae+oe,se="(?:"+[Kr,Qr,Jr].join("|")+")"+ue,ce="(?:"+[Vr+Yr+"?",Yr,Qr,Jr,Gr].join("|")+")",he=RegExp(Yr,"g"),fe=RegExp(Zr+"(?="+Zr+")|"+ce+ue,"g"),le=RegExp("["+re+Nr+jr+kr+Hr+"]"),pe=/[a-zA-Z0-9]+/g,ve=RegExp([te+"?"+zr+"+(?="+[Xr,te,"$"].join("|")+")",ne+"+(?="+[Xr,te+ee,"$"].join("|")+")",te+"?"+ee+"+",te+"+",Fr,se].join("|"),"g"),ge=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,me=["Array","Buffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],we=-1,ye={};ye[Ft]=ye[Kt]=ye[zt]=ye[$t]=ye[Zt]=ye[qt]=ye[Vt]=ye[Qt]=ye[Jt]=!0,ye[At]=ye[Et]=ye[Yt]=ye[Nt]=ye[jt]=ye[kt]=ye[Ut]=ye[Dt]=ye[Wt]=ye[Bt]=ye[Lt]=ye[Mt]=ye[Ht]=ye[Gt]=!1;var _e={};_e[At]=_e[Et]=_e[Yt]=_e[Nt]=_e[jt]=_e[Ft]=_e[Kt]=_e[zt]=_e[$t]=_e[Zt]=_e[Dt]=_e[Wt]=_e[Bt]=_e[Lt]=_e[Mt]=_e[Ht]=_e[Pt]=_e[qt]=_e[Vt]=_e[Qt]=_e[Jt]=!0,_e[kt]=_e[Ut]=_e[Gt]=!1;var de={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},xe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},be={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ie={"function":!0,object:!0},Te={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Se=parseFloat,Oe=parseInt,Ce=Ie[typeof e]&&e&&!e.nodeType?e:q,Ae=Ie[typeof r]&&r&&!r.nodeType?r:q,Ee=Ae&&Ae.exports===Ce?Ce:q,Ne=k(Ce&&Ae&&"object"==typeof t&&t),je=k(Ie[typeof self]&&self),ke=k(Ie[typeof window]&&window),Ue=k(Ie[typeof this]&&this),Re=Ne||ke!==(Ue&&Ue.window)&&ke||je||Ue||Function("return this")(),De=Z();(ke||je||{})._=De,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return De}):Ce&&Ae?(Ee&&((Ae.exports=De)._=De),Ce._=De):Re._=De}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,r,e){var n=t("./danmaku_helper"),a=new n,i=[[{v:{r:5,theta:165,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:135,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:105,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:75,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:45,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:15,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}}],[{v:{aimed:!0,r:5,theta:0,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:3}}}],[{v:{r:5,theta:0,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:23,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:45,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:68,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:90,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:113,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:135,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:158,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:180,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:203,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:225,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:248,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:270,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:293,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:315,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:338,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}}],[{v:[{count:0,v:{r:0,theta:0,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:5,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{
max:3}}}]},{v:[{count:0,v:{r:0,theta:10,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:15,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:20,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:45,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:50,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:55,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:60,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:65,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:95,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:100,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:105,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:110,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:135,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:140,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:145,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:150,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:155,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:180,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:185,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:190,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:195,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:200,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:225,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:230,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:235,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:240,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:245,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:270,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:275,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:280,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:285,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:290,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:315,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:320,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:325,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:330,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:335,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]}],[{v:{r:5,theta:12,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:35,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:57,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:80,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:102,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:125,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:147,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:170,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:192,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:215,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:237,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:260,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:282,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:305,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:327,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:350,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}}],[{v:{aimed:!0,r:5,theta:-10,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:3}}}],[{v:{aimed:!0,r:5,theta:0,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:3}}}],[{v:{aimed:!0,r:5,theta:10,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:3}}}],[{v:[{count:0,v:{r:0,theta:30,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:35,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.1}}}]},{v:[{count:0,v:{r:0,theta:40,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.2}}}]},{v:[{count:0,v:{r:0,theta:45,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.3}}}]},{v:[{count:0,v:{r:0,theta:50,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.4}}}]},{v:[{count:0,v:{r:0,theta:55,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.5}}}]},{v:[{count:0,v:{r:0,theta:60,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.6}}}]},{v:[{count:0,v:{r:0,theta:65,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.7}}}]},{v:[{count:0,v:{r:0,theta:70,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.8}}}]},{v:[{count:0,v:{r:0,theta:75,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.9}}}]},{v:[{count:0,v:{r:0,theta:80,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4}}}]},{v:[{count:0,v:{r:0,theta:85,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.1}}}]},{v:[{count:0,v:{r:0,theta:90,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.2}}}]},{v:[{count:0,v:{r:0,theta:95,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.3}}}]},{v:[{count:0,v:{r:0,theta:100,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.4}}}]},{v:[{count:0,v:{r:0,theta:105,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.5}}}]},{v:[{count:0,v:{r:0,theta:110,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.6}}}]},{v:[{count:0,v:{r:0,theta:115,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.7}}}]},{v:[{count:0,v:{r:0,theta:120,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.8}}}]},{v:[{count:0,v:{r:0,theta:125,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.9}}}]},{v:[{count:0,v:{r:0,theta:130,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5}}}]},{v:[{count:0,v:{r:0,theta:135,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.1}}}]},{v:[{count:0,v:{r:0,theta:140,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.2}}}]},{v:[{count:0,v:{r:0,theta:145,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.3}}}]},{v:[{count:0,v:{r:0,theta:150,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.4}}}]}],[{v:[{count:0,v:{r:0,theta:0,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:10,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.2}}}]},{v:[{count:0,v:{r:0,theta:20,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.4}}}]},{v:[{count:0,v:{r:0,theta:30,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.6}}}]},{v:[{count:0,v:{r:0,theta:40,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.8}}}]},{v:[{count:0,v:{r:0,theta:50,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4}}}]},{v:[{count:0,v:{r:0,theta:60,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.2}}}]},{v:[{count:0,v:{r:0,theta:70,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.4}}}]},{v:[{count:0,v:{r:0,theta:80,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.6}}}]},{v:[{count:0,v:{r:0,theta:90,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.8}}}]},{v:[{count:0,v:{r:0,theta:100,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5}}}]},{v:[{count:0,v:{r:0,theta:110,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.2}}}]},{v:[{count:0,v:{r:0,theta:120,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.4}}}]},{v:[{count:0,v:{r:0,theta:130,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.6}}}]}],[{v:[{count:0,v:{r:0,theta:175,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.1}}}]},{v:[{count:0,v:{r:0,theta:165,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.3}}}]},{v:[{count:0,v:{r:0,theta:155,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.5}}}]},{v:[{count:0,v:{r:0,theta:145,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.7}}}]},{v:[{count:0,v:{r:0,theta:135,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.9}}}]},{v:[{count:0,v:{r:0,theta:125,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.1}}}]},{v:[{count:0,v:{r:0,theta:115,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.3}}}]},{v:[{count:0,v:{r:0,theta:105,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.5}}}]},{v:[{count:0,v:{r:0,theta:95,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.7}}}]},{v:[{count:0,v:{r:0,theta:85,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.9}}}]},{v:[{count:0,v:{r:0,theta:75,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.1}}}]},{v:[{count:0,v:{r:0,theta:65,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.3}}}]},{v:[{count:0,v:{r:0,theta:55,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.5}}}]},{v:[{count:0,v:{r:0,theta:45,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.7}}}]}],[{laser:!0,waitCount:40,keep:150,v:{r:0,theta:180,w:-.01,ra:0,wa:-.01,trange:{min:110}}},{laser:!0,waitCount:40,keep:150,v:{r:0,theta:0,w:.01,ra:0,wa:.01,trange:{max:70}}}],[{v:{r:5,theta:0,w:0,ra:0,wa:0,rrandom:{min:4,max:5},trandom:{min:0,max:360}}}],[{v:{r:3,theta:45,w:0,ra:0,wa:0,raa:0}},{v:{r:3,theta:135,w:0,ra:0,wa:0,raa:0}},{v:{r:3,theta:225,w:0,ra:0,wa:0,raa:0}},{v:{r:3,theta:315,w:0,ra:0,wa:0,raa:0}}],a.daiYousei1(),a.daiYousei2(),a.chilno1(),[{v:{r:2,theta:0,w:0,ra:0,wa:0,rrandom:{min:2,max:3},trandom:{min:0,max:360},g:{r:0,theta:90,ra:.05}}}],a.chilno2(),[{v:{aimed:!0,r:5,theta:-15,w:0}},{v:{aimed:!0,r:5,theta:-5,w:0}},{v:{aimed:!0,r:5,theta:5,w:0}},{v:{aimed:!0,r:5,theta:15,w:0}}],[{beam:!0,v:{rrandom:{min:4,max:6},trandom:{min:180,max:200},g:{r:0,theta:90,ra:.3}}},{beam:!0,v:{rrandom:{min:4,max:6},trandom:{min:225,max:245},g:{r:0,theta:90,ra:.3}}},{beam:!0,v:{rrandom:{min:4,max:6},trandom:{min:270,max:290},g:{r:0,theta:90,ra:.3}}},{beam:!0,v:{rrandom:{min:4,max:6},trandom:{min:340,max:360},g:{r:0,theta:90,ra:.3}}}]];r.exports=i},{"./danmaku_helper":3}],3:[function(t,r,e){"use strict";function n(){}n.prototype._calculateRadian=function(t){return t*Math.PI/180},n.prototype._calculateTheta=function(t){return parseInt(180*t/Math.PI)},n.prototype.daiYousei1=function(){for(var t=[],r=30,e=0;36>e;e++){var n=(10*e+90)%360,a={x:r*Math.cos(this._calculateRadian(n)),y:r*Math.sin(this._calculateRadian(n)),count:1*e,v:{r:2+e/50,theta:n}};t.push(a)}return t},n.prototype.daiYousei2=function(){for(var t=[],r=30,e=0;36>e;e++){var n=1*e,a=(-10*e+450)%360,i={x:r*Math.cos(this._calculateRadian(a)),y:r*Math.sin(this._calculateRadian(a)),count:n,v:{r:2+e/50,theta:a}};t.push(i)}return t},n.prototype.chilno1=function(){var t,r=[],e=50,n=100,a=[],i=10;for(t=0;5>t;t++)a[t]=(126+144*t)%360;for(t=0;5>t;t++)for(var o=a[t],u=a[(t+1)%5],s=e*Math.cos(this._calculateRadian(o)),c=e*Math.sin(this._calculateRadian(o)),h=e*Math.cos(this._calculateRadian(u)),f=e*Math.sin(this._calculateRadian(u)),l=0;i>l;l++)for(var p=l+t*i,v=s+(h-s)/i*l,g=c+(f-c)/i*l,m=this._calculateTheta(Math.atan2(g,v)),w=0;5>w;w++){var y=a[w],_=v+n*Math.cos(this._calculateRadian(y)),d=g+n*Math.sin(this._calculateRadian(y)),x={x:_,y:d,count:p,v:[{count:0,v:{r:0,theta:m}},{count:6*i-p,v:{r:2,w:0}}]};r.push(x)}return r},n.prototype.chilno2=function(){for(var t=[],r=0;200>r;r++){var e=1*r,n={count:e,v:[{count:0,v:{r:5,theta:0,w:0,ra:-.01,wa:0,rrandom:{min:4,max:5},rrange:{min:2},trandom:{min:0,max:360}}},{count:200-e,v:{r:0}},{count:400-e,v:{r:1,theta:0,w:0,ra:.02,wa:0,trandom:{min:0,max:360}}}]};t.push(n)}return t},r.exports=n},{}],4:[function(t,r,e){var n=[],a={};a.random=function(){};for(var i=0;6>i;i++)n.push({count:100+15*i,x:50+20*i,vital:1,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:.01,trange:{max:135},wrange:{max:.5}}}]});for(var i=0;6>i;i++)n.push({count:300+15*i,x:380-20*i,vital:1,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:45},wrange:{min:-.5}}}]});for(var i=0;6>i;i++)n.push({count:500+15*i,x:50+20*i,vital:1,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:.01,trange:{max:135},wrange:{max:.5}}}]});for(var i=0;6>i;i++)n.push({count:700+15*i,x:380-20*i,vital:1,powerItem:i%2==0?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:45},wrange:{min:-.5}}}]});for(var i=0;8>i;i++)n.push({count:900+i*(80-5*i),x:25+i%4*50,vital:3,powerItem:i%2==0?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var i=0;8>i;i++)n.push({count:950+i*(80-5*i),x:455-i%4*50,vital:3,powerItem:i%2==0?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var i=0;4>i;i++)n.push({count:1400+20*i,x:50+50*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:-30},wrange:{min:-1}}}]});for(var i=0;4>i;i++)n.push({count:1410+10*i,x:25+50*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:-30},wrange:{min:-1}}}]});for(var i=0;4>i;i++)n.push({count:1420+20*i,x:430-50*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:.01,trange:{max:210},wrange:{max:1}}}]});for(var i=0;4>i;i++)n.push({count:1430+10*i,x:455-50*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:.01,trange:{max:210},wrange:{max:1}}}]});for(var i=0;20>i;i++)n.push({count:1700+10*parseInt(i/2),x:(i%2==0?50:80)+10*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,v:[{count:0,v:{r:3,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:3,w:0,ra:0,wa:-.02,trange:{min:-45},wrange:{min:-1}}},{count:180,v:{r:3,w:0,ra:0,wa:.02,trange:{max:45},wrange:{max:1}}}]});for(var i=0;20>i;i++)n.push({count:1900+10*parseInt(i/2),x:(i%2==0?430:400)-10*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,v:[{count:0,v:{r:3,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:3,w:0,ra:0,wa:.02,trange:{max:225},wrange:{max:1}}},{count:180,v:{r:3,w:0,ra:0,wa:-.02,trange:{min:135},wrange:{min:-1}}}]});for(var i=0;8>i;i++)n.push({count:2300+i*(80-5*i),x:25+i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var i=0;8>i;i++)n.push({count:2350+i*(80-5*i),x:455-i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var i=0;8>i;i++)n.push({count:2500+i*(80-5*i),x:25+i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var i=0;8>i;i++)n.push({count:2550+i*(80-5*i),x:455-i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var i=0;8>i;i++)n.push({count:2700+i*(80-5*i),x:25+i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var i=0;8>i;i++)n.push({count:2750+i*(80-5*i),x:455-i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var o=[],i=0;100>i;i++)o.push({count:100+5*i,x:parseInt(480*a.random()),vital:1,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:13,shotCount:[10]},v:[{count:0,v:{r:3,theta:90,w:0,ra:0,wa:0}}]});for(var i=0;6>i;i++)o.push({count:500+15*i,x:50+20*i,vital:1,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:.01,trange:{max:135},wrange:{max:.5}}}]});for(var i=0;6>i;i++)o.push({count:700+15*i,x:380-20*i,vital:1,powerItem:i%2==0?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:45},wrange:{min:-.5}}}]});for(var i=0;8>i;i++)o.push({count:900+i*(80-5*i),x:25+i%4*50,vital:3,powerItem:i%2==0?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var i=0;8>i;i++)o.push({count:950+i*(80-5*i),x:455-i%4*50,vital:3,powerItem:i%2==0?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var i=0;4>i;i++)o.push({count:1400+20*i,x:50+50*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:-30},wrange:{min:-1}}}]});for(var i=0;4>i;i++)o.push({count:1410+10*i,x:25+50*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:-30},wrange:{min:-1}}}]});for(var i=0;4>i;i++)o.push({count:1420+20*i,x:430-50*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:.01,trange:{max:210},wrange:{max:1}}}]});for(var i=0;4>i;i++)o.push({count:1430+10*i,x:455-50*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:.01,trange:{max:210},wrange:{max:1}}}]});for(var i=0;20>i;i++)o.push({count:1700+10*parseInt(i/2),x:(i%2==0?50:80)+10*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,v:[{count:0,v:{r:3,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:3,w:0,ra:0,wa:-.02,trange:{min:-45},wrange:{min:-1}}},{count:180,v:{r:3,w:0,ra:0,wa:.02,trange:{max:45},wrange:{max:1}}}]});for(var i=0;20>i;i++)o.push({count:1900+10*parseInt(i/2),x:(i%2==0?430:400)-10*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,v:[{count:0,v:{r:3,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:3,w:0,ra:0,wa:.02,trange:{max:225},wrange:{max:1}}},{count:180,v:{r:3,w:0,ra:0,wa:-.02,trange:{min:135},wrange:{min:-1}}}]});for(var i=0;8>i;i++)o.push({count:2300+i*(80-5*i),x:25+i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var i=0;8>i;i++)o.push({count:2350+i*(80-5*i),x:455-i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var i=0;8>i;i++)o.push({count:2500+i*(80-5*i),x:25+i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var i=0;8>i;i++)o.push({count:2550+i*(80-5*i),x:455-i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var i=0;8>i;i++)o.push({count:2700+i*(80-5*i),x:25+i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var i=0;8>i;i++)o.push({count:2750+i*(80-5*i),x:455-i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});n.sort(function(t,r){return t.count-r.count}),r.exports=n},{}],5:[function(t,r,e){"use strict";var n=(t("lodash"),function(t){this.stage=t.stage,this.pool=[],this.incremental_id=0});n.prototype.get=function(t){console.error("get method must be overridden")},n.prototype.free=function(t){console.error("get method must be overridden")},r.exports=n},{lodash:1}],6:[function(t,r,e){"use strict";var n=t("lodash"),a=t("../object/bullet"),i=t("./base"),o=function(t){i.apply(this,arguments)};n.extend(o.prototype,i.prototype),n.extend(o,i),o.prototype.get=function(t,r){this.incremental_id++;var e=new a(this.incremental_id,this.stage);return e.init(t,r),e},o.prototype.free=function(t){},r.exports=o},{"../object/bullet":18,"./base":5,lodash:1}],7:[function(t,r,e){"use strict";var n=t("lodash"),a=t("../object/enemy"),i=t("./base"),o=function(t){i.apply(this,arguments)};n.extend(o.prototype,i.prototype),n.extend(o,i),o.prototype.get=function(t){this.incremental_id++;var r=new a(this.incremental_id,this.stage);return r.init(t),r},o.prototype.free=function(t){},r.exports=o},{"../object/enemy":20,"./base":5,lodash:1}],8:[function(t,r,e){"use strict";var n=t("lodash"),a=t("../object/item"),i=t("./base"),o=function(t){i.apply(this,arguments)};n.extend(o.prototype,i.prototype),n.extend(o,i),o.prototype.get=function(t){this.incremental_id++;var r=new a(this.incremental_id,this.stage);return r.init(t),r},o.prototype.free=function(t){},r.exports=o},{"../object/item":21,"./base":5,lodash:1}],9:[function(t,r,e){"use strict";var n=t("lodash"),a=t("../object/shot"),i=t("./base"),o=function(t){i.apply(this,arguments)};n.extend(o.prototype,i.prototype),n.extend(o,i),o.prototype.get=function(){this.incremental_id++;var t=new a(this.incremental_id,this.stage);return t.init(),t},o.prototype.free=function(t){},r.exports=o},{"../object/shot":22,"./base":5,lodash:1}],10:[function(t,r,e){"use strict";var n=t("./scene/loading"),a=t("./scene/opening"),i=t("./scene/stage"),o=function(t){this.surface=t.getContext("2d"),this.width=Number(t.getAttribute("width")),this.height=Number(t.getAttribute("height")),this.state=null,this.scenes=[],this.scenes[this.LOADING_SCENE]=new n(this),this.scenes[this.OPENING_SCENE]=new a(this),this.scenes[this.STAGE_SCENE]=new i(this),this.scenes[this.ENDING_SCENE]=null,this.images={},this.sounds={},this.soundflag=0,this.bgms={},this.frame_count=0,this.keyflag=0,this.before_keyflag=0};o.prototype.DEBUG=!0,o.prototype.LOADING_SCENE=0,o.prototype.OPENING_SCENE=1,o.prototype.STAGE_SCENE=2,o.prototype.ENDING_SCENE=3,o.prototype.BUTTON_LEFT=1,o.prototype.BUTTON_UP=2,o.prototype.BUTTON_RIGHT=4,o.prototype.BUTTON_DOWN=8,o.prototype.BUTTON_Z=16,o.prototype.BUTTON_X=32,o.prototype.BUTTON_SHIFT=64,o.prototype.BUTTON_SPACE=128,o.prototype.IMAGES={title_bg:"image/title_bg.png",stage1_bg:"image/stage1_bg.jpg",reimu:"image/reimu.png",shot:"image/shot.png",enemy:"image/enemy.png",bullet:"image/bullet.png",item:"image/item.png"},o.prototype.SOUNDS={select:{id:1,path:"sound/select.wav",volume:1},shot:{id:2,path:"sound/shot.wav",volume:.08},enemy_vanish:{id:4,path:"sound/enemy_vanish.wav",volume:.1},dead:{id:8,path:"sound/dead.wav",volume:.08},graze:{id:16,path:"sound/graze.wav",volume:.1}},o.prototype.BGMS={title:{path:"bgm/title.mp3",volume:.5},stage1:{path:"bgm/stage1.mp3",volume:.5}},o.prototype.handleKeyDown=function(t){this.keyflag|=this._keyCodeToBitCode(t.keyCode),t.preventDefault()},o.prototype.handleKeyUp=function(t){this.keyflag&=~this._keyCodeToBitCode(t.keyCode),t.preventDefault()},o.prototype.isKeyDown=function(t){return this.keyflag&t},o.prototype.isKeyPush=function(t){return!(this.before_keyflag&t)&&this.keyflag&t},o.prototype._keyCodeToBitCode=function(t){var r;switch(t){case 16:r=this.BUTTON_SHIFT;break;case 32:r=this.BUTTON_SPACE;break;case 37:r=this.BUTTON_LEFT;break;case 38:r=this.BUTTON_UP;break;case 39:r=this.BUTTON_RIGHT;break;case 40:r=this.BUTTON_DOWN;break;case 88:r=this.BUTTON_X;break;case 90:r=this.BUTTON_Z}return r},o.prototype.init=function(){this.frame_count=0,this.keyflag=0,this.before_keyflag=0,this.changeScene(this.LOADING_SCENE)},o.prototype.run=function(){this.scenes[this.state].run(),this.scenes[this.state].updateDisplay(),this.runPlaySound(),this.frame_count++,this.before_keyflag=this.keyflag,requestAnimationFrame(this.run.bind(this))},o.prototype.changeScene=function(t){this.state=t,this.scenes[this.state].init()},o.prototype.getImage=function(t){return this.images[t]},o.prototype.playBGM=function(t){for(var r in this.bgms)this.bgms[r].pause(),this.bgms[r].currentTime=0;this.bgms[t].loop=!0,this.bgms[t].play()},o.prototype.playSound=function(t){this.soundflag|=this.SOUNDS[t].id},o.prototype.runPlaySound=function(){for(var t in this.SOUNDS)if(this.soundflag&this.SOUNDS[t].id){this.sounds[t].pause(),this.sounds[t].currentTime=0,this.sounds[t].play(),this.soundflag&=~this.SOUNDS[t].id;break}},o.prototype.notifyLoadingDone=function(){this.changeScene(this.OPENING_SCENE)},o.prototype.notifyOpeningDone=function(){this.changeScene(this.STAGE_SCENE)},o.prototype.notifySelectQuit=function(){this.changeScene(this.OPENING_SCENE)},r.exports=o},{"./scene/loading":25,"./scene/opening":26,"./scene/stage":27}],11:[function(t,r,e){"use strict";var n=t("./game");window.onload=function(){var t=document.getElementById("mainCanvas"),r=new n(t);r.init(),window.onkeydown=function(t){r.handleKeyDown(t)},window.onkeyup=function(t){r.handleKeyUp(t)},r.run()}},{"./game":10}],12:[function(t,r,e){"use strict";var n=(t("lodash"),function(t){this.stage=t,this.game=t.game,this.factory=null,this.objects={},this.frame_count=0});n.prototype.init=function(){this.objects={},this.frame_count=0},n.prototype.create=function(t){var r=this.factory.get(t);return this.objects[r.id]=r,r},n.prototype.remove=function(t){delete this.objects[t],this.factory.free(t)},n.prototype.run=function(){this.frame_count++;for(var t in this.objects)this.objects[t].run();this.removeOutOfStageObjects()},n.prototype.removeOutOfStageObjects=function(){for(var t in this.objects)this.objects[t].isOutOfStage()&&this.remove(t)},n.prototype.updateDisplay=function(){for(var t in this.objects)this.objects[t].updateDisplay()},r.exports=n},{lodash:1}],13:[function(t,r,e){"use strict";var n=t("lodash"),a=t("../factory/bullet"),i=t("../data/bullets_params"),o=t("./base"),u=function(t){o.apply(this,arguments),this.factory=new a(this),this.bullets_params=i};n.extend(u.prototype,o.prototype),n.extend(u,o),u.prototype.init=function(){o.prototype.init.apply(this,arguments)},u.prototype.create=function(t){for(var r=0;r<this.bullets_params[t.shots.bullet].length;r++){var e=this.factory.get(this.bullets_params[t.shots.bullet][r],t);this.objects[e.id]=e}},u.prototype.remove=function(t){o.prototype.remove.apply(this,arguments)},u.prototype.run=function(){o.prototype.run.apply(this,arguments)},u.prototype.updateDisplay=function(){o.prototype.updateDisplay.apply(this,arguments)},u.prototype.checkCollisionWithCharacter=function(t){for(var r in this.objects)if(t.checkCollision(this.objects[r])){var e=this.objects[r];e.notifyCollision(t),t.notifyCollision(e);break}},r.exports=u},{"../data/bullets_params":2,"../factory/bullet":6,"./base":12,lodash:1}],14:[function(t,r,e){"use strict";var n=t("lodash"),a=t("../data/enemies_params"),i=t("../factory/enemy"),o=t("./base"),u=function(t){o.apply(this,arguments),this.factory=new i(this),this.enemy_index=0,this.enemies_params=a};n.extend(u.prototype,o.prototype),n.extend(u,o),u.prototype.init=function(){o.prototype.init.apply(this,arguments),this.enemy_index=0},u.prototype.create=function(){for(;this.enemies_params[this.enemy_index]&&this.enemies_params[this.enemy_index].count===this.frame_count;){var t=this.factory.get(this.enemies_params[this.enemy_index]);this.objects[t.id]=t,this.enemy_index++}},u.prototype.remove=function(t){o.prototype.remove.apply(this,arguments)},u.prototype.run=function(){o.prototype.run.apply(this,arguments),this.create()},u.prototype.updateDisplay=function(){o.prototype.updateDisplay.apply(this,arguments)},u.prototype.checkCollisionWithCharacter=function(t){for(var r in this.objects)if(t.checkCollision(this.objects[r])){var e=this.objects[r];e.notifyCollision(t),t.notifyCollision(e);break}},r.exports=u},{"../data/enemies_params":4,"../factory/enemy":7,"./base":12,lodash:1}],15:[function(t,r,e){"use strict";var n=t("lodash"),a=t("../factory/item"),i=t("./base"),o=function(t){i.apply(this,arguments),this.factory=new a(this)};n.extend(o.prototype,i.prototype),n.extend(o,i),o.prototype.init=function(){i.prototype.init.apply(this,arguments)},o.prototype.create=function(t){i.prototype.create.apply(this,arguments)},o.prototype.homingAll=function(t){for(var r in this.objects)this.objects[r].setTarget(t)},o.prototype.remove=function(t){i.prototype.remove.apply(this,arguments)},o.prototype.run=function(){i.prototype.run.apply(this,arguments)},o.prototype.updateDisplay=function(){i.prototype.updateDisplay.apply(this,arguments)},o.prototype.checkCollisionWithCharacter=function(t){for(var r in this.objects)if(this.objects[r].checkCollision(t)){var e=this.objects[r];e.notifyCollision(t),t.notifyCollision(e);break}},r.exports=o},{"../factory/item":8,"./base":12,lodash:1}],16:[function(t,r,e){"use strict";var n=t("lodash"),a=t("../factory/shot"),i=t("./base"),o=function(t){i.apply(this,arguments),this.factory=new a(this)};n.extend(o.prototype,i.prototype),n.extend(o,i),o.prototype.init=function(){i.prototype.init.apply(this,arguments)},o.prototype.create=function(){i.prototype.create.apply(this,arguments)},o.prototype.remove=function(t){i.prototype.remove.apply(this,arguments)},o.prototype.run=function(){i.prototype.run.apply(this,arguments)},o.prototype.updateDisplay=function(){i.prototype.updateDisplay.apply(this,arguments)},o.prototype.checkCollisionWithEnemies=function(t){for(var r in this.objects)for(var e in t.objects)if(this.objects[r].checkCollision(t.objects[e])){var n=this.objects[r],a=t.objects[e];n.notifyCollision(a),a.notifyCollision(n);break}},r.exports=o},{"../factory/shot":9,"./base":12,lodash:1}],17:[function(t,r,e){"use strict";var n=(t("lodash"),function(t,r){this.frame_count=0,this.stage=r,this.game=r.game,this.id=t,this.x=0,this.y=0});n.prototype.init=function(){this.frame_count=0},n.prototype.EXTRA_OUT_OF_SIZE=100,n.prototype.notifyCollision=function(t){console.error("notifyCollision method must be overridden.")},n.prototype.collisionHeight=function(){console.error("collisionHeight method must be overridden.")},n.prototype.collisionWidth=function(){console.error("collisionWidth method must be overridden.")},n.prototype.spriteX=function(){console.error("spriteX method must be overridden.")},n.prototype.spriteY=function(){console.error("spriteY method must be overridden.")},n.prototype.spriteImage=function(){console.error("spriteImage method must be overridden.")},n.prototype.spriteWidth=function(){console.error("spriteWidth method must be overridden.")},n.prototype.spriteHeight=function(){console.error("spriteHeight method must be overridden.");
},n.prototype.run=function(){this.frame_count++},n.prototype.updateDisplay=function(){var t=Math.round(this.x-this.spriteWidth()/2),r=Math.round(this.y-this.spriteHeight()/2),e=this.game.getImage(this.spriteImage());this.game.surface.save(),this.game.surface.drawImage(e,this.spriteWidth()*this.spriteX(),this.spriteHeight()*this.spriteY(),this.spriteWidth(),this.spriteHeight(),t,r,this.spriteWidth(),this.spriteHeight()),this.game.surface.restore()},n.prototype.checkCollision=function(t){return!!(this.inCollisionArea(t.getCollisionLeftX(),t.getCollisionUpY())||this.inCollisionArea(t.getCollisionLeftX(),t.getCollisionBottomY())||this.inCollisionArea(t.getCollisionRightX(),t.getCollisionUpY())||this.inCollisionArea(t.getCollisionRightX(),t.getCollisionBottomY())||this.inCollisionArea(t.x,t.y))},n.prototype.getCollisionLeftX=function(){return this.x-this.collisionWidth()/2},n.prototype.getCollisionRightX=function(){return this.x+this.collisionWidth()/2},n.prototype.getCollisionUpY=function(){return this.y-this.collisionHeight()/2},n.prototype.getCollisionBottomY=function(){return this.y+this.collisionHeight()/2},n.prototype.inCollisionArea=function(t,r){return t>=this.getCollisionLeftX()&&t<=this.getCollisionRightX()&&r>=this.getCollisionUpY()&&r<=this.getCollisionBottomY()},n.prototype.isOutOfStage=function(){return this.x+this.EXTRA_OUT_OF_SIZE<0||this.y+this.EXTRA_OUT_OF_SIZE<0||this.x>this.stage.width+this.EXTRA_OUT_OF_SIZE||this.y>this.stage.height+this.EXTRA_OUT_OF_SIZE},r.exports=n},{lodash:1}],18:[function(t,r,e){"use strict";var n=t("lodash"),a=t("./vector_base"),i=function(t,r){a.apply(this,arguments)};n.extend(i.prototype,a.prototype),n.extend(i,a),i.prototype.collisionWidth=function(){return this.spriteWidth()},i.prototype.collisionHeight=function(){return this.spriteHeight()},i.prototype.spriteX=function(){return 3},i.prototype.spriteY=function(){return 3},i.prototype.spriteImage=function(){return"bullet"},i.prototype.spriteWidth=function(){return 16},i.prototype.spriteHeight=function(){return 16},i.prototype.init=function(t,r){this.x=r.x,this.y=r.y,a.prototype.init.apply(this,arguments)},i.prototype.run=function(){a.prototype.run.apply(this,arguments)},i.prototype.notifyCollision=function(t){},r.exports=i},{"./vector_base":23,lodash:1}],19:[function(t,r,e){"use strict";var n=t("lodash"),a=t("./base"),i=t("./enemy"),o=t("./bullet"),u=function(t,r){a.apply(this,arguments),this.indexX=0,this.indexY=0};n.extend(u.prototype,a.prototype),n.extend(u,a),u.prototype.FAST_SPEED=4,u.prototype.SLOW_SPEED=3,u.prototype.ANIMATION_SPAN=2,u.prototype.UNHITTABLE_COUNT=100,u.prototype.collisionWidth=function(){return 4},u.prototype.collisionHeight=function(){return 4},u.prototype.spriteX=function(){return this.indexX},u.prototype.spriteY=function(){return this.indexY},u.prototype.spriteImage=function(){return"reimu"},u.prototype.spriteWidth=function(){return 32},u.prototype.spriteHeight=function(){return 48},u.prototype.init=function(){a.prototype.init.apply(this,arguments),this.x=this.stage.width/2,this.y=this.stage.height-100,this.life=3,this.is_unhittable=!0,this.unhittable_count=0},u.prototype.die=function(){this.x=this.stage.width/2,this.y=this.stage.height-100,this.life-=1,this.is_unhittable=!0,this.unhittable_count=this.frame_count},u.prototype.run=function(){a.prototype.run.apply(this,arguments),this.game.isKeyDown(this.game.BUTTON_Z)&&this.frame_count%5===0&&(this.stage.shotmanager.create(),this.game.playSound("shot"));var t=this.game.isKeyDown(this.game.BUTTON_Z)?this.SLOW_SPEED:this.FAST_SPEED;this.game.isKeyDown(this.game.BUTTON_LEFT)&&(this.x-=t),this.game.isKeyDown(this.game.BUTTON_RIGHT)&&(this.x+=t),this.game.isKeyDown(this.game.BUTTON_DOWN)&&(this.y+=t),this.game.isKeyDown(this.game.BUTTON_UP)&&(this.y-=t),this.x<0&&(this.x=0),this.x>this.stage.width&&(this.x=this.stage.width),this.y<0&&(this.y=0),this.y>this.stage.height&&(this.y=this.stage.height),this.game.isKeyDown(this.game.BUTTON_LEFT)&&!this.game.isKeyDown(this.game.BUTTON_RIGHT)?this.indexY=1:this.game.isKeyDown(this.game.BUTTON_RIGHT)&&!this.game.isKeyDown(this.game.BUTTON_LEFT)?this.indexY=2:this.indexY=0,this.is_unhittable&&this.unhittable_count+this.UNHITTABLE_COUNT<this.frame_count&&(this.is_unhittable=!1),this.frame_count%this.ANIMATION_SPAN===0&&(this.indexX++,0===this.indexY&&this.indexX>7?this.indexX=0:(1===this.indexY||2===this.indexY)&&this.indexX>7&&(this.indexX=4))},u.prototype.updateDisplay=function(){this.is_unhittable&&(this.game.surface.globalAlpha=.7),a.prototype.updateDisplay.apply(this,arguments),this.is_unhittable&&(this.game.surface.globalAlpha=1)},u.prototype.checkCollision=function(t){return this.is_unhittable?!1:a.prototype.checkCollision.apply(this,arguments)},u.prototype.notifyCollision=function(t){(t instanceof o||t instanceof i)&&(this.game.playSound("dead"),this.die(),0===this.life&&this.stage.notifyCharacterDead())},r.exports=u},{"./base":17,"./bullet":18,"./enemy":20,lodash:1}],20:[function(t,r,e){"use strict";var n=t("lodash"),a=t("./vector_base"),i=t("./shot"),o=function(t,r){a.apply(this,arguments),this.indexX=0,this.indexY=0};n.extend(o.prototype,a.prototype),n.extend(o,a),o.prototype.ANIMATION_SPAN=5,o.prototype.collisionWidth=function(){return this.spriteWidth()},o.prototype.collisionHeight=function(){return this.spriteHeight()},o.prototype.spriteX=function(){return this.indexX},o.prototype.spriteY=function(){return this.indexY},o.prototype.spriteImage=function(){return"enemy"},o.prototype.spriteWidth=function(){return 32},o.prototype.spriteHeight=function(){return 32},o.prototype.init=function(t){a.prototype.init.apply(this,arguments),this.x=t.x||0,this.y=t.y||0,this.vital=t.vital,this.powerItem=t.powerItem,this.scoreItem=t.scoreItem,this.shots=t.s,this.shotCountIndex=0},o.prototype.run=function(){a.prototype.run.apply(this,arguments),this.shot(),this.frame_count%this.ANIMATION_SPAN===0&&(this.indexX++,this.indexX>2&&(this.indexX=0))},o.prototype.shot=function(){this.shots&&this.shots.shotCount[this.shotCountIndex]&&this.shots.shotCount[this.shotCountIndex]<=this.frame_count&&(this.shotCountIndex++,this.stage.bulletmanager.create(this),this.game.playSound("shot"))},o.prototype.notifyCollision=function(t){t instanceof i&&(this.stage.enemymanager.remove(this.id),this.game.playSound("enemy_vanish"),this.stage.score+=100,(this.powerItem||this.scoreItem)&&this.stage.itemmanager.create(this))},r.exports=o},{"./shot":22,"./vector_base":23,lodash:1}],21:[function(t,r,e){"use strict";var n=t("lodash"),a=t("./vector_base"),i=function(t,r){a.apply(this,arguments),this.indexX=0,this.indexY=0};n.extend(i.prototype,a.prototype),n.extend(i,a),i.prototype.collisionWidth=function(){return 50},i.prototype.collisionHeight=function(){return 50},i.prototype.spriteX=function(){return this.indexX},i.prototype.spriteY=function(){return this.indexY},i.prototype.spriteImage=function(){return"item"},i.prototype.spriteWidth=function(){return 12},i.prototype.spriteHeight=function(){return 12},i.prototype.init=function(t){a.prototype.init.apply(this,[{v:{r:4,theta:270,w:0,ra:-.1,wa:0}}]),this.x=t.x,this.y=t.y,t.powerItem?(this.powerItem=!0,this.indexX=0,this.indexY=0):t.scoreItem&&(this.scoreItem=!0,this.indexX=1,this.indexY=0)},i.prototype.run=function(){a.prototype.run.apply(this,arguments)},i.prototype.notifyCollision=function(t){this.stage.itemmanager.remove(this.id),this.game.playSound("graze"),this.stage.score+=1e3},r.exports=i},{"./vector_base":23,lodash:1}],22:[function(t,r,e){"use strict";var n=t("lodash"),a=t("./base"),i=function(t,r){a.apply(this,arguments)};n.extend(i.prototype,a.prototype),n.extend(i,a),i.prototype.SPEED=8,i.prototype.collisionWidth=function(){return this.spriteWidth()},i.prototype.collisionHeight=function(){return this.spriteHeight()},i.prototype.spriteX=function(){return 3},i.prototype.spriteY=function(){return 3},i.prototype.spriteImage=function(){return"shot"},i.prototype.spriteWidth=function(){return 16},i.prototype.spriteHeight=function(){return 48},i.prototype.init=function(){a.prototype.init.apply(this,arguments),this.x=this.stage.character.x,this.y=this.stage.character.y},i.prototype.run=function(){a.prototype.run.apply(this,arguments),this.y-=this.SPEED},i.prototype.notifyCollision=function(t){this.stage.shotmanager.remove(this.id)},r.exports=i},{"./base":17,lodash:1}],23:[function(t,r,e){"use strict";var n=t("lodash"),a=t("./base"),i=function(t,r){a.apply(this,arguments)};n.extend(i.prototype,a.prototype),n.extend(i,a),i.prototype.init=function(t){a.prototype.init.apply(this,arguments),this.vectors=[],this.vector_index=0;var r;if(t.v&&t.v instanceof Array)for(var e=0;e<t.v.length;e++)r={},r.count=t.v[e].count,r.r=t.v[e].v.r,r.theta=t.v[e].v.theta||0,r.w=t.v[e].v.w||0,r.ra=t.v[e].v.ra||0,r.wa=t.v[e].v.wa||0,r.raa=t.v[e].v.raa||0,r.waa=t.v[e].v.waa||0,r.trange=t.v[e].v.trange||null,r.rrange=t.v[e].v.rrange||null,r.wrange=t.v[e].v.wrange||null,r.rarange=t.v[e].v.rarange||null,r.warange=t.v[e].v.warange||null,r.aimed=t.v.aimed,this.vectors.push(r);else t.v&&(r={},r.count=0,r.r=t.v.r,r.theta=t.v.theta||0,r.w=t.v.w||0,r.ra=t.v.ra||0,r.wa=t.v.wa||0,r.raa=t.v.raa||0,r.waa=t.v.waa||0,r.trange=t.v.trange||null,r.rrange=t.v.rrange||null,r.wrange=t.v.wrange||null,r.rarange=t.v.rarange||null,r.warange=t.v.warange||null,r.aimed=t.v.aimed,this.vectors.push(r));this._calculateAimedVector()},i.prototype.run=function(){if(a.prototype.run.apply(this,arguments),this.vectors[this.vector_index+1]&&this.vectors[this.vector_index+1].count<=this.frame_count){var t=this.vectors[this.vector_index].theta;this.vector_index++,t&&!this.vectors[this.vector_index].theta&&(this.vectors[this.vector_index].theta=t)}this.x+=this.calc_moveX(),this.y+=this.calc_moveY(),this.vectors[this.vector_index].theta+=this.vectors[this.vector_index].w,this.vectors[this.vector_index].r+=this.vectors[this.vector_index].ra,this.vectors[this.vector_index].w+=this.vectors[this.vector_index].wa,this.vectors[this.vector_index].ra+=this.vectors[this.vector_index].raa,this.vectors[this.vector_index].wa+=this.vectors[this.vector_index].waa,this.vectors[this.vector_index].theta=this._beInRange(this.vectors[this.vector_index].theta,this.vectors[this.vector_index].trange),this.vectors[this.vector_index].r=this._beInRange(this.vectors[this.vector_index].r,this.vectors[this.vector_index].rrange),this.vectors[this.vector_index].w=this._beInRange(this.vectors[this.vector_index].w,this.vectors[this.vector_index].wrange),this.vectors[this.vector_index].ra=this._beInRange(this.vectors[this.vector_index].ra,this.vectors[this.vector_index].rarange),this.vectors[this.vector_index].wa=this._beInRange(this.vectors[this.vector_index].wa,this.vectors[this.vector_index].warange)},i.prototype._beInRange=function(t,r){return null===r?t:(void 0!==r.max&&t>r.max&&(t=r.max),void 0!==r.min&&t<r.min&&(t=r.min),t)},i.prototype._theta_to_radian=function(t){var r=this.vectors[this.vector_index].theta/180*Math.PI;return r},i.prototype._radian_to_theta=function(t){return 180*t/Math.PI|0},i.prototype.calc_moveX=function(){var t=this.vectors[this.vector_index],r=t.r*Math.cos(this._theta_to_radian(t.theta));return r},i.prototype.calc_moveY=function(){var t=this.vectors[this.vector_index],r=t.r*Math.sin(this._theta_to_radian(t.theta));return r},i.prototype._calculateAimedVector=function(){if(this.vectors[this.vector_index].aimed){var t=this.stage.character,r=t.x-this.x,e=t.y-this.y;this.vectors[this.vector_index].theta=this._radian_to_theta(Math.atan2(e,r))}},r.exports=i},{"./base":17,lodash:1}],24:[function(t,r,e){"use strict";var n=function(t){this.game=t,this.frame_count=0};n.prototype.init=function(){this.frame_count=0},n.prototype.handleKeyDown=function(t){},n.prototype.handleKeyUp=function(t){},n.prototype.run=function(){this.frame_count++},n.prototype.updateDisplay=function(){console.error("updateDisplay method must be overridden")},r.exports=n},{}],25:[function(t,r,e){"use strict";var n=t("lodash"),a=t("./base"),i=function(t){a.apply(this,arguments),this.loadedImageNum=0,this.loadedSoundNum=0,this.loadedBGMNum=0};n.extend(i.prototype,a.prototype),n.extend(i,a),i.prototype.init=function(){this._loadImages(),this._loadSounds(),this._loadBGMs()},i.prototype.run=function(){var t=Object.keys(this.game.images).length+Object.keys(this.game.sounds).length+Object.keys(this.game.bgms).length,r=this.loadedImageNum+this.loadedSoundNum+this.loadedBGMNum;r>=t&&this.game.notifyLoadingDone()},i.prototype.updateDisplay=function(){var t=Object.keys(this.game.images).length+Object.keys(this.game.sounds).length+Object.keys(this.game.bgms).length,r=this.loadedImageNum+this.loadedSoundNum+this.loadedBGMNum;this.game.surface.save(),this.game.surface.clearRect(0,0,this.game.width,this.game.height),this.game.surface.fillStyle="rgb( 0, 0, 0 )",this.game.surface.textAlign="right",this.game.surface.fillText("loading...",180,200),this.game.surface.fillText(r+"/"+t,200,240),this.game.surface.restore()},i.prototype._loadImages=function(){var t=this,r=function(){t.loadedImageNum++};for(var e in this.game.IMAGES)this.game.images[e]=new Image,this.game.images[e].src=this.game.IMAGES[e],this.game.images[e].onload=r},i.prototype._loadSounds=function(){var t=this,r=function(r){t.loadedBGMNum++};for(var e in this.game.SOUNDS)this.game.sounds[e]=new Audio(this.game.SOUNDS[e].path),this.game.sounds[e].volume=this.game.SOUNDS[e].volume,this.game.sounds[e].addEventListener("canplay",r),this.game.sounds[e].load()},i.prototype._loadBGMs=function(){var t=this,r=function(r){t.loadedBGMNum++};for(var e in this.game.BGMS)this.game.bgms[e]=new Audio(this.game.BGMS[e].path),this.game.bgms[e].volume=this.game.BGMS[e].volume,this.game.bgms[e].addEventListener("canplay",r),this.game.bgms[e].load()},r.exports=i},{"./base":24,lodash:1}],26:[function(t,r,e){"use strict";var n=t("lodash"),a=t("./base"),i=function(t){a.apply(this,arguments)};n.extend(i.prototype,a.prototype),n.extend(i,a),i.prototype.SHOW_TRANSITION_COUNT=100,i.prototype.init=function(){a.prototype.init.apply(this,arguments),this.game.playBGM("title")},i.prototype.handleKeyDown=function(t){switch(t.keyCode){case 90:}},i.prototype.run=function(){a.prototype.run.apply(this,arguments),this.game.isKeyPush(this.game.BUTTON_Z)&&(this.game.playSound("select"),this.game.notifyOpeningDone())},i.prototype.updateDisplay=function(){this.game.surface.clearRect(0,0,this.game.width,this.game.height),this.game.surface.save(),this.frame_count<this.SHOW_TRANSITION_COUNT?this.game.surface.globalAlpha=this.frame_count/this.SHOW_TRANSITION_COUNT:this.game.surface.globalAlpha=1;var t=this.game.getImage("title_bg");this.game.surface.drawImage(t,0,0,t.width,t.height,0,0,this.game.width,this.game.height),this.game.surface.font="24px 'Comic Sans MS'",this.game.surface.textAlign="center",this.game.surface.textBaseAlign="middle",this.game.surface.fillStyle="rgb( 0, 0, 0 )",this.game.surface.fillText("Touhou Project",120,200),this.game.surface.fillText("on Javascript",120,250),this.game.surface.fillText("Press Z to Start",120,350),this.game.surface.restore()},r.exports=i},{"./base":24,lodash:1}],27:[function(t,r,e){"use strict";var n=t("lodash"),a=t("./base"),i=t("../object/character"),o=t("../manager/shot"),u=t("../manager/enemy"),s=t("../manager/bullet"),c=t("../manager/item"),h=function(t){a.apply(this,arguments),this.state=null,this.score=0,this.character=new i(1,this),this.shotmanager=new o(this),this.enemymanager=new u(this),this.bulletmanager=new s(this),this.itemmanager=new c(this),this.width=this.game.width-this.SIDE_WIDTH,this.height=this.game.height,this.continue_select_index=0};n.extend(h.prototype,a.prototype),n.extend(h,a),h.prototype.STATE_SHOOTING=1,h.prototype.STATE_GAMEOVER=2,h.prototype.STATE_CLEAR=3,h.prototype.SIDE_WIDTH=160,h.prototype.BACKGROUND_SCROLL_SPEED=3,h.prototype.SHOW_TITLE_COUNT=300,h.prototype.SHOW_RESULT_COUNT=300,h.prototype.STAGE_END_COUNT=3500,h.prototype.init=function(){a.prototype.init.apply(this,arguments),this.state=this.STATE_SHOOTING,this.score=0,this.character.init(),this.shotmanager.init(),this.enemymanager.init(),this.bulletmanager.init(),this.itemmanager.init(),this.continue_select_index=0,this.game.playBGM("stage1")},h.prototype.run=function(){return this.state===this.STATE_GAMEOVER?void this._runContinue():(this.state===this.STATE_CLEAR&&this._runClear(),a.prototype.run.apply(this,arguments),this.character.run(),this.shotmanager.run(),this.enemymanager.run(),this.bulletmanager.run(),this.itemmanager.run(),this.itemmanager.checkCollisionWithCharacter(this.character),this.shotmanager.checkCollisionWithEnemies(this.enemymanager),this.enemymanager.checkCollisionWithCharacter(this.character),this.bulletmanager.checkCollisionWithCharacter(this.character),void this._checkStageEnd())},h.prototype._runContinue=function(){this.game.isKeyPush(this.game.BUTTON_UP)?(this.game.playSound("select"),this.continue_select_index=0):this.game.isKeyPush(this.game.BUTTON_DOWN)?(this.game.playSound("select"),this.continue_select_index=1):this.game.isKeyPush(this.game.BUTTON_Z)&&(this.game.playSound("select"),0===this.continue_select_index?(this.character.init(),this.changeState(this.STATE_SHOOTING)):1===this.continue_select_index&&this.game.notifySelectQuit())},h.prototype._runClear=function(){this.game.isKeyPush(this.game.BUTTON_Z)&&(this.game.playSound("select"),this.game.notifySelectQuit())},h.prototype._checkStageEnd=function(){this.frame_count>this.STAGE_END_COUNT&&this.changeState(this.STATE_CLEAR)},h.prototype.updateDisplay=function(){this.game.surface.clearRect(0,0,this.game.width,this.game.height),this._showBackground(),this.character.updateDisplay(),this.shotmanager.updateDisplay(),this.enemymanager.updateDisplay(),this.bulletmanager.updateDisplay(),this.itemmanager.updateDisplay(),this._showSidebar(),this._showStageTitle(),this._showContinue(),this._showResult()},h.prototype._showSidebar=function(){var t=this.game.width-this.SIDE_WIDTH,r=0;this.game.surface.save(),this.game.surface.fillStyle="rgb(0, 0, 0)",this.game.surface.fillRect(t,r,this.SIDE_WIDTH,this.game.height),this.game.surface.fillStyle="rgb(255, 255, 255)",this.game.surface.font="16px 'Comic Sans MS'",this.game.surface.textAlign="right",this.game.surface.fillText("Score:",t+70,r+100),this.game.surface.fillText(this.score,t+140,r+100),this.game.surface.fillText("Player:",t+70,r+140),this.game.surface.fillText(this.character.life,t+140,r+140),this.game.surface.fillText("Frame:",t+70,r+180),this.game.surface.fillText(this.frame_count,t+140,r+180),this.game.surface.restore()},h.prototype._showBackground=function(){var t=0,r=this.frame_count*this.BACKGROUND_SCROLL_SPEED%this.game.height;this.game.surface.save();var e=this.game.getImage("stage1_bg");this.game.surface.drawImage(e,0,0,e.width,e.height,t,r,this.game.width-this.SIDE_WIDTH,this.game.height),this.game.surface.drawImage(e,0,0,e.width,e.height,t,r-this.game.height,this.game.width-this.SIDE_WIDTH,this.game.height),this.game.surface.restore()},h.prototype._showStageTitle=function(){if(!(this.frame_count>this.SHOW_TITLE_COUNT)){this.game.surface.save();var t=1;this.frame_count<this.SHOW_TITLE_COUNT/3?t=3*this.frame_count/this.SHOW_TITLE_COUNT:this.SHOW_TITLE_COUNT/3<this.frame_count&&this.frame_count<2*this.SHOW_TITLE_COUNT/3?t=1:2*this.SHOW_TITLE_COUNT/3<this.frame_count&&(t=3*(this.SHOW_TITLE_COUNT-this.frame_count)/this.SHOW_TITLE_COUNT),this.game.surface.fillStyle="rgb( 0, 0, 0 )",this.game.surface.globalAlpha=.5*t,this.game.surface.fillRect(0,170,480,100),this.game.surface.globalAlpha=t,this.game.surface.fillStyle="rgb( 255, 255, 255 )",this.game.surface.textAlign="left",this.game.surface.font="16px Arial",this.game.surface.fillText("Stage 1",100,210),this.game.surface.textAlign="right",this.game.surface.fillText("夢幻夜行絵巻 ～ Mystic Flier",380,250),this.game.surface.fillRect(100,225,280,1),this.game.surface.restore()}},h.prototype._showContinue=function(){this.state===this.STATE_GAMEOVER&&(this.game.surface.save(),this.game.surface.fillStyle="rgb( 0, 0, 0 )",this.game.surface.globalAlpha=.5,this.game.surface.fillRect(0,170,480,100),this.game.surface.fillStyle="rgb( 255, 255, 255 )",this.game.surface.textAlign="center",this.game.surface.textBaseAlign="middle",this.game.surface.font="16px Arial",this.game.surface.globalAlpha=0===this.continue_select_index?1:.2,this.game.surface.fillText("Continue",240,200),this.game.surface.globalAlpha=1===this.continue_select_index?1:.2,this.game.surface.fillText("Quit",240,240),this.game.surface.restore())},h.prototype._showResult=function(){if(this.state===this.STATE_CLEAR){var t=this.frame_count-this.STAGE_END_COUNT;this.game.surface.save();var r=1;t<this.SHOW_RESULT_COUNT/2?r=2*t/this.SHOW_RESULT_COUNT:this.SHOW_RESULT_COUNT/2<t&&(r=1),this.game.surface.fillStyle="rgb( 0, 0, 0 )",this.game.surface.globalAlpha=.5*r,this.game.surface.fillRect(0,170,480,100),this.game.surface.globalAlpha=r,this.game.surface.fillStyle="rgb( 255, 255, 255 )",this.game.surface.textAlign="left",this.game.surface.font="16px Arial",this.game.surface.fillText("Result",100,210),this.game.surface.textAlign="right",this.game.surface.fillText("Score: "+this.score,380,210),this.game.surface.fillRect(100,225,280,1),this.game.surface.fillText("Press Z to Quit",300,250),this.game.surface.restore()}},h.prototype.changeState=function(t){this.state=t},h.prototype.notifyCharacterDead=function(){this.changeState(this.STATE_GAMEOVER)},r.exports=h},{"../manager/bullet":13,"../manager/enemy":14,"../manager/item":15,"../manager/shot":16,"../object/character":19,"./base":24,lodash:1}]},{},[11]);