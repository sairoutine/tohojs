!function t(r,n,e){function a(o,u){if(!n[o]){if(!r[o]){var s="function"==typeof require&&require;if(!u&&s)return s(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var h=n[o]={exports:{}};r[o][0].call(h.exports,function(t){var n=r[o][1][t];return a(n?n:t)},h,h.exports,t,r,n,e)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<e.length;o++)a(e[o]);return a}({1:[function(t,r,n){(function(t){(function(){function e(t,r){return t.set(r[0],r[1]),t}function a(t,r){return t.add(r),t}function i(t,r,n){var e=n.length;switch(e){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}function o(t,r,n,e){for(var a=-1,i=t.length;++a<i;){var o=t[a];r(e,o,n(o),t)}return e}function u(t,r){for(var n=-1,e=t.length,a=-1,i=r.length,o=Array(e+i);++n<e;)o[n]=t[n];for(;++a<i;)o[n++]=r[a];return o}function s(t,r){for(var n=-1,e=t.length;++n<e&&r(t[n],n,t)!==!1;);return t}function c(t,r){for(var n=t.length;n--&&r(t[n],n,t)!==!1;);return t}function h(t,r){for(var n=-1,e=t.length;++n<e;)if(!r(t[n],n,t))return!1;return!0}function f(t,r){for(var n=-1,e=t.length,a=-1,i=[];++n<e;){var o=t[n];r(o,n,t)&&(i[++a]=o)}return i}function l(t,r){return!!t.length&&b(t,r,0)>-1}function p(t,r,n){for(var e=-1,a=t.length;++e<a;)if(n(r,t[e]))return!0;return!1}function v(t,r){for(var n=-1,e=t.length,a=Array(e);++n<e;)a[n]=r(t[n],n,t);return a}function g(t,r){for(var n=-1,e=r.length,a=t.length;++n<e;)t[a+n]=r[n];return t}function w(t,r,n,e){var a=-1,i=t.length;for(e&&i&&(n=t[++a]);++a<i;)n=r(n,t[a],a,t);return n}function m(t,r,n,e){var a=t.length;for(e&&a&&(n=t[--a]);a--;)n=r(n,t[a],a,t);return n}function y(t,r){for(var n=-1,e=t.length;++n<e;)if(r(t[n],n,t))return!0;return!1}function _(t,r,n){for(var e=-1,a=t.length;++e<a;){var i=t[e],o=r(i);if(null!=o&&(u===Z?o===o:n(o,u)))var u=o,s=i}return s}function d(t,r,n,e){var a;return n(t,function(t,n,i){return r(t,n,i)?(a=e?n:t,!1):void 0}),a}function x(t,r,n){for(var e=t.length,a=n?e:-1;n?a--:++a<e;)if(r(t[a],a,t))return a;return-1}function b(t,r,n){if(r!==r)return H(t,n);for(var e=n-1,a=t.length;++e<a;)if(t[e]===r)return e;return-1}function I(t,r,n,e,a){return a(t,function(t,a,i){n=e?(e=!1,t):r(n,t,a,i)}),n}function T(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}function C(t,r){for(var n,e=-1,a=t.length;++e<a;){var i=r(t[e]);i!==Z&&(n=n===Z?i:n+i)}return n}function O(t,r){for(var n=-1,e=Array(t);++n<t;)e[n]=r(n);return e}function A(t,r){return v(r,function(r){return[r,t[r]]})}function E(t){return function(r){return t(r)}}function S(t,r){return v(r,function(r){return t[r]})}function j(t,r){for(var n=-1,e=t.length;++n<e&&b(r,t[n],0)>-1;);return n}function N(t,r){for(var n=t.length;n--&&b(r,t[n],0)>-1;);return n}function D(t){return t&&t.Object===Object?t:null}function k(t,r){if(t!==r){var n=null===t,e=t===Z,a=t===t,i=null===r,o=r===Z,u=r===r;if(t>r&&!i||!a||n&&!o&&u||e&&u)return 1;if(r>t&&!n||!u||i&&!e&&a||o&&a)return-1}return 0}function R(t,r,n){for(var e=-1,a=t.criteria,i=r.criteria,o=a.length,u=n.length;++e<o;){var s=k(a[e],i[e]);if(s){if(e>=u)return s;var c=n[e];return s*("desc"==c?-1:1)}}return t.index-r.index}function U(t,r){for(var n=t.length,e=0;n--;)t[n]===r&&e++;return e}function B(t){return xn[t]}function W(t){return bn[t]}function M(t){return"\\"+Cn[t]}function H(t,r,n){for(var e=t.length,a=r+(n?0:-1);n?a--:++a<e;){var i=t[a];if(i!==i)return a}return-1}function G(t){var r=!1;if(null!=t&&"function"!=typeof t.toString)try{r=!!(t+"")}catch(n){}return r}function L(t,r){return t="number"==typeof t||Or.test(t)?+t:-1,r=null==r?xt:r,t>-1&&t%1==0&&r>t}function P(t){for(var r,n=[];!(r=t.next()).done;)n.push(r.value);return n}function K(t){var r=-1,n=Array(t.size);return t.forEach(function(t,e){n[++r]=[e,t]}),n}function Y(t,r){for(var n=-1,e=t.length,a=-1,i=[];++n<e;){var o=t[n];o!==r&&o!==At||(t[n]=At,i[++a]=n)}return i}function F(t){var r=-1,n=Array(t.size);return t.forEach(function(t){n[++r]=t}),n}function X(t){if(!t||!pn.test(t))return t.length;for(var r=ln.lastIndex=0;ln.test(t);)r++;return r}function $(t){return t.match(ln)}function z(t){return In[t]}function q(t){function r(t){if(Ho(t)&&!xh(t)&&!(t instanceof Or)){if(t instanceof D)return t;if(Ys.call(t,"__wrapped__"))return ka(t)}return new D(t)}function n(){}function D(t,r){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=Z}function Or(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Tt,this.__views__=[]}function jr(){var t=new Or(this.__wrapped__);return t.__actions__=Me(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Me(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Me(this.__views__),t}function Nr(){if(this.__filtered__){var t=new Or(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Dr(){var t=this.__wrapped__.value(),r=this.__dir__,n=xh(t),e=0>r,a=n?t.length:0,i=wa(0,a,this.__views__),o=i.start,u=i.end,s=u-o,c=e?u:o-1,h=this.__iteratees__,f=h.length,l=0,p=gc(s,this.__takeCount__);if(!n||vt>a||a==s&&p==s)return Oe(t,this.__actions__);var v=[];t:for(;s--&&p>l;){c+=r;for(var g=-1,w=t[c];++g<f;){var m=h[g],y=m.iteratee,_=m.type,d=y(w);if(_==wt)w=d;else if(!d){if(_==gt)continue t;break t}}v[l++]=w}return v}function kr(){}function Rr(t,r){return Br(t,r)&&delete t[r]}function Ur(t,r){if(bc){var n=t[r];return n===_t?Z:n}return Ys.call(t,r)?t[r]:Z}function Br(t,r){return bc?t[r]!==Z:Ys.call(t,r)}function Wr(t,r,n){t[r]=bc&&n===Z?_t:n}function Mr(t){var r=-1,n=t?t.length:0;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}function Hr(){this.__data__={hash:new kr,map:_c?new _c:[],string:new kr}}function Gr(t){var r=this.__data__;return Ta(t)?Rr("string"==typeof t?r.string:r.hash,t):_c?r.map["delete"](t):Jr(r.map,t)}function Lr(t){var r=this.__data__;return Ta(t)?Ur("string"==typeof t?r.string:r.hash,t):_c?r.map.get(t):tn(r.map,t)}function Pr(t){var r=this.__data__;return Ta(t)?Br("string"==typeof t?r.string:r.hash,t):_c?r.map.has(t):rn(r.map,t)}function Kr(t,r){var n=this.__data__;return Ta(t)?Wr("string"==typeof t?n.string:n.hash,t,r):_c?n.map.set(t,r):en(n.map,t,r),this}function Yr(t){var r=-1,n=t?t.length:0;for(this.__data__=new Mr;++r<n;)this.push(t[r])}function Fr(t,r){var n=t.__data__;if(Ta(r)){var e=n.__data__,a="string"==typeof r?e.string:e.hash;return a[r]===_t}return n.has(r)}function Xr(t){var r=this.__data__;if(Ta(t)){var n=r.__data__,e="string"==typeof t?n.string:n.hash;e[t]=_t}else r.set(t,_t)}function $r(t){var r=-1,n=t?t.length:0;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}function zr(){this.__data__={array:[],map:null}}function qr(t){var r=this.__data__,n=r.array;return n?Jr(n,t):r.map["delete"](t)}function Zr(t){var r=this.__data__,n=r.array;return n?tn(n,t):r.map.get(t)}function Vr(t){var r=this.__data__,n=r.array;return n?rn(n,t):r.map.has(t)}function Qr(t,r){var n=this.__data__,e=n.array;e&&(e.length<vt-1?en(e,t,r):(n.array=null,n.map=new Mr(e)));var a=n.map;return a&&a.set(t,r),this}function Jr(t,r){var n=nn(t,r);if(0>n)return!1;var e=t.length-1;return n==e?t.pop():sc.call(t,n,1),!0}function tn(t,r){var n=nn(t,r);return 0>n?Z:t[n][1]}function rn(t,r){return nn(t,r)>-1}function nn(t,r){for(var n=t.length;n--;)if(_o(t[n][0],r))return n;return-1}function en(t,r,n){var e=nn(t,r);0>e?t.push([r,n]):t[e][1]=n}function an(t,r,n,e){return t===Z||_o(t,Ps[n])&&!Ys.call(e,n)?r:t}function on(t,r,n){(n===Z||_o(t[r],n))&&("number"!=typeof r||n!==Z||r in t)||(t[r]=n)}function un(t,r,n){var e=t[r];Ys.call(t,r)&&_o(e,n)&&(n!==Z||r in t)||(t[r]=n)}function sn(t,r,n,e){return Nc(t,function(t,a,i){r(e,t,n(t),i)}),e}function cn(t,r){return t&&He(r,Cu(r),t)}function hn(t,r){for(var n=-1,e=null==t,a=r.length,i=Array(a);++n<a;)i[n]=e?Z:bu(t,r[n]);return i}function ln(t){return Oo(t)?t:[]}function xn(t){return"function"==typeof t?t:vs}function bn(t){return xh(t)?t:Da(t)}function In(t,r,n){return t===t&&(n!==Z&&(t=n>=t?t:n),r!==Z&&(t=t>=r?t:r)),t}function Tn(t,r,n,e,a,i){var o;if(n&&(o=a?n(t,e,a,i):n(t)),o!==Z)return o;if(!Mo(t))return t;var u=xh(t);if(u){if(o=ya(t),!r)return Me(t,o)}else{var c=ga(t),h=c==kt||c==Rt;if(bh(t))return Se(t,r);if(c==Wt||c==Et||h&&!a){if(G(t))return a?t:{};if(o=_a(h?{}:t),!r)return Le(t,cn(o,t))}else{if(!dn[c])return a?t:{};o=da(t,c,r)}}i||(i=new $r);var f=i.get(t);return f?f:(i.set(t,o),(u?s:Hn)(t,function(e,a){un(o,a,Tn(e,r,n,a,t,i))}),u?o:Le(t,o))}function Cn(t){var r=Cu(t),n=r.length;return function(e){if(null==e)return!n;for(var a=n;a--;){var i=r[a],o=t[i],u=e[i];if(u===Z&&!(i in Object(e))||!o(u))return!1}return!0}}function En(t){return Mo(t)?ic(t):{}}function Sn(t,r,n){if("function"!=typeof t)throw new Gs(yt);return uc(function(){t.apply(Z,n)},r)}function Nn(t,r,n,e){var a=-1,i=l,o=!0,u=t.length,s=[],c=r.length;if(!u)return s;n&&(r=v(r,E(n))),e?(i=p,o=!1):r.length>=vt&&(i=Fr,o=!1,r=new Yr(r));t:for(;++a<u;){var h=t[a],f=n?n(h):h;if(o&&f===f){for(var g=c;g--;)if(r[g]===f)continue t;s.push(h)}else i(r,f,e)||s.push(h)}return s}function Dn(t,r){var n=!0;return Nc(t,function(t,e,a){return n=!!r(t,e,a)}),n}function kn(t,r,n,e){var a=t.length;for(n=uu(n),0>n&&(n=-n>a?0:a+n),e=e===Z||e>a?a:uu(e),0>e&&(e+=a),e=n>e?0:su(e);e>n;)t[n++]=r;return t}function Rn(t,r){var n=[];return Nc(t,function(t,e,a){r(t,e,a)&&n.push(t)}),n}function Wn(t,r,n,e){e||(e=[]);for(var a=-1,i=t.length;++a<i;){var o=t[a];r>0&&Oo(o)&&(n||xh(o)||Io(o))?r>1?Wn(o,r-1,n,e):g(e,o):n||(e[e.length]=o)}return e}function Mn(t,r){return null==t?t:kc(t,r,Ou)}function Hn(t,r){return t&&kc(t,r,Cu)}function Gn(t,r){return t&&Rc(t,r,Cu)}function Ln(t,r){return f(r,function(r){return Uo(t[r])})}function Pn(t,r){r=Ia(r,t)?[r+""]:bn(r);for(var n=0,e=r.length;null!=t&&e>n;)t=t[r[n++]];return n&&n==e?t:Z}function Kn(t,r){return Ys.call(t,r)||"object"==typeof t&&r in t&&null===nc(t)}function Yn(t,r){return r in Object(t)}function Fn(t,r,n){return t>=gc(r,n)&&t<vc(r,n)}function Xn(t,r,n){for(var e=n?p:l,a=t.length,i=a,o=Array(a),u=[];i--;){var s=t[i];i&&r&&(s=v(s,E(r))),o[i]=!n&&(r||s.length>=120)?new Yr(i&&s):Z}s=t[0];var c=-1,h=s.length,f=o[0];t:for(;++c<h;){var g=s[c],w=r?r(g):g;if(!(f?Fr(f,w):e(u,w,n))){for(var i=a;--i;){var m=o[i];if(!(m?Fr(m,w):e(t[i],w,n)))continue t}f&&f.push(w),u.push(g)}}return u}function $n(t,r,n,e){return Hn(t,function(t,a,i){r(e,n(t),a,i)}),e}function zn(t,r,n){Ia(r,t)||(r=bn(r),t=ja(t,r),r=Va(r));var e=null==t?t:t[r];return null==e?Z:i(e,t,n)}function qn(t,r,n,e,a){return t===r?!0:null==t||null==r||!Mo(t)&&!Ho(r)?t!==t&&r!==r:Zn(t,r,qn,n,e,a)}function Zn(t,r,n,e,a,i){var o=xh(t),u=xh(r),s=St,c=St;o||(s=ga(t),s==Et?s=Wt:s!=Wt&&(o=tu(t))),u||(c=ga(r),c==Et?c=Wt:c!=Wt&&(u=tu(r)));var h=s==Wt&&!G(t),f=c==Wt&&!G(r),l=s==c;if(l&&!o&&!h)return sa(t,r,s,n,e,a);var p=a&ct;if(!p){var v=h&&Ys.call(t,"__wrapped__"),g=f&&Ys.call(r,"__wrapped__");if(v||g)return n(v?t.value():t,g?r.value():r,e,a,i)}return l?(i||(i=new $r),(o?ua:ca)(t,r,n,e,a,i)):!1}function Vn(t,r,n,e){var a=n.length,i=a,o=!e;if(null==t)return!i;for(t=Object(t);a--;){var u=n[a];if(o&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++a<i;){u=n[a];var s=u[0],c=t[s],h=u[1];if(o&&u[2]){if(c===Z&&!(s in t))return!1}else{var f=new $r,l=e?e(c,h,s,t,r,f):Z;if(!(l===Z?qn(h,c,e,st|ct,f):l))return!1}}return!0}function Qn(t){var r=typeof t;return"function"==r?t:null==t?vs:"object"==r?xh(t)?ee(t[0],t[1]):ne(t):bs(t)}function Jn(t){return pc(Object(t))}function te(t){t=null==t?t:Object(t);var r=[];for(var n in t)r.push(n);return r}function re(t,r){var n=-1,e=Co(t)?Array(t.length):[];return Nc(t,function(t,a,i){e[++n]=r(t,a,i)}),e}function ne(t){var r=la(t);if(1==r.length&&r[0][2]){var n=r[0][0],e=r[0][1];return function(t){return null==t?!1:t[n]===e&&(e!==Z||n in Object(t))}}return function(n){return n===t||Vn(n,t,r)}}function ee(t,r){return function(n){var e=bu(n,t);return e===Z&&e===r?Tu(n,t):qn(r,e,Z,st|ct)}}function ae(t,r,n,e,a){if(t!==r){var i=xh(r)||tu(r)?Z:Ou(r);s(i||r,function(o,u){if(i&&(u=o,o=r[u]),Mo(o))a||(a=new $r),ie(t,r,u,n,ae,e,a);else{var s=e?e(t[u],o,u+"",t,r,a):Z;s===Z&&(s=o),on(t,u,s)}})}}function ie(t,r,n,e,a,i,o){var u=t[n],s=r[n],c=o.get(s);if(c)return void on(t,n,c);var h=i?i(u,s,n+"",t,r,o):Z,f=h===Z;f&&(h=s,xh(s)||tu(s)?xh(u)?h=u:Oo(u)?h=Me(u):(f=!1,h=Tn(s,!0)):zo(s)||Io(s)?Io(u)?h=hu(u):!Mo(u)||e&&Uo(u)?(f=!1,h=Tn(s,!0)):h=u:f=!1),o.set(s,h),f&&a(h,s,e,i,o),on(t,n,h)}function oe(t,r,n){var e=-1,a=fa();r=v(r.length?r:Array(1),function(t){return a(t)});var i=re(t,function(t,n,a){var i=v(r,function(r){return r(t)});return{criteria:i,index:++e,value:t}});return T(i,function(t,r){return R(t,r,n)})}function ue(t,r){return t=Object(t),w(r,function(r,n){return n in t&&(r[n]=t[n]),r},{})}function se(t,r){var n={};return Mn(t,function(t,e){r(t,e)&&(n[e]=t)}),n}function ce(t){return function(r){return null==r?Z:r[t]}}function he(t){return function(r){return Pn(r,t)}}function fe(t,r){return le(t,r)}function le(t,r,n){var e=-1,a=r.length,i=t;for(n&&(i=v(t,function(t){return n(t)}));++e<a;)for(var o=0,u=r[e],s=n?n(u):u;(o=b(i,s,o))>-1;)i!==t&&sc.call(i,o,1),sc.call(t,o,1);return t}function pe(t,r){for(var n=t?r.length:0,e=n-1;n--;){var a=r[n];if(e==n||a!=i){var i=a;if(L(a))sc.call(t,a,1);else if(Ia(a,t))delete t[a];else{var o=bn(a),u=ja(t,o);null!=u&&delete u[Va(o)]}}}return t}function ve(t,r){return t+hc(mc()*(r-t+1))}function ge(t,r,n,e){for(var a=-1,i=vc(cc((r-t)/(n||1)),0),o=Array(i);i--;)o[e?i:++a]=t,t+=n;return o}function we(t,r,n,e){r=Ia(r,t)?[r+""]:bn(r);for(var a=-1,i=r.length,o=i-1,u=t;null!=u&&++a<i;){var s=r[a];if(Mo(u)){var c=n;if(a!=o){var h=u[s];c=e?e(h,s,u):Z,c===Z&&(c=null==h?L(r[a+1])?[]:{}:h)}un(u,s,c)}u=u[s]}return t}function me(t,r,n){var e=-1,a=t.length;0>r&&(r=-r>a?0:a+r),n=n>a?a:n,0>n&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var i=Array(a);++e<a;)i[e]=t[e+r];return i}function ye(t,r){var n;return Nc(t,function(t,e,a){return n=r(t,e,a),!n}),!!n}function _e(t,r,n){var e=0,a=t?t.length:e;if("number"==typeof r&&r===r&&Ot>=a){for(;a>e;){var i=e+a>>>1,o=t[i];(n?r>=o:r>o)&&null!==o?e=i+1:a=i}return a}return de(t,r,vs,n)}function de(t,r,n,e){r=n(r);for(var a=0,i=t?t.length:0,o=r!==r,u=null===r,s=r===Z;i>a;){var c=hc((a+i)/2),h=n(t[c]),f=h!==Z,l=h===h;if(o)var p=l||e;else p=u?l&&f&&(e||null!=h):s?l&&(e||f):null==h?!1:e?r>=h:r>h;p?a=c+1:i=c}return gc(i,Ct)}function xe(t){return be(t)}function be(t,r){for(var n=0,e=t.length,a=t[0],i=r?r(a):a,o=i,u=0,s=[a];++n<e;)a=t[n],i=r?r(a):a,_o(i,o)||(o=i,s[++u]=a);return s}function Ie(t,r,n){var e=-1,a=l,i=t.length,o=!0,u=[],s=u;if(n)o=!1,a=p;else if(i>=vt){var c=r?null:Bc(t);if(c)return F(c);o=!1,a=Fr,s=new Yr}else s=r?[]:u;t:for(;++e<i;){var h=t[e],f=r?r(h):h;if(o&&f===f){for(var v=s.length;v--;)if(s[v]===f)continue t;r&&s.push(f),u.push(h)}else a(s,f,n)||(s!==u&&s.push(f),u.push(h))}return u}function Te(t,r){r=Ia(r,t)?[r+""]:bn(r),t=ja(t,r);var n=Va(r);return null!=t&&Iu(t,n)?delete t[n]:!0}function Ce(t,r,n,e){for(var a=t.length,i=e?a:-1;(e?i--:++i<a)&&r(t[i],i,t););return n?me(t,e?0:i,e?i+1:a):me(t,e?i+1:0,e?a:i)}function Oe(t,r){var n=t;return n instanceof Or&&(n=n.value()),w(r,function(t,r){return r.func.apply(r.thisArg,g([t],r.args))},n)}function Ae(t,r,n){for(var e=-1,a=t.length;++e<a;)var i=i?g(Nn(i,t[e],r,n),Nn(t[e],i,r,n)):t[e];return i&&i.length?Ie(i,r,n):[]}function Ee(t,r,n){for(var e=-1,a=t.length,i=r.length,o={};++e<a;)n(o,t[e],i>e?r[e]:Z);return o}function Se(t,r){if(r)return t.slice();var n=t.constructor,e=new n(t.length);return t.copy(e),e}function je(t){var r=t.constructor,n=new r(t.byteLength),e=new Js(n);return e.set(new Js(t)),n}function Ne(t){var r=t.constructor;return w(K(t),e,new r)}function De(t){var r=t.constructor,n=new r(t.source,dr.exec(t));return n.lastIndex=t.lastIndex,n}function ke(t){var r=t.constructor;return w(F(t),a,new r)}function Re(t){return Qs?Object(Ec.call(t)):{}}function Ue(t,r){var n=t.buffer,e=r?je(n):n,a=t.constructor;return new a(e,t.byteOffset,t.length)}function Be(t,r,n,e){for(var a=-1,i=t.length,o=n.length,u=-1,s=r.length,c=vc(i-o,0),h=Array(s+c),f=!e;++u<s;)h[u]=r[u];for(;++a<o;)(f||i>a)&&(h[n[a]]=t[a]);for(;c--;)h[u++]=t[a++];return h}function We(t,r,n,e){for(var a=-1,i=t.length,o=-1,u=n.length,s=-1,c=r.length,h=vc(i-u,0),f=Array(h+c),l=!e;++a<h;)f[a]=t[a];for(var p=a;++s<c;)f[p+s]=r[s];for(;++o<u;)(l||i>a)&&(f[p+n[o]]=t[a++]);return f}function Me(t,r){var n=-1,e=t.length;for(r||(r=Array(e));++n<e;)r[n]=t[n];return r}function He(t,r,n){return Ge(t,r,n)}function Ge(t,r,n,e){n||(n={});for(var a=-1,i=r.length;++a<i;){var o=r[a],u=e?e(n[o],t[o],o,n,t):t[o];un(n,o,u)}return n}function Le(t,r){return He(t,Hc(t),r)}function Pe(t,r){return function(n,e){var a=xh(n)?o:sn,i=r?r():{};return a(n,t,fa(e),i)}}function Ke(t){return co(function(r,n){var e=-1,a=n.length,i=a>1?n[a-1]:Z,o=a>2?n[2]:Z;for(i="function"==typeof i?(a--,i):Z,o&&ba(n[0],n[1],o)&&(i=3>a?Z:i,a=1),r=Object(r);++e<a;){var u=n[e];u&&t(r,u,e,i)}return r})}function Ye(t,r){return function(n,e){if(null==n)return n;if(!Co(n))return t(n,e);for(var a=n.length,i=r?a:-1,o=Object(n);(r?i--:++i<a)&&e(o[i],i,o)!==!1;);return n}}function Fe(t){return function(r,n,e){for(var a=-1,i=Object(r),o=e(r),u=o.length;u--;){var s=o[t?u:++a];if(n(i[s],s,i)===!1)break}return r}}function Xe(t,r,n){function e(){var r=this&&this!==Un&&this instanceof e?i:t;return r.apply(a?n:this,arguments)}var a=r&Q,i=qe(t);return e}function $e(t){return function(r){r=lu(r);var n=pn.test(r)?$(r):Z,e=n?n[0]:r.charAt(0),a=n?n.slice(1).join(""):r.slice(1);return e[t]()+a}}function ze(t){return function(r){return w(hs(Yu(r)),t,"")}}function qe(t){return function(){var r=arguments;switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);case 5:return new t(r[0],r[1],r[2],r[3],r[4]);case 6:return new t(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new t(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var n=En(t.prototype),e=t.apply(n,r);return Mo(e)?e:n}}function Ze(t,r,n){function e(){for(var o=arguments.length,u=Array(o),s=o,c=va(e);s--;)u[s]=arguments[s];var h=3>o&&u[0]!==c&&u[o-1]!==c?[]:Y(u,c);if(o-=h.length,n>o)return aa(t,r,Qe,e.placeholder,Z,u,h,Z,Z,n-o);var f=this&&this!==Un&&this instanceof e?a:t;return i(f,this,u)}var a=qe(t);return e}function Ve(t){return co(function(r){r=Wn(r,1);var n=r.length,e=n,a=D.prototype.thru;for(t&&r.reverse();e--;){var i=r[e];if("function"!=typeof i)throw new Gs(yt);if(a&&!o&&"wrapper"==ha(i))var o=new D([],!0)}for(e=o?e:n;++e<n;){i=r[e];var u=ha(i),s="wrapper"==u?Wc(i):Z;o=s&&Ca(s[0])&&s[1]==(it|rt|et|ot)&&!s[4].length&&1==s[9]?o[ha(s[0])].apply(o,s[3]):1==i.length&&Ca(i)?o[u]():o.thru(i)}return function(){var t=arguments,e=t[0];if(o&&1==t.length&&xh(e)&&e.length>=vt)return o.plant(e).value();for(var a=0,i=n?r[a].apply(this,t):e;++a<n;)i=r[a].call(this,i);return i}})}function Qe(t,r,n,e,a,i,o,u,s,c){function h(){for(var m=arguments.length,y=m,_=Array(m);y--;)_[y]=arguments[y];if(v)var d=va(h),x=U(_,d);if(e&&(_=Be(_,e,a,v)),i&&(_=We(_,i,o,v)),m-=x,v&&c>m){var b=Y(_,d);return aa(t,r,Qe,h.placeholder,n,_,b,u,s,c-m)}var I=l?n:this,T=p?I[t]:t;return m=_.length,u?_=Na(_,u):g&&m>1&&_.reverse(),f&&m>s&&(_.length=s),this&&this!==Un&&this instanceof h&&(T=w||qe(T)),T.apply(I,_)}var f=r&it,l=r&Q,p=r&J,v=r&(rt|nt),g=r&ut,w=p?Z:qe(t);return h}function Je(t,r){return function(n,e){return $n(n,t,r(e),{})}}function ta(t){return co(function(r){return r=v(Wn(r,1),fa()),co(function(n){var e=this;return t(r,function(t){return i(t,e,n)})})})}function ra(t,r,n){r=uu(r);var e=X(t);if(!r||e>=r)return"";var a=r-e;n=n===Z?" ":n+"";var i=Qu(n,cc(a/X(n)));return pn.test(n)?$(i).slice(0,a).join(""):i.slice(0,a)}function na(t,r,n,e){function a(){for(var r=-1,s=arguments.length,c=-1,h=e.length,f=Array(h+s),l=this&&this!==Un&&this instanceof a?u:t;++c<h;)f[c]=e[c];for(;s--;)f[c++]=arguments[++r];return i(l,o?n:this,f)}var o=r&Q,u=qe(t);return a}function ea(t){return function(r,n,e){return e&&"number"!=typeof e&&ba(r,n,e)&&(n=e=Z),r=cu(r),r=r===r?r:0,n===Z?(n=r,r=0):n=cu(n)||0,e=e===Z?n>r?1:-1:cu(e)||0,ge(r,n,e,t)}}function aa(t,r,n,e,a,i,o,u,s,c){var h=r&rt,f=u?Me(u):Z,l=h?o:Z,p=h?Z:o,v=h?i:Z,g=h?Z:i;r|=h?et:at,r&=~(h?at:et),r&tt||(r&=~(Q|J));var w=[t,r,a,v,l,g,p,f,s,c],m=n.apply(Z,w);return Ca(t)&&Gc(m,w),m.placeholder=e,m}function ia(t){var r=Ms[t];return function(t,n){if(t=cu(t),n=uu(n)){var e=(lu(t)+"e").split("e"),a=r(e[0]+"e"+(+e[1]+n));return e=(lu(a)+"e").split("e"),+(e[0]+"e"+(+e[1]-n))}return r(t)}}function oa(t,r,n,e,a,i,o,u){var s=r&J;if(!s&&"function"!=typeof t)throw new Gs(yt);var c=e?e.length:0;if(c||(r&=~(et|at),e=a=Z),o=o===Z?o:vc(uu(o),0),u=u===Z?u:uu(u),c-=a?a.length:0,r&at){var h=e,f=a;e=a=Z}var l=s?Z:Wc(t),p=[t,r,n,e,a,h,f,i,o,u];if(l&&Ea(p,l),t=p[0],r=p[1],n=p[2],e=p[3],a=p[4],u=p[9]=null==p[9]?s?0:t.length:vc(p[9]-c,0),!u&&r&(rt|nt)&&(r&=~(rt|nt)),r&&r!=Q)v=r==rt||r==nt?Ze(t,r,u):r!=et&&r!=(Q|et)||a.length?Qe.apply(Z,p):na(t,r,n,e);else var v=Xe(t,r,n);var g=l?Uc:Gc;return g(v,p)}function ua(t,r,n,e,a,i){var o=-1,u=a&ct,s=a&st,c=t.length,h=r.length;if(c!=h&&!(u&&h>c))return!1;var f=i.get(t);if(f)return f==r;var l=!0;for(i.set(t,r);++o<c;){var p=t[o],v=r[o];if(e)var g=u?e(v,p,o,r,t,i):e(p,v,o,t,r,i);if(g!==Z){if(g)continue;l=!1;break}if(s){if(!y(r,function(t){return p===t||n(p,t,e,a,i)})){l=!1;break}}else if(p!==v&&!n(p,v,e,a,i)){l=!1;break}}return i["delete"](t),l}function sa(t,r,n,e,a,i){switch(n){case Yt:return!(t.byteLength!=r.byteLength||!e(new Js(t),new Js(r)));case jt:case Nt:return+t==+r;case Dt:return t.name==r.name&&t.message==r.message;case Bt:return t!=+t?r!=+r:t==+r;case Mt:case Gt:return t==r+"";case Ut:var o=K;case Ht:var u=i&ct;return o||(o=F),(u||t.size==r.size)&&e(o(t),o(r),a,i|st);case Lt:return!!Qs&&Ec.call(t)==Ec.call(r)}return!1}function ca(t,r,n,e,a,i){var o=a&ct,u=Cu(t),s=u.length,c=Cu(r),h=c.length;if(s!=h&&!o)return!1;for(var f=s;f--;){var l=u[f];if(!(o?l in r:Kn(r,l)))return!1}var p=i.get(t);if(p)return p==r;var v=!0;i.set(t,r);for(var g=o;++f<s;){l=u[f];var w=t[l],m=r[l];if(e)var y=o?e(m,w,l,r,t,i):e(w,m,l,t,r,i);if(!(y===Z?w===m||n(w,m,e,a,i):y)){v=!1;break}g||(g="constructor"==l)}if(v&&!g){var _=t.constructor,d=r.constructor;_!=d&&"constructor"in t&&"constructor"in r&&!("function"==typeof _&&_ instanceof _&&"function"==typeof d&&d instanceof d)&&(v=!1)}return i["delete"](t),v}function ha(t){for(var r=t.name+"",n=jc[r],e=Ys.call(jc,r)?n.length:0;e--;){var a=n[e],i=a.func;if(null==i||i==t)return a.name}return r}function fa(){var t=r.iteratee||gs;return t=t===gs?Qn:t,arguments.length?t(arguments[0],arguments[1]):t}function la(t){for(var r=Ru(t),n=r.length;n--;)r[n][2]=Aa(r[n][1]);return r}function pa(t,r){var n=null==t?Z:t[r];return Yo(n)?n:Z}function va(t){var n=Ys.call(r,"placeholder")?r:t;return n.placeholder}function ga(t){return $s.call(t)}function wa(t,r,n){for(var e=-1,a=n.length;++e<a;){var i=n[e],o=i.size;switch(i.type){case"drop":t+=o;break;case"dropRight":r-=o;break;case"take":r=gc(r,t+o);break;case"takeRight":t=vc(t,r-o)}}return{start:t,end:r}}function ma(t,r,n){if(null==t)return!1;var e=n(t,r);e||Ia(r)||(r=bn(r),t=ja(t,r),null!=t&&(r=Va(r),e=n(t,r)));var a=t?t.length:Z;return e||!!a&&Wo(a)&&L(r,a)&&(xh(t)||Qo(t)||Io(t))}function ya(t){var r=t.length,n=t.constructor(r);return r&&"string"==typeof t[0]&&Ys.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function _a(t){return Uo(t.constructor)&&!Oa(t)?En(nc(t)):{}}function da(t,r,n){var e=t.constructor;switch(r){case Yt:return je(t);case jt:case Nt:return new e(+t);case Ft:case Xt:case $t:case zt:case qt:case Zt:case Vt:case Qt:case Jt:return Ue(t,n);case Ut:return Ne(t);case Bt:case Gt:return new e(t);case Mt:return De(t);case Ht:return ke(t);case Lt:return Re(t)}}function xa(t){var r=t?t.length:Z;return Wo(r)&&(xh(t)||Qo(t)||Io(t))?O(r,String):null}function ba(t,r,n){if(!Mo(n))return!1;var e=typeof r;return("number"==e?Co(n)&&L(r,n.length):"string"==e&&r in n)?_o(n[r],t):!1}function Ia(t,r){return"number"==typeof t?!0:!xh(t)&&(fr.test(t)||!hr.test(t)||null!=r&&t in Object(r))}function Ta(t){var r=typeof t;return"number"==r||"boolean"==r||"string"==r&&"__proto__"!=t||null==t}function Ca(t){var n=ha(t),e=r[n];if("function"!=typeof e||!(n in Or.prototype))return!1;if(t===e)return!0;var a=Wc(e);return!!a&&t===a[0]}function Oa(t){var r=t&&t.constructor,n=Uo(r)&&r.prototype||Ps;return t===n}function Aa(t){return t===t&&!Mo(t)}function Ea(t,r){var n=t[1],e=r[1],a=n|e,i=(Q|J|it)>a,o=e==it&&n==rt||e==it&&n==ot&&t[7].length<=r[8]||e==(it|ot)&&r[7].length<=r[8]&&n==rt;if(!i&&!o)return t;e&Q&&(t[2]=r[2],a|=n&Q?0:tt);var u=r[3];if(u){var s=t[3];t[3]=s?Be(s,u,r[4]):Me(u),t[4]=s?Y(t[3],At):Me(r[4])}return u=r[5],u&&(s=t[5],t[5]=s?We(s,u,r[6]):Me(u),t[6]=s?Y(t[5],At):Me(r[6])),u=r[7],u&&(t[7]=Me(u)),e&it&&(t[8]=null==t[8]?r[8]:gc(t[8],r[8])),null==t[9]&&(t[9]=r[9]),t[0]=r[0],t[1]=a,t}function Sa(t,r,n,e,a,i){return Mo(t)&&Mo(r)&&(i.set(r,t),ae(t,r,Z,Sa,i)),t}function ja(t,r){return 1==r.length?t:bu(t,me(r,0,-1))}function Na(t,r){for(var n=t.length,e=gc(r.length,n),a=Me(t);e--;){var i=r[e];t[e]=L(i,n)?a[i]:Z}return t}function Da(t){var r=[];return lu(t).replace(lr,function(t,n,e,a){r.push(e?a.replace(yr,"$1"):n||t)}),r}function ka(t){if(t instanceof Or)return t.clone();var r=new D(t.__wrapped__,t.__chain__);return r.__actions__=Me(t.__actions__),r.__index__=t.__index__,r.__values__=t.__values__,r}function Ra(t,r){r=vc(uu(r),0);var n=t?t.length:0;if(!n||1>r)return[];for(var e=0,a=-1,i=Array(cc(n/r));n>e;)i[++a]=me(t,e,e+=r);return i}function Ua(t){for(var r=-1,n=t?t.length:0,e=-1,a=[];++r<n;){var i=t[r];i&&(a[++e]=i)}return a}function Ba(t,r,n){var e=t?t.length:0;return e?(r=n||r===Z?1:uu(r),me(t,0>r?0:r,e)):[]}function Wa(t,r,n){var e=t?t.length:0;return e?(r=n||r===Z?1:uu(r),r=e-r,me(t,0,0>r?0:r)):[]}function Ma(t,r){return t&&t.length?Ce(t,fa(r,3),!0,!0):[]}function Ha(t,r){return t&&t.length?Ce(t,fa(r,3),!0):[]}function Ga(t,r,n,e){var a=t?t.length:0;return a?(n&&"number"!=typeof n&&ba(t,r,n)&&(n=0,e=a),kn(t,r,n,e)):[]}function La(t,r){return t&&t.length?x(t,fa(r,3)):-1}function Pa(t,r){return t&&t.length?x(t,fa(r,3),!0):-1}function Ka(t){var r=t?t.length:0;return r?Wn(t,1):[]}function Ya(t){var r=t?t.length:0;return r?Wn(t,dt):[]}function Fa(t,r){var n=t?t.length:0;return n?(r=r===Z?1:uu(r),Wn(t,r)):[]}function Xa(t){for(var r=-1,n=t?t.length:0,e={};++r<n;){var a=t[r];e[a[0]]=a[1]}return e}function $a(t){return t?t[0]:Z}function za(t,r,n){var e=t?t.length:0;return e?(n=uu(n),0>n&&(n=vc(e+n,0)),b(t,r,n)):-1}function qa(t){return Wa(t,1)}function Za(t,r){return t?lc.call(t,r):""}function Va(t){var r=t?t.length:0;return r?t[r-1]:Z}function Qa(t,r,n){var e=t?t.length:0;if(!e)return-1;var a=e;if(n!==Z&&(a=uu(n),a=(0>a?vc(e+a,0):gc(a,e-1))+1),r!==r)return H(t,a,!0);for(;a--;)if(t[a]===r)return a;return-1}function Ja(t,r){return t&&t.length&&r&&r.length?fe(t,r):t}function ti(t,r,n){return t&&t.length&&r&&r.length?le(t,r,fa(n)):t}function ri(t,r){var n=[];if(!t||!t.length)return n;var e=-1,a=[],i=t.length;for(r=fa(r,3);++e<i;){var o=t[e];r(o,e,t)&&(n.push(o),a.push(e))}return pe(t,a),n}function ni(t){return t?yc.call(t):t}function ei(t,r,n){var e=t?t.length:0;return e?(n&&"number"!=typeof n&&ba(t,r,n)?(r=0,n=e):(r=null==r?0:uu(r),n=n===Z?e:uu(n)),me(t,r,n)):[]}function ai(t,r){return _e(t,r)}function ii(t,r,n){return de(t,r,fa(n))}function oi(t,r){var n=t?t.length:0;if(n){var e=_e(t,r);if(n>e&&_o(t[e],r))return e}return-1}function ui(t,r){return _e(t,r,!0)}function si(t,r,n){return de(t,r,fa(n),!0)}function ci(t,r){var n=t?t.length:0;if(n){var e=_e(t,r,!0)-1;if(_o(t[e],r))return e}return-1}function hi(t){return t&&t.length?xe(t):[]}function fi(t,r){return t&&t.length?be(t,fa(r)):[]}function li(t){return Ba(t,1)}function pi(t,r,n){return t&&t.length?(r=n||r===Z?1:uu(r),me(t,0,0>r?0:r)):[]}function vi(t,r,n){var e=t?t.length:0;return e?(r=n||r===Z?1:uu(r),r=e-r,me(t,0>r?0:r,e)):[]}function gi(t,r){return t&&t.length?Ce(t,fa(r,3),!1,!0):[]}function wi(t,r){return t&&t.length?Ce(t,fa(r,3)):[]}function mi(t){return t&&t.length?Ie(t):[]}function yi(t,r){return t&&t.length?Ie(t,fa(r)):[]}function _i(t,r){return t&&t.length?Ie(t,Z,r):[]}function di(t){if(!t||!t.length)return[];var r=0;return t=f(t,function(t){return Oo(t)?(r=vc(t.length,r),!0):void 0}),O(r,function(r){return v(t,ce(r))})}function xi(t,r){if(!t||!t.length)return[];var n=di(t);return null==r?n:v(n,function(t){return i(r,Z,t)})}function bi(t,r){return Ee(t||[],r||[],un)}function Ii(t,r){return Ee(t||[],r||[],we)}function Ti(t){var n=r(t);return n.__chain__=!0,n}function Ci(t,r){return r(t),t}function Oi(t,r){return r(t)}function Ai(){return Ti(this)}function Ei(){return new D(this.value(),this.__chain__)}function Si(t){return this.map(t).flatten()}function ji(){this.__values__===Z&&(this.__values__=ou(this.value()));var t=this.__index__>=this.__values__.length,r=t?Z:this.__values__[this.__index__++];return{done:t,value:r}}function Ni(){return this}function Di(t){for(var r,e=this;e instanceof n;){var a=ka(e);a.__index__=0,a.__values__=Z,r?i.__wrapped__=a:r=a;var i=a;e=e.__wrapped__}return i.__wrapped__=t,r}function ki(){var t=this.__wrapped__;if(t instanceof Or){var r=t;return this.__actions__.length&&(r=new Or(this)),r=r.reverse(),r.__actions__.push({func:Oi,args:[ni],thisArg:Z}),new D(r,this.__chain__)}return this.thru(ni)}function Ri(){return Oe(this.__wrapped__,this.__actions__)}function Ui(t,r,n){var e=xh(t)?h:Dn;return n&&ba(t,r,n)&&(r=Z),e(t,fa(r,3))}function Bi(t,r){var n=xh(t)?f:Rn;return n(t,fa(r,3))}function Wi(t,r){if(r=fa(r,3),xh(t)){var n=x(t,r);return n>-1?t[n]:Z}return d(t,r,Nc)}function Mi(t,r){if(r=fa(r,3),xh(t)){var n=x(t,r,!0);return n>-1?t[n]:Z}return d(t,r,Dc)}function Hi(t,r){return Wn(Ki(t,r),1)}function Gi(t,r){return"function"==typeof r&&xh(t)?s(t,r):Nc(t,xn(r))}function Li(t,r){return"function"==typeof r&&xh(t)?c(t,r):Dc(t,xn(r))}function Pi(t,r,n,e){t=Co(t)?t:Mu(t),n=n&&!e?uu(n):0;var a=t.length;return 0>n&&(n=vc(a+n,0)),Qo(t)?a>=n&&t.indexOf(r,n)>-1:!!a&&b(t,r,n)>-1}function Ki(t,r){var n=xh(t)?v:re;return n(t,fa(r,3))}function Yi(t,r,n,e){return null==t?[]:(xh(r)||(r=null==r?[]:[r]),n=e?Z:n,xh(n)||(n=null==n?[]:[n]),oe(t,r,n))}function Fi(t,r,n){var e=xh(t)?w:I,a=arguments.length<3;return e(t,fa(r,4),n,a,Nc)}function Xi(t,r,n){var e=xh(t)?m:I,a=arguments.length<3;return e(t,fa(r,4),n,a,Dc)}function $i(t,r){var n=xh(t)?f:Rn;return r=fa(r,3),n(t,function(t,n,e){return!r(t,n,e)})}function zi(t){var r=Co(t)?t:Mu(t),n=r.length;return n>0?r[ve(0,n-1)]:Z}function qi(t,r){var n=-1,e=ou(t),a=e.length,i=a-1;for(r=In(uu(r),0,a);++n<r;){var o=ve(n,i),u=e[o];e[o]=e[n],e[n]=u}return e.length=r,e}function Zi(t){return qi(t,Tt)}function Vi(t){if(null==t)return 0;if(Co(t)){var r=t.length;return r&&Qo(t)?X(t):r}return Cu(t).length}function Qi(t,r,n){var e=xh(t)?y:ye;return n&&ba(t,r,n)&&(r=Z),e(t,fa(r,3))}function Ji(t,r){if("function"!=typeof r)throw new Gs(yt);return t=uu(t),function(){return--t<1?r.apply(this,arguments):void 0}}function to(t,r,n){return r=n?Z:r,r=t&&null==r?t.length:r,oa(t,it,Z,Z,Z,Z,r)}function ro(t,r){var n;if("function"!=typeof r)throw new Gs(yt);return t=uu(t),function(){return--t>0&&(n=r.apply(this,arguments)),1>=t&&(r=Z),n}}function no(t,r,n){r=n?Z:r;var e=oa(t,rt,Z,Z,Z,Z,Z,r);return e.placeholder=no.placeholder,e}function eo(t,r,n){r=n?Z:r;var e=oa(t,nt,Z,Z,Z,Z,Z,r);return e.placeholder=eo.placeholder,e}function ao(t,r,n){function e(){v&&tc(v),h&&tc(h),w=0,c=h=p=v=g=Z}function a(r,n){n&&tc(n),h=v=g=Z,r&&(w=lh(),f=t.apply(p,c),v||h||(c=p=Z))}function i(){var t=r-(lh()-l);0>=t||t>r?a(g,h):v=uc(i,t)}function o(){return(v&&g||h&&_)&&(f=t.apply(p,c)),e(),f}function u(){a(_,v)}function s(){if(c=arguments,l=lh(),p=this,g=_&&(v||!m),y===!1)var n=m&&!v;else{w||h||m||(w=l);var e=y-(l-w),a=(0>=e||e>y)&&(m||h);a?(h&&(h=tc(h)),w=l,f=t.apply(p,c)):h||(h=uc(u,e))}return a&&v?v=tc(v):v||r===y||(v=uc(i,r)),
n&&(a=!0,f=t.apply(p,c)),!a||v||h||(c=p=Z),f}var c,h,f,l,p,v,g,w=0,m=!1,y=!1,_=!0;if("function"!=typeof t)throw new Gs(yt);return r=cu(r)||0,Mo(n)&&(m=!!n.leading,y="maxWait"in n&&vc(cu(n.maxWait)||0,r),_="trailing"in n?!!n.trailing:_),s.cancel=e,s.flush=o,s}function io(t){return oa(t,ut)}function oo(t,r){if("function"!=typeof t||r&&"function"!=typeof r)throw new Gs(yt);var n=function(){var e=arguments,a=r?r.apply(this,e):e[0],i=n.cache;if(i.has(a))return i.get(a);var o=t.apply(this,e);return n.cache=i.set(a,o),o};return n.cache=new oo.Cache,n}function uo(t){if("function"!=typeof t)throw new Gs(yt);return function(){return!t.apply(this,arguments)}}function so(t){return ro(2,t)}function co(t,r){if("function"!=typeof t)throw new Gs(yt);return r=vc(r===Z?t.length-1:uu(r),0),function(){for(var n=arguments,e=-1,a=vc(n.length-r,0),o=Array(a);++e<a;)o[e]=n[r+e];switch(r){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}var u=Array(r+1);for(e=-1;++e<r;)u[e]=n[e];return u[r]=o,i(t,this,u)}}function ho(t,r){if("function"!=typeof t)throw new Gs(yt);return r=r===Z?0:vc(uu(r),0),co(function(n){var e=n[r],a=n.slice(0,r);return e&&g(a,e),i(t,this,a)})}function fo(t,r,n){var e=!0,a=!0;if("function"!=typeof t)throw new Gs(yt);return Mo(n)&&(e="leading"in n?!!n.leading:e,a="trailing"in n?!!n.trailing:a),ao(t,r,{leading:e,maxWait:r,trailing:a})}function lo(t){return to(t,1)}function po(t,r){return r=null==r?vs:r,yh(r,t)}function vo(){if(!arguments.length)return[];var t=arguments[0];return xh(t)?t:[t]}function go(t){return Tn(t)}function wo(t,r){return Tn(t,!1,r)}function mo(t){return Tn(t,!0)}function yo(t,r){return Tn(t,!0,r)}function _o(t,r){return t===r||t!==t&&r!==r}function xo(t,r){return t>r}function bo(t,r){return t>=r}function Io(t){return Oo(t)&&Ys.call(t,"callee")&&(!oc.call(t,"callee")||$s.call(t)==Et)}function To(t){return Ho(t)&&$s.call(t)==Yt}function Co(t){return null!=t&&!("function"==typeof t&&Uo(t))&&Wo(Mc(t))}function Oo(t){return Ho(t)&&Co(t)}function Ao(t){return t===!0||t===!1||Ho(t)&&$s.call(t)==jt}function Eo(t){return Ho(t)&&$s.call(t)==Nt}function So(t){return!!t&&1===t.nodeType&&Ho(t)&&!zo(t)}function jo(t){if(Co(t)&&(xh(t)||Qo(t)||Uo(t.splice)||Io(t)))return!t.length;for(var r in t)if(Ys.call(t,r))return!1;return!0}function No(t,r){return qn(t,r)}function Do(t,r,n){n="function"==typeof n?n:Z;var e=n?n(t,r):Z;return e===Z?qn(t,r,n):!!e}function ko(t){return Ho(t)?$s.call(t)==Dt||"string"==typeof t.message&&"string"==typeof t.name:!1}function Ro(t){return"number"==typeof t&&fc(t)}function Uo(t){var r=Mo(t)?$s.call(t):"";return r==kt||r==Rt}function Bo(t){return"number"==typeof t&&t==uu(t)}function Wo(t){return"number"==typeof t&&t>-1&&t%1==0&&xt>=t}function Mo(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}function Ho(t){return!!t&&"object"==typeof t}function Go(t){return Ho(t)&&ga(t)==Ut}function Lo(t,r){return t===r||Vn(t,r,la(r))}function Po(t,r,n){return n="function"==typeof n?n:Z,Vn(t,r,la(r),n)}function Ko(t){return $o(t)&&t!=+t}function Yo(t){return null==t?!1:Uo(t)?qs.test(Ks.call(t)):Ho(t)&&(G(t)?qs:Tr).test(t)}function Fo(t){return null===t}function Xo(t){return null==t}function $o(t){return"number"==typeof t||Ho(t)&&$s.call(t)==Bt}function zo(t){if(!Ho(t)||$s.call(t)!=Wt||G(t))return!1;var r=nc(t);if(null===r)return!0;var n=r.constructor;return"function"==typeof n&&n instanceof n&&Ks.call(n)==Xs}function qo(t){return Mo(t)&&$s.call(t)==Mt}function Zo(t){return Bo(t)&&t>=-xt&&xt>=t}function Vo(t){return Ho(t)&&ga(t)==Ht}function Qo(t){return"string"==typeof t||!xh(t)&&Ho(t)&&$s.call(t)==Gt}function Jo(t){return"symbol"==typeof t||Ho(t)&&$s.call(t)==Lt}function tu(t){return Ho(t)&&Wo(t.length)&&!!_n[$s.call(t)]}function ru(t){return t===Z}function nu(t){return Ho(t)&&ga(t)==Pt}function eu(t){return Ho(t)&&$s.call(t)==Kt}function au(t,r){return r>t}function iu(t,r){return r>=t}function ou(t){if(!t)return[];if(Co(t))return Qo(t)?$(t):Me(t);if(ac&&t[ac])return P(t[ac]());var r=ga(t),n=r==Ut?K:r==Ht?F:Mu;return n(t)}function uu(t){if(!t)return 0===t?t:0;if(t=cu(t),t===dt||t===-dt){var r=0>t?-1:1;return r*bt}var n=t%1;return t===t?n?t-n:t:0}function su(t){return t?In(uu(t),0,Tt):0}function cu(t){if(Mo(t)){var r=Uo(t.valueOf)?t.valueOf():t;t=Mo(r)?r+"":r}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(gr,"");var n=Ir.test(t);return n||Cr.test(t)?An(t.slice(2),n?2:8):br.test(t)?It:+t}function hu(t){return He(t,Ou(t))}function fu(t){return In(uu(t),-xt,xt)}function lu(t){if("string"==typeof t)return t;if(null==t)return"";if(Jo(t))return Qs?Sc.call(t):"";var r=t+"";return"0"==r&&1/t==-dt?"-0":r}function pu(t,r){var n=En(t);return r?cn(n,r):n}function vu(t,r){return d(t,fa(r,3),Hn,!0)}function gu(t,r){return d(t,fa(r,3),Gn,!0)}function wu(t,r){return null==t?t:kc(t,xn(r),Ou)}function mu(t,r){return null==t?t:Rc(t,xn(r),Ou)}function yu(t,r){return t&&Hn(t,xn(r))}function _u(t,r){return t&&Gn(t,xn(r))}function du(t){return null==t?[]:Ln(t,Cu(t))}function xu(t){return null==t?[]:Ln(t,Ou(t))}function bu(t,r,n){var e=null==t?Z:Pn(t,r);return e===Z?n:e}function Iu(t,r){return ma(t,r,Kn)}function Tu(t,r){return ma(t,r,Yn)}function Cu(t){var r=Oa(t);if(!r&&!Co(t))return Jn(t);var n=xa(t),e=!!n,a=n||[],i=a.length;for(var o in t)!Kn(t,o)||e&&("length"==o||L(o,i))||r&&"constructor"==o||a.push(o);return a}function Ou(t){for(var r=-1,n=Oa(t),e=te(t),a=e.length,i=xa(t),o=!!i,u=i||[],s=u.length;++r<a;){var c=e[r];o&&("length"==c||L(c,s))||"constructor"==c&&(n||!Ys.call(t,c))||u.push(c)}return u}function Au(t,r){var n={};return r=fa(r,3),Hn(t,function(t,e,a){n[r(t,e,a)]=t}),n}function Eu(t,r){var n={};return r=fa(r,3),Hn(t,function(t,e,a){n[e]=r(t,e,a)}),n}function Su(t,r){return r=fa(r),se(t,function(t,n){return!r(t,n)})}function ju(t,r){return null==t?{}:se(t,fa(r))}function Nu(t,r,n){if(Ia(r,t))e=null==t?Z:t[r];else{r=bn(r);var e=bu(t,r);t=ja(t,r)}return e===Z&&(e=n),Uo(e)?e.call(t):e}function Du(t,r,n){return null==t?t:we(t,r,n)}function ku(t,r,n,e){return e="function"==typeof e?e:Z,null==t?t:we(t,r,n,e)}function Ru(t){return A(t,Cu(t))}function Uu(t){return A(t,Ou(t))}function Bu(t,r,n){var e=xh(t)||tu(t);if(r=fa(r,4),null==n)if(e||Mo(t)){var a=t.constructor;n=e?xh(t)?new a:[]:Uo(a)?En(nc(t)):{}}else n={};return(e?s:Hn)(t,function(t,e,a){return r(n,t,e,a)}),n}function Wu(t,r){return null==t?!0:Te(t,r)}function Mu(t){return t?S(t,Cu(t)):[]}function Hu(t){return null==t?[]:S(t,Ou(t))}function Gu(t,r,n){return n===Z&&(n=r,r=Z),n!==Z&&(n=cu(n),n=n===n?n:0),r!==Z&&(r=cu(r),r=r===r?r:0),In(cu(t),r,n)}function Lu(t,r,n){return r=cu(r)||0,n===Z?(n=r,r=0):n=cu(n)||0,t=cu(t),Fn(t,r,n)}function Pu(t,r,n){if(n&&"boolean"!=typeof n&&ba(t,r,n)&&(r=n=Z),n===Z&&("boolean"==typeof r?(n=r,r=Z):"boolean"==typeof t&&(n=t,t=Z)),t===Z&&r===Z?(t=0,r=1):(t=cu(t)||0,r===Z?(r=t,t=0):r=cu(r)||0),t>r){var e=t;t=r,r=e}if(n||t%1||r%1){var a=mc();return gc(t+a*(r-t+On("1e-"+((a+"").length-1))),r)}return ve(t,r)}function Ku(t){return Lh(lu(t).toLowerCase())}function Yu(t){return t=lu(t),t&&t.replace(Ar,B).replace(fn,"")}function Fu(t,r,n){t=lu(t),r="string"==typeof r?r:r+"";var e=t.length;return n=n===Z?e:In(uu(n),0,e),n-=r.length,n>=0&&t.indexOf(r,n)==n}function Xu(t){return t=lu(t),t&&or.test(t)?t.replace(ar,W):t}function $u(t){return t=lu(t),t&&vr.test(t)?t.replace(pr,"\\$&"):t}function zu(t,r,n){t=lu(t),r=uu(r);var e=X(t);if(!r||e>=r)return t;var a=(r-e)/2,i=hc(a),o=cc(a);return ra("",i,n)+t+ra("",o,n)}function qu(t,r,n){return t=lu(t),t+ra(t,r,n)}function Zu(t,r,n){return t=lu(t),ra(t,r,n)+t}function Vu(t,r,n){return n||null==r?r=0:r&&(r=+r),t=lu(t).replace(gr,""),wc(t,r||(xr.test(t)?16:10))}function Qu(t,r){t=lu(t),r=uu(r);var n="";if(!t||1>r||r>xt)return n;do r%2&&(n+=t),r=hc(r/2),t+=t;while(r);return n}function Ju(){var t=arguments,r=lu(t[0]);return t.length<3?r:r.replace(t[1],t[2])}function ts(t,r,n){return lu(t).split(r,n)}function rs(t,r,n){return t=lu(t),n=In(uu(n),0,t.length),t.lastIndexOf(r,n)==n}function ns(t,n,e){var a=r.templateSettings;e&&ba(t,n,e)&&(n=Z),t=lu(t),n=Ch({},n,a,an);var i,o,u=Ch({},n.imports,a.imports,an),s=Cu(u),c=S(u,s),h=0,f=n.interpolate||Er,l="__p += '",p=Hs((n.escape||Er).source+"|"+f.source+"|"+(f===cr?_r:Er).source+"|"+(n.evaluate||Er).source+"|$","g"),v="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++yn+"]")+"\n";t.replace(p,function(r,n,e,a,u,s){return e||(e=a),l+=t.slice(h,s).replace(Sr,M),n&&(i=!0,l+="' +\n__e("+n+") +\n'"),u&&(o=!0,l+="';\n"+u+";\n__p += '"),e&&(l+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),h=s+r.length,r}),l+="';\n";var g=n.variable;g||(l="with (obj) {\n"+l+"\n}\n"),l=(o?l.replace(tr,""):l).replace(rr,"$1").replace(nr,"$1;"),l="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var w=Fh(function(){return Function(s,v+"return "+l).apply(Z,c)});if(w.source=l,ko(w))throw w;return w}function es(t){return lu(t).toLowerCase()}function as(t){return lu(t).toUpperCase()}function is(t,r,n){if(t=lu(t),!t)return t;if(n||r===Z)return t.replace(gr,"");if(r+="",!r)return t;var e=$(t),a=$(r);return e.slice(j(e,a),N(e,a)+1).join("")}function os(t,r,n){if(t=lu(t),!t)return t;if(n||r===Z)return t.replace(mr,"");if(r+="",!r)return t;var e=$(t);return e.slice(0,N(e,$(r))+1).join("")}function us(t,r,n){if(t=lu(t),!t)return t;if(n||r===Z)return t.replace(wr,"");if(r+="",!r)return t;var e=$(t);return e.slice(j(e,$(r))).join("")}function ss(t,r){var n=ht,e=ft;if(Mo(r)){var a="separator"in r?r.separator:a;n="length"in r?uu(r.length):n,e="omission"in r?lu(r.omission):e}t=lu(t);var i=t.length;if(pn.test(t)){var o=$(t);i=o.length}if(n>=i)return t;var u=n-X(e);if(1>u)return e;var s=o?o.slice(0,u).join(""):t.slice(0,u);if(a===Z)return s+e;if(o&&(u+=s.length-u),qo(a)){if(t.slice(u).search(a)){var c,h=s;for(a.global||(a=Hs(a.source,lu(dr.exec(a))+"g")),a.lastIndex=0;c=a.exec(h);)var f=c.index;s=s.slice(0,f===Z?u:f)}}else if(t.indexOf(a,u)!=u){var l=s.lastIndexOf(a);l>-1&&(s=s.slice(0,l))}return s+e}function cs(t){return t=lu(t),t&&ir.test(t)?t.replace(er,z):t}function hs(t,r,n){return t=lu(t),r=n?Z:r,r===Z&&(r=wn.test(t)?gn:vn),t.match(r)||[]}function fs(t){var r=t?t.length:0,n=fa();return t=r?v(t,function(t){if("function"!=typeof t[1])throw new Gs(yt);return[n(t[0]),t[1]]}):[],co(function(n){for(var e=-1;++e<r;){var a=t[e];if(i(a[0],this,n))return i(a[1],this,n)}})}function ls(t){return Cn(Tn(t,!0))}function ps(t){return function(){return t}}function vs(t){return t}function gs(t){return Qn("function"==typeof t?t:Tn(t,!0))}function ws(t){return ne(Tn(t,!0))}function ms(t,r){return ee(t,Tn(r,!0))}function ys(t,r,n){var e=Cu(r),a=Ln(r,e);null!=n||Mo(r)&&(a.length||!e.length)||(n=r,r=t,t=this,a=Ln(r,Cu(r)));var i=Mo(n)&&"chain"in n?n.chain:!0,o=Uo(t);return s(a,function(n){var e=r[n];t[n]=e,o&&(t.prototype[n]=function(){var r=this.__chain__;if(i||r){var n=t(this.__wrapped__),a=n.__actions__=Me(this.__actions__);return a.push({func:e,args:arguments,thisArg:t}),n.__chain__=r,n}return e.apply(t,g([this.value()],arguments))})}),t}function _s(){return Un._===this&&(Un._=zs),this}function ds(){}function xs(t){return t=uu(t),function(){return arguments[t]}}function bs(t){return Ia(t)?ce(t):he(t)}function Is(t){return function(r){return null==t?Z:Pn(t,r)}}function Ts(t,r){if(t=uu(t),1>t||t>xt)return[];var n=Tt,e=gc(t,Tt);r=xn(r),t-=Tt;for(var a=O(e,r);++n<t;)r(n);return a}function Cs(t){return xh(t)?v(t,String):Da(t)}function Os(t){var r=++Fs;return lu(t)+r}function As(t,r){var n;return t===Z&&r===Z?0:(t!==Z&&(n=t),r!==Z&&(n=n===Z?r:n+r),n)}function Es(t){return t&&t.length?_(t,vs,xo):Z}function Ss(t,r){return t&&t.length?_(t,fa(r),xo):Z}function js(t){return Rs(t)/(t?t.length:0)}function Ns(t){return t&&t.length?_(t,vs,au):Z}function Ds(t,r){return t&&t.length?_(t,fa(r),au):Z}function ks(t,r){var n;return t===Z&&r===Z?0:(t!==Z&&(n=t),r!==Z&&(n=n===Z?r:n-r),n)}function Rs(t){return t&&t.length?C(t,vs):0}function Us(t,r){return t&&t.length?C(t,fa(r)):0}t=t?Bn.defaults({},t,Bn.pick(Un,mn)):Un;var Bs=t.Date,Ws=t.Error,Ms=t.Math,Hs=t.RegExp,Gs=t.TypeError,Ls=t.Array.prototype,Ps=t.Object.prototype,Ks=t.Function.prototype.toString,Ys=Ps.hasOwnProperty,Fs=0,Xs=Ks.call(Object),$s=Ps.toString,zs=Un._,qs=Hs("^"+Ks.call(Ys).replace(pr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zs=jn?t.Buffer:Z,Vs=t.Reflect,Qs=t.Symbol,Js=t.Uint8Array,tc=t.clearTimeout,rc=Vs?Vs.enumerate:Z,nc=Object.getPrototypeOf,ec=Object.getOwnPropertySymbols,ac="symbol"==typeof(ac=Qs&&Qs.iterator)?ac:Z,ic=Object.create,oc=Ps.propertyIsEnumerable,uc=t.setTimeout,sc=Ls.splice,cc=Ms.ceil,hc=Ms.floor,fc=t.isFinite,lc=Ls.join,pc=Object.keys,vc=Ms.max,gc=Ms.min,wc=t.parseInt,mc=Ms.random,yc=Ls.reverse,_c=pa(t,"Map"),dc=pa(t,"Set"),xc=pa(t,"WeakMap"),bc=pa(Object,"create"),Ic=xc&&new xc,Tc=_c?Ks.call(_c):"",Cc=dc?Ks.call(dc):"",Oc=xc?Ks.call(xc):"",Ac=Qs?Qs.prototype:Z,Ec=Qs?Ac.valueOf:Z,Sc=Qs?Ac.toString:Z,jc={};r.templateSettings={escape:ur,evaluate:sr,interpolate:cr,variable:"",imports:{_:r}};var Nc=Ye(Hn),Dc=Ye(Gn,!0),kc=Fe(),Rc=Fe(!0);rc&&!oc.call({valueOf:1},"valueOf")&&(te=function(t){return P(rc(t))});var Uc=Ic?function(t,r){return Ic.set(t,r),t}:vs,Bc=dc&&2===new dc([1,2]).size?function(t){return new dc(t)}:ds,Wc=Ic?function(t){return Ic.get(t)}:ds,Mc=ce("length"),Hc=ec||function(){return[]};(_c&&ga(new _c)!=Ut||dc&&ga(new dc)!=Ht||xc&&ga(new xc)!=Pt)&&(ga=function(t){var r=$s.call(t),n=r==Wt?t.constructor:null,e="function"==typeof n?Ks.call(n):"";if(e)switch(e){case Tc:return Ut;case Cc:return Ht;case Oc:return Pt}return r});var Gc=function(){var t=0,r=0;return function(n,e){var a=lh(),i=pt-(a-r);if(r=a,i>0){if(++t>=lt)return n}else t=0;return Uc(n,e)}}(),Lc=co(function(t,r){return xh(t)||(t=null==t?[]:[Object(t)]),r=Wn(r,1),u(t,r)}),Pc=co(function(t,r){return Oo(t)?Nn(t,Wn(r,1,!0)):[]}),Kc=co(function(t,r){var n=Va(r);return Oo(n)&&(n=Z),Oo(t)?Nn(t,Wn(r,1,!0),fa(n)):[]}),Yc=co(function(t,r){var n=Va(r);return Oo(n)&&(n=Z),Oo(t)?Nn(t,Wn(r,1,!0),Z,n):[]}),Fc=co(function(t){var r=v(t,ln);return r.length&&r[0]===t[0]?Xn(r):[]}),Xc=co(function(t){var r=Va(t),n=v(t,ln);return r===Va(n)?r=Z:n.pop(),n.length&&n[0]===t[0]?Xn(n,fa(r)):[]}),$c=co(function(t){var r=Va(t),n=v(t,ln);return r===Va(n)?r=Z:n.pop(),n.length&&n[0]===t[0]?Xn(n,Z,r):[]}),zc=co(Ja),qc=co(function(t,r){r=v(Wn(r,1),String);var n=hn(t,r);return pe(t,r.sort(k)),n}),Zc=co(function(t){return Ie(Wn(t,1,!0))}),Vc=co(function(t){var r=Va(t);return Oo(r)&&(r=Z),Ie(Wn(t,1,!0),fa(r))}),Qc=co(function(t){var r=Va(t);return Oo(r)&&(r=Z),Ie(Wn(t,1,!0),Z,r)}),Jc=co(function(t,r){return Oo(t)?Nn(t,r):[]}),th=co(function(t){return Ae(f(t,Oo))}),rh=co(function(t){var r=Va(t);return Oo(r)&&(r=Z),Ae(f(t,Oo),fa(r))}),nh=co(function(t){var r=Va(t);return Oo(r)&&(r=Z),Ae(f(t,Oo),Z,r)}),eh=co(di),ah=co(function(t){var r=t.length,n=r>1?t[r-1]:Z;return n="function"==typeof n?(t.pop(),n):Z,xi(t,n)}),ih=co(function(t){t=Wn(t,1);var r=t.length,n=r?t[0]:0,e=this.__wrapped__,a=function(r){return hn(r,t)};return!(r>1||this.__actions__.length)&&e instanceof Or&&L(n)?(e=e.slice(n,+n+(r?1:0)),e.__actions__.push({func:Oi,args:[a],thisArg:Z}),new D(e,this.__chain__).thru(function(t){return r&&!t.length&&t.push(Z),t})):this.thru(a)}),oh=Pe(function(t,r,n){Ys.call(t,n)?++t[n]:t[n]=1}),uh=Pe(function(t,r,n){Ys.call(t,n)?t[n].push(r):t[n]=[r]}),sh=co(function(t,r,n){var e=-1,a="function"==typeof r,o=Ia(r),u=Co(t)?Array(t.length):[];return Nc(t,function(t){var s=a?r:o&&null!=t?t[r]:Z;u[++e]=s?i(s,t,n):zn(t,r,n)}),u}),ch=Pe(function(t,r,n){t[n]=r}),hh=Pe(function(t,r,n){t[n?0:1].push(r)},function(){return[[],[]]}),fh=co(function(t,r){if(null==t)return[];var n=r.length;return n>1&&ba(t,r[0],r[1])?r=[]:n>2&&ba(r[0],r[1],r[2])&&(r.length=1),oe(t,Wn(r,1),[])}),lh=Bs.now,ph=co(function(t,r,n){var e=Q;if(n.length){var a=Y(n,va(ph));e|=et}return oa(t,e,r,n,a)}),vh=co(function(t,r,n){var e=Q|J;if(n.length){var a=Y(n,va(vh));e|=et}return oa(r,e,t,n,a)}),gh=co(function(t,r){return Sn(t,1,r)}),wh=co(function(t,r,n){return Sn(t,cu(r)||0,n)}),mh=co(function(t,r){r=v(Wn(r,1),fa());var n=r.length;return co(function(e){for(var a=-1,o=gc(e.length,n);++a<o;)e[a]=r[a].call(this,e[a]);return i(t,this,e)})}),yh=co(function(t,r){var n=Y(r,va(yh));return oa(t,et,Z,r,n)}),_h=co(function(t,r){var n=Y(r,va(_h));return oa(t,at,Z,r,n)}),dh=co(function(t,r){return oa(t,ot,Z,Z,Z,Wn(r,1))}),xh=Array.isArray,bh=Zs?function(t){return t instanceof Zs}:ps(!1),Ih=Ke(function(t,r){He(r,Cu(r),t)}),Th=Ke(function(t,r){He(r,Ou(r),t)}),Ch=Ke(function(t,r,n,e){Ge(r,Ou(r),t,e)}),Oh=Ke(function(t,r,n,e){Ge(r,Cu(r),t,e)}),Ah=co(function(t,r){return hn(t,Wn(r,1))}),Eh=co(function(t){return t.push(Z,an),i(Ch,Z,t)}),Sh=co(function(t){return t.push(Z,Sa),i(Rh,Z,t)}),jh=Je(function(t,r,n){t[r]=n},ps(vs)),Nh=Je(function(t,r,n){Ys.call(t,r)?t[r].push(n):t[r]=[n]},fa),Dh=co(zn),kh=Ke(function(t,r,n){ae(t,r,n)}),Rh=Ke(function(t,r,n,e){ae(t,r,n,e)}),Uh=co(function(t,r){return null==t?{}:(r=v(Wn(r,1),String),ue(t,Nn(Ou(t),r)))}),Bh=co(function(t,r){return null==t?{}:ue(t,Wn(r,1))}),Wh=ze(function(t,r,n){return r=r.toLowerCase(),t+(n?Ku(r):r)}),Mh=ze(function(t,r,n){return t+(n?"-":"")+r.toLowerCase()}),Hh=ze(function(t,r,n){return t+(n?" ":"")+r.toLowerCase()}),Gh=$e("toLowerCase"),Lh=$e("toUpperCase"),Ph=ze(function(t,r,n){return t+(n?"_":"")+r.toLowerCase()}),Kh=ze(function(t,r,n){return t+(n?" ":"")+Ku(r)}),Yh=ze(function(t,r,n){return t+(n?" ":"")+r.toUpperCase()}),Fh=co(function(t,r){try{return i(t,Z,r)}catch(n){return ko(n)?n:new Ws(n)}}),Xh=co(function(t,r){return s(Wn(r,1),function(r){t[r]=ph(t[r],t)}),t}),$h=Ve(),zh=Ve(!0),qh=co(function(t,r){return function(n){return zn(n,t,r)}}),Zh=co(function(t,r){return function(n){return zn(t,n,r)}}),Vh=ta(v),Qh=ta(h),Jh=ta(y),tf=ea(),rf=ea(!0),nf=ia("ceil"),ef=ia("floor"),af=ia("round");return r.prototype=n.prototype,D.prototype=En(n.prototype),D.prototype.constructor=D,Or.prototype=En(n.prototype),Or.prototype.constructor=Or,kr.prototype=bc?bc(null):Ps,Mr.prototype.clear=Hr,Mr.prototype["delete"]=Gr,Mr.prototype.get=Lr,Mr.prototype.has=Pr,Mr.prototype.set=Kr,Yr.prototype.push=Xr,$r.prototype.clear=zr,$r.prototype["delete"]=qr,$r.prototype.get=Zr,$r.prototype.has=Vr,$r.prototype.set=Qr,oo.Cache=Mr,r.after=Ji,r.ary=to,r.assign=Ih,r.assignIn=Th,r.assignInWith=Ch,r.assignWith=Oh,r.at=Ah,r.before=ro,r.bind=ph,r.bindAll=Xh,r.bindKey=vh,r.castArray=vo,r.chain=Ti,r.chunk=Ra,r.compact=Ua,r.concat=Lc,r.cond=fs,r.conforms=ls,r.constant=ps,r.countBy=oh,r.create=pu,r.curry=no,r.curryRight=eo,r.debounce=ao,r.defaults=Eh,r.defaultsDeep=Sh,r.defer=gh,r.delay=wh,r.difference=Pc,r.differenceBy=Kc,r.differenceWith=Yc,r.drop=Ba,r.dropRight=Wa,r.dropRightWhile=Ma,r.dropWhile=Ha,r.fill=Ga,r.filter=Bi,r.flatMap=Hi,r.flatten=Ka,r.flattenDeep=Ya,r.flattenDepth=Fa,r.flip=io,r.flow=$h,r.flowRight=zh,r.fromPairs=Xa,r.functions=du,r.functionsIn=xu,r.groupBy=uh,r.initial=qa,r.intersection=Fc,r.intersectionBy=Xc,r.intersectionWith=$c,r.invert=jh,r.invertBy=Nh,r.invokeMap=sh,r.iteratee=gs,r.keyBy=ch,r.keys=Cu,r.keysIn=Ou,r.map=Ki,r.mapKeys=Au,r.mapValues=Eu,r.matches=ws,r.matchesProperty=ms,r.memoize=oo,r.merge=kh,r.mergeWith=Rh,r.method=qh,r.methodOf=Zh,r.mixin=ys,r.negate=uo,r.nthArg=xs,r.omit=Uh,r.omitBy=Su,r.once=so,r.orderBy=Yi,r.over=Vh,r.overArgs=mh,r.overEvery=Qh,r.overSome=Jh,r.partial=yh,r.partialRight=_h,r.partition=hh,r.pick=Bh,r.pickBy=ju,r.property=bs,r.propertyOf=Is,r.pull=zc,r.pullAll=Ja,r.pullAllBy=ti,r.pullAt=qc,r.range=tf,r.rangeRight=rf,r.rearg=dh,r.reject=$i,r.remove=ri,r.rest=co,r.reverse=ni,r.sampleSize=qi,r.set=Du,r.setWith=ku,r.shuffle=Zi,r.slice=ei,r.sortBy=fh,r.sortedUniq=hi,r.sortedUniqBy=fi,r.split=ts,r.spread=ho,r.tail=li,r.take=pi,r.takeRight=vi,r.takeRightWhile=gi,r.takeWhile=wi,r.tap=Ci,r.throttle=fo,r.thru=Oi,r.toArray=ou,r.toPairs=Ru,r.toPairsIn=Uu,r.toPath=Cs,r.toPlainObject=hu,r.transform=Bu,r.unary=lo,r.union=Zc,r.unionBy=Vc,r.unionWith=Qc,r.uniq=mi,r.uniqBy=yi,r.uniqWith=_i,r.unset=Wu,r.unzip=di,r.unzipWith=xi,r.values=Mu,r.valuesIn=Hu,r.without=Jc,r.words=hs,r.wrap=po,r.xor=th,r.xorBy=rh,r.xorWith=nh,r.zip=eh,r.zipObject=bi,r.zipObjectDeep=Ii,r.zipWith=ah,r.extend=Th,r.extendWith=Ch,ys(r,r),r.add=As,r.attempt=Fh,r.camelCase=Wh,r.capitalize=Ku,r.ceil=nf,r.clamp=Gu,r.clone=go,r.cloneDeep=mo,r.cloneDeepWith=yo,r.cloneWith=wo,r.deburr=Yu,r.endsWith=Fu,r.eq=_o,r.escape=Xu,r.escapeRegExp=$u,r.every=Ui,r.find=Wi,r.findIndex=La,r.findKey=vu,r.findLast=Mi,r.findLastIndex=Pa,r.findLastKey=gu,r.floor=ef,r.forEach=Gi,r.forEachRight=Li,r.forIn=wu,r.forInRight=mu,r.forOwn=yu,r.forOwnRight=_u,r.get=bu,r.gt=xo,r.gte=bo,r.has=Iu,r.hasIn=Tu,r.head=$a,r.identity=vs,r.includes=Pi,r.indexOf=za,r.inRange=Lu,r.invoke=Dh,r.isArguments=Io,r.isArray=xh,r.isArrayBuffer=To,r.isArrayLike=Co,r.isArrayLikeObject=Oo,r.isBoolean=Ao,r.isBuffer=bh,r.isDate=Eo,r.isElement=So,r.isEmpty=jo,r.isEqual=No,r.isEqualWith=Do,r.isError=ko,r.isFinite=Ro,r.isFunction=Uo,r.isInteger=Bo,r.isLength=Wo,r.isMap=Go,r.isMatch=Lo,r.isMatchWith=Po,r.isNaN=Ko,r.isNative=Yo,r.isNil=Xo,r.isNull=Fo,r.isNumber=$o,r.isObject=Mo,r.isObjectLike=Ho,r.isPlainObject=zo,r.isRegExp=qo,r.isSafeInteger=Zo,r.isSet=Vo,r.isString=Qo,r.isSymbol=Jo,r.isTypedArray=tu,r.isUndefined=ru,r.isWeakMap=nu,r.isWeakSet=eu,r.join=Za,r.kebabCase=Mh,r.last=Va,r.lastIndexOf=Qa,r.lowerCase=Hh,r.lowerFirst=Gh,r.lt=au,r.lte=iu,r.max=Es,r.maxBy=Ss,r.mean=js,r.min=Ns,r.minBy=Ds,r.noConflict=_s,r.noop=ds,r.now=lh,r.pad=zu,r.padEnd=qu,r.padStart=Zu,r.parseInt=Vu,r.random=Pu,r.reduce=Fi,r.reduceRight=Xi,r.repeat=Qu,r.replace=Ju,r.result=Nu,r.round=af,r.runInContext=q,r.sample=zi,r.size=Vi,r.snakeCase=Ph,r.some=Qi,r.sortedIndex=ai,r.sortedIndexBy=ii,r.sortedIndexOf=oi,r.sortedLastIndex=ui,r.sortedLastIndexBy=si,r.sortedLastIndexOf=ci,r.startCase=Kh,r.startsWith=rs,r.subtract=ks,r.sum=Rs,r.sumBy=Us,r.template=ns,r.times=Ts,r.toInteger=uu,r.toLength=su,r.toLower=es,r.toNumber=cu,r.toSafeInteger=fu,r.toString=lu,r.toUpper=as,r.trim=is,r.trimEnd=os,r.trimStart=us,r.truncate=ss,r.unescape=cs,r.uniqueId=Os,r.upperCase=Yh,r.upperFirst=Lh,r.each=Gi,r.eachRight=Li,r.first=$a,ys(r,function(){var t={};return Hn(r,function(n,e){Ys.call(r.prototype,e)||(t[e]=n)}),t}(),{chain:!1}),r.VERSION=V,s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){r[t].placeholder=r}),s(["drop","take"],function(t,r){Or.prototype[t]=function(n){var e=this.__filtered__;if(e&&!r)return new Or(this);n=n===Z?1:vc(uu(n),0);var a=this.clone();return e?a.__takeCount__=gc(n,a.__takeCount__):a.__views__.push({size:gc(n,Tt),type:t+(a.__dir__<0?"Right":"")}),a},Or.prototype[t+"Right"]=function(r){return this.reverse()[t](r).reverse()}}),s(["filter","map","takeWhile"],function(t,r){var n=r+1,e=n==gt||n==mt;Or.prototype[t]=function(t){var r=this.clone();return r.__iteratees__.push({iteratee:fa(t,3),type:n}),r.__filtered__=r.__filtered__||e,r}}),s(["head","last"],function(t,r){var n="take"+(r?"Right":"");Or.prototype[t]=function(){return this[n](1).value()[0]}}),s(["initial","tail"],function(t,r){var n="drop"+(r?"":"Right");Or.prototype[t]=function(){return this.__filtered__?new Or(this):this[n](1)}}),Or.prototype.compact=function(){return this.filter(vs)},Or.prototype.find=function(t){return this.filter(t).head()},Or.prototype.findLast=function(t){return this.reverse().find(t)},Or.prototype.invokeMap=co(function(t,r){return"function"==typeof t?new Or(this):this.map(function(n){return zn(n,t,r)})}),Or.prototype.reject=function(t){return t=fa(t,3),this.filter(function(r){return!t(r)})},Or.prototype.slice=function(t,r){t=uu(t);var n=this;return n.__filtered__&&(t>0||0>r)?new Or(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),r!==Z&&(r=uu(r),n=0>r?n.dropRight(-r):n.take(r-t)),n)},Or.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Or.prototype.toArray=function(){return this.take(Tt)},Hn(Or.prototype,function(t,n){var e=/^(?:filter|find|map|reject)|While$/.test(n),a=/^(?:head|last)$/.test(n),i=r[a?"take"+("last"==n?"Right":""):n],o=a||/^find/.test(n);i&&(r.prototype[n]=function(){var n=this.__wrapped__,u=a?[1]:arguments,s=n instanceof Or,c=u[0],h=s||xh(n),f=function(t){var n=i.apply(r,g([t],u));return a&&l?n[0]:n};h&&e&&"function"==typeof c&&1!=c.length&&(s=h=!1);var l=this.__chain__,p=!!this.__actions__.length,v=o&&!l,w=s&&!p;if(!o&&h){n=w?n:new Or(this);var m=t.apply(n,u);return m.__actions__.push({func:Oi,args:[f],thisArg:Z}),new D(m,l)}return v&&w?t.apply(this,u):(m=this.thru(f),v?a?m.value()[0]:m.value():m)})}),s(["pop","push","shift","sort","splice","unshift"],function(t){var n=Ls[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",a=/^(?:pop|shift)$/.test(t);r.prototype[t]=function(){var t=arguments;return a&&!this.__chain__?n.apply(this.value(),t):this[e](function(r){return n.apply(r,t)})}}),Hn(Or.prototype,function(t,n){var e=r[n];if(e){var a=e.name+"",i=jc[a]||(jc[a]=[]);i.push({name:n,func:e})}}),jc[Qe(Z,J).name]=[{name:"wrapper",func:Z}],Or.prototype.clone=jr,Or.prototype.reverse=Nr,Or.prototype.value=Dr,r.prototype.at=ih,r.prototype.chain=Ai,r.prototype.commit=Ei,r.prototype.flatMap=Si,r.prototype.next=ji,r.prototype.plant=Di,r.prototype.reverse=ki,r.prototype.toJSON=r.prototype.valueOf=r.prototype.value=Ri,ac&&(r.prototype[ac]=Ni),r}var Z,V="4.5.1",Q=1,J=2,tt=4,rt=8,nt=16,et=32,at=64,it=128,ot=256,ut=512,st=1,ct=2,ht=30,ft="...",lt=150,pt=16,vt=200,gt=1,wt=2,mt=3,yt="Expected a function",_t="__lodash_hash_undefined__",dt=1/0,xt=9007199254740991,bt=1.7976931348623157e308,It=NaN,Tt=4294967295,Ct=Tt-1,Ot=Tt>>>1,At="__lodash_placeholder__",Et="[object Arguments]",St="[object Array]",jt="[object Boolean]",Nt="[object Date]",Dt="[object Error]",kt="[object Function]",Rt="[object GeneratorFunction]",Ut="[object Map]",Bt="[object Number]",Wt="[object Object]",Mt="[object RegExp]",Ht="[object Set]",Gt="[object String]",Lt="[object Symbol]",Pt="[object WeakMap]",Kt="[object WeakSet]",Yt="[object ArrayBuffer]",Ft="[object Float32Array]",Xt="[object Float64Array]",$t="[object Int8Array]",zt="[object Int16Array]",qt="[object Int32Array]",Zt="[object Uint8Array]",Vt="[object Uint8ClampedArray]",Qt="[object Uint16Array]",Jt="[object Uint32Array]",tr=/\b__p \+= '';/g,rr=/\b(__p \+=) '' \+/g,nr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,er=/&(?:amp|lt|gt|quot|#39|#96);/g,ar=/[&<>"'`]/g,ir=RegExp(er.source),or=RegExp(ar.source),ur=/<%-([\s\S]+?)%>/g,sr=/<%([\s\S]+?)%>/g,cr=/<%=([\s\S]+?)%>/g,hr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fr=/^\w*$/,lr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,pr=/[\\^$.*+?()[\]{}|]/g,vr=RegExp(pr.source),gr=/^\s+|\s+$/g,wr=/^\s+/,mr=/\s+$/,yr=/\\(\\)?/g,_r=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dr=/\w*$/,xr=/^0x/i,br=/^[-+]0x[0-9a-f]+$/i,Ir=/^0b[01]+$/i,Tr=/^\[object .+?Constructor\]$/,Cr=/^0o[0-7]+$/i,Or=/^(?:0|[1-9]\d*)$/,Ar=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Er=/($^)/,Sr=/['\n\r\u2028\u2029\\]/g,jr="\\ud800-\\udfff",Nr="\\u0300-\\u036f\\ufe20-\\ufe23",Dr="\\u20d0-\\u20f0",kr="\\u2700-\\u27bf",Rr="a-z\\xdf-\\xf6\\xf8-\\xff",Ur="\\xac\\xb1\\xd7\\xf7",Br="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Wr="\\u2018\\u2019\\u201c\\u201d",Mr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Hr="A-Z\\xc0-\\xd6\\xd8-\\xde",Gr="\\ufe0e\\ufe0f",Lr=Ur+Br+Wr+Mr,Pr="["+jr+"]",Kr="["+Lr+"]",Yr="["+Nr+Dr+"]",Fr="\\d+",Xr="["+kr+"]",$r="["+Rr+"]",zr="[^"+jr+Lr+Fr+kr+Rr+Hr+"]",qr="\\ud83c[\\udffb-\\udfff]",Zr="(?:"+Yr+"|"+qr+")",Vr="[^"+jr+"]",Qr="(?:\\ud83c[\\udde6-\\uddff]){2}",Jr="[\\ud800-\\udbff][\\udc00-\\udfff]",tn="["+Hr+"]",rn="\\u200d",nn="(?:"+$r+"|"+zr+")",en="(?:"+tn+"|"+zr+")",an=Zr+"?",on="["+Gr+"]?",un="(?:"+rn+"(?:"+[Vr,Qr,Jr].join("|")+")"+on+an+")*",sn=on+an+un,cn="(?:"+[Xr,Qr,Jr].join("|")+")"+sn,hn="(?:"+[Vr+Yr+"?",Yr,Qr,Jr,Pr].join("|")+")",fn=RegExp(Yr,"g"),ln=RegExp(qr+"(?="+qr+")|"+hn+sn,"g"),pn=RegExp("["+rn+jr+Nr+Dr+Gr+"]"),vn=/[a-zA-Z0-9]+/g,gn=RegExp([tn+"?"+$r+"+(?="+[Kr,tn,"$"].join("|")+")",en+"+(?="+[Kr,tn+nn,"$"].join("|")+")",tn+"?"+nn+"+",tn+"+",Fr,cn].join("|"),"g"),wn=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,mn=["Array","Buffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],yn=-1,_n={};_n[Ft]=_n[Xt]=_n[$t]=_n[zt]=_n[qt]=_n[Zt]=_n[Vt]=_n[Qt]=_n[Jt]=!0,_n[Et]=_n[St]=_n[Yt]=_n[jt]=_n[Nt]=_n[Dt]=_n[kt]=_n[Ut]=_n[Bt]=_n[Wt]=_n[Mt]=_n[Ht]=_n[Gt]=_n[Pt]=!1;var dn={};dn[Et]=dn[St]=dn[Yt]=dn[jt]=dn[Nt]=dn[Ft]=dn[Xt]=dn[$t]=dn[zt]=dn[qt]=dn[Ut]=dn[Bt]=dn[Wt]=dn[Mt]=dn[Ht]=dn[Gt]=dn[Lt]=dn[Zt]=dn[Vt]=dn[Qt]=dn[Jt]=!0,dn[Dt]=dn[kt]=dn[Pt]=!1;var xn={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},bn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},In={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Tn={"function":!0,object:!0},Cn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},On=parseFloat,An=parseInt,En=Tn[typeof n]&&n&&!n.nodeType?n:Z,Sn=Tn[typeof r]&&r&&!r.nodeType?r:Z,jn=Sn&&Sn.exports===En?En:Z,Nn=D(En&&Sn&&"object"==typeof t&&t),Dn=D(Tn[typeof self]&&self),kn=D(Tn[typeof window]&&window),Rn=D(Tn[typeof this]&&this),Un=Nn||kn!==(Rn&&Rn.window)&&kn||Dn||Rn||Function("return this")(),Bn=q();(kn||Dn||{})._=Bn,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return Bn}):En&&Sn?(jn&&((Sn.exports=Bn)._=Bn),En._=Bn):Un._=Bn}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,r,n){var e=t("./danmaku_helper"),a=new e,i=[[{v:{r:5,theta:165,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:135,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:105,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:75,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:45,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:15,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}}],[{v:{aimed:!0,r:5,theta:0,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:3}}}],[{v:{r:5,theta:0,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:23,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:45,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:68,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:90,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:113,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:135,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:158,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:180,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:203,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:225,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:248,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:270,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:293,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:315,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:338,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}}],[{v:[{count:0,v:{r:0,theta:0,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:5,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{
max:3}}}]},{v:[{count:0,v:{r:0,theta:10,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:15,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:20,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:45,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:50,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:55,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:60,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:65,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:95,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:100,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:105,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:110,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:135,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:140,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:145,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:150,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:155,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:180,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:185,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:190,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:195,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:200,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:225,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:230,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:235,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:240,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:245,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:270,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:275,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:280,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:285,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:290,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:315,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:320,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:325,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:330,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:335,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]}],[{v:{r:5,theta:12,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:35,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:57,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:80,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:102,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:125,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:147,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:170,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:192,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:215,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:237,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:260,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:282,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:305,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:327,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:350,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}}],[{v:{aimed:!0,r:5,theta:-10,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:3}}}],[{v:{aimed:!0,r:5,theta:0,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:3}}}],[{v:{aimed:!0,r:5,theta:10,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:3}}}],[{v:[{count:0,v:{r:0,theta:30,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:35,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.1}}}]},{v:[{count:0,v:{r:0,theta:40,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.2}}}]},{v:[{count:0,v:{r:0,theta:45,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.3}}}]},{v:[{count:0,v:{r:0,theta:50,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.4}}}]},{v:[{count:0,v:{r:0,theta:55,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.5}}}]},{v:[{count:0,v:{r:0,theta:60,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.6}}}]},{v:[{count:0,v:{r:0,theta:65,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.7}}}]},{v:[{count:0,v:{r:0,theta:70,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.8}}}]},{v:[{count:0,v:{r:0,theta:75,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.9}}}]},{v:[{count:0,v:{r:0,theta:80,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4}}}]},{v:[{count:0,v:{r:0,theta:85,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.1}}}]},{v:[{count:0,v:{r:0,theta:90,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.2}}}]},{v:[{count:0,v:{r:0,theta:95,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.3}}}]},{v:[{count:0,v:{r:0,theta:100,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.4}}}]},{v:[{count:0,v:{r:0,theta:105,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.5}}}]},{v:[{count:0,v:{r:0,theta:110,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.6}}}]},{v:[{count:0,v:{r:0,theta:115,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.7}}}]},{v:[{count:0,v:{r:0,theta:120,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.8}}}]},{v:[{count:0,v:{r:0,theta:125,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.9}}}]},{v:[{count:0,v:{r:0,theta:130,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5}}}]},{v:[{count:0,v:{r:0,theta:135,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.1}}}]},{v:[{count:0,v:{r:0,theta:140,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.2}}}]},{v:[{count:0,v:{r:0,theta:145,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.3}}}]},{v:[{count:0,v:{r:0,theta:150,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.4}}}]}],[{v:[{count:0,v:{r:0,theta:0,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:10,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.2}}}]},{v:[{count:0,v:{r:0,theta:20,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.4}}}]},{v:[{count:0,v:{r:0,theta:30,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.6}}}]},{v:[{count:0,v:{r:0,theta:40,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.8}}}]},{v:[{count:0,v:{r:0,theta:50,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4}}}]},{v:[{count:0,v:{r:0,theta:60,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.2}}}]},{v:[{count:0,v:{r:0,theta:70,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.4}}}]},{v:[{count:0,v:{r:0,theta:80,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.6}}}]},{v:[{count:0,v:{r:0,theta:90,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.8}}}]},{v:[{count:0,v:{r:0,theta:100,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5}}}]},{v:[{count:0,v:{r:0,theta:110,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.2}}}]},{v:[{count:0,v:{r:0,theta:120,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.4}}}]},{v:[{count:0,v:{r:0,theta:130,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.6}}}]}],[{v:[{count:0,v:{r:0,theta:175,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.1}}}]},{v:[{count:0,v:{r:0,theta:165,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.3}}}]},{v:[{count:0,v:{r:0,theta:155,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.5}}}]},{v:[{count:0,v:{r:0,theta:145,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.7}}}]},{v:[{count:0,v:{r:0,theta:135,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.9}}}]},{v:[{count:0,v:{r:0,theta:125,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.1}}}]},{v:[{count:0,v:{r:0,theta:115,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.3}}}]},{v:[{count:0,v:{r:0,theta:105,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.5}}}]},{v:[{count:0,v:{r:0,theta:95,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.7}}}]},{v:[{count:0,v:{r:0,theta:85,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.9}}}]},{v:[{count:0,v:{r:0,theta:75,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.1}}}]},{v:[{count:0,v:{r:0,theta:65,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.3}}}]},{v:[{count:0,v:{r:0,theta:55,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.5}}}]},{v:[{count:0,v:{r:0,theta:45,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.7}}}]}],[{laser:!0,waitCount:40,keep:150,v:{r:0,theta:180,w:-.01,ra:0,wa:-.01,trange:{min:110}}},{laser:!0,waitCount:40,keep:150,v:{r:0,theta:0,w:.01,ra:0,wa:.01,trange:{max:70}}}],[{v:{r:5,theta:0,w:0,ra:0,wa:0,rrandom:{min:4,max:5},trandom:{min:0,max:360}}}],[{v:{r:3,theta:45,w:0,ra:0,wa:0,raa:0}},{v:{r:3,theta:135,w:0,ra:0,wa:0,raa:0}},{v:{r:3,theta:225,w:0,ra:0,wa:0,raa:0}},{v:{r:3,theta:315,w:0,ra:0,wa:0,raa:0}}],a.daiYousei1(),a.daiYousei2(),a.chilno1(),[{v:{r:2,theta:0,w:0,ra:0,wa:0,rrandom:{min:2,max:3},trandom:{min:0,max:360},g:{r:0,theta:90,ra:.05}}}],a.chilno2(),[{v:{aimed:!0,r:5,theta:-15,w:0}},{v:{aimed:!0,r:5,theta:-5,w:0}},{v:{aimed:!0,r:5,theta:5,w:0}},{v:{aimed:!0,r:5,theta:15,w:0}}],[{beam:!0,v:{rrandom:{min:4,max:6},trandom:{min:180,max:200},g:{r:0,theta:90,ra:.3}}},{beam:!0,v:{rrandom:{min:4,max:6},trandom:{min:225,max:245},g:{r:0,theta:90,ra:.3}}},{beam:!0,v:{rrandom:{min:4,max:6},trandom:{min:270,max:290},g:{r:0,theta:90,ra:.3}}},{beam:!0,v:{rrandom:{min:4,max:6},trandom:{min:340,max:360},g:{r:0,theta:90,ra:.3}}}]];r.exports=i},{"./danmaku_helper":3}],3:[function(t,r,n){"use strict";function e(){}e.prototype._calculateRadian=function(t){return t*Math.PI/180},e.prototype._calculateTheta=function(t){return parseInt(180*t/Math.PI)},e.prototype.daiYousei1=function(){for(var t=[],r=30,n=0;36>n;n++){var e=(10*n+90)%360,a={x:r*Math.cos(this._calculateRadian(e)),y:r*Math.sin(this._calculateRadian(e)),count:1*n,v:{r:2+n/50,theta:e}};t.push(a)}return t},e.prototype.daiYousei2=function(){for(var t=[],r=30,n=0;36>n;n++){var e=1*n,a=(-10*n+450)%360,i={x:r*Math.cos(this._calculateRadian(a)),y:r*Math.sin(this._calculateRadian(a)),count:e,v:{r:2+n/50,theta:a}};t.push(i)}return t},e.prototype.chilno1=function(){var t,r=[],n=50,e=100,a=[],i=10;for(t=0;5>t;t++)a[t]=(126+144*t)%360;for(t=0;5>t;t++)for(var o=a[t],u=a[(t+1)%5],s=n*Math.cos(this._calculateRadian(o)),c=n*Math.sin(this._calculateRadian(o)),h=n*Math.cos(this._calculateRadian(u)),f=n*Math.sin(this._calculateRadian(u)),l=0;i>l;l++)for(var p=l+t*i,v=s+(h-s)/i*l,g=c+(f-c)/i*l,w=this._calculateTheta(Math.atan2(g,v)),m=0;5>m;m++){var y=a[m],_=v+e*Math.cos(this._calculateRadian(y)),d=g+e*Math.sin(this._calculateRadian(y)),x={x:_,y:d,count:p,v:[{count:0,v:{r:0,theta:w}},{count:6*i-p,v:{r:2,w:0}}]};r.push(x)}return r},e.prototype.chilno2=function(){for(var t=[],r=0;200>r;r++){var n=1*r,e={count:n,v:[{count:0,v:{r:5,theta:0,w:0,ra:-.01,wa:0,rrandom:{min:4,max:5},rrange:{min:2},trandom:{min:0,max:360}}},{count:200-n,v:{r:0}},{count:400-n,v:{r:1,theta:0,w:0,ra:.02,wa:0,trandom:{min:0,max:360}}}]};t.push(e)}return t},r.exports=e},{}],4:[function(t,r,n){var e=[],a={};a.random=function(){};for(var i=0;6>i;i++)e.push({count:100+15*i,x:50+20*i,vital:1,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:.01,trange:{max:135},wrange:{max:.5}}}]});for(var i=0;6>i;i++)e.push({count:300+15*i,x:380-20*i,vital:1,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:45},wrange:{min:-.5}}}]});for(var i=0;6>i;i++)e.push({count:500+15*i,x:50+20*i,vital:1,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:.01,trange:{max:135},wrange:{max:.5}}}]});for(var i=0;6>i;i++)e.push({count:700+15*i,x:380-20*i,vital:1,powerItem:i%2==0?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:45},wrange:{min:-.5}}}]});for(var i=0;8>i;i++)e.push({count:900+i*(80-5*i),x:25+i%4*50,vital:3,powerItem:i%2==0?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var i=0;8>i;i++)e.push({count:950+i*(80-5*i),x:455-i%4*50,vital:3,powerItem:i%2==0?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var i=0;4>i;i++)e.push({count:1400+20*i,x:50+50*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:-30},wrange:{min:-1}}}]});for(var i=0;4>i;i++)e.push({count:1410+10*i,x:25+50*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:-30},wrange:{min:-1}}}]});for(var i=0;4>i;i++)e.push({count:1420+20*i,x:430-50*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:.01,trange:{max:210},wrange:{max:1}}}]});for(var i=0;4>i;i++)e.push({count:1430+10*i,x:455-50*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:.01,trange:{max:210},wrange:{max:1}}}]});for(var i=0;20>i;i++)e.push({count:1700+10*parseInt(i/2),x:(i%2==0?50:80)+10*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,v:[{count:0,v:{r:3,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:3,w:0,ra:0,wa:-.02,trange:{min:-45},wrange:{min:-1}}},{count:180,v:{r:3,w:0,ra:0,wa:.02,trange:{max:45},wrange:{max:1}}}]});for(var i=0;20>i;i++)e.push({count:1900+10*parseInt(i/2),x:(i%2==0?430:400)-10*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,v:[{count:0,v:{r:3,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:3,w:0,ra:0,wa:.02,trange:{max:225},wrange:{max:1}}},{count:180,v:{r:3,w:0,ra:0,wa:-.02,trange:{min:135},wrange:{min:-1}}}]});for(var i=0;8>i;i++)e.push({count:2300+i*(80-5*i),x:25+i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var i=0;8>i;i++)e.push({count:2350+i*(80-5*i),x:455-i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var i=0;8>i;i++)e.push({count:2500+i*(80-5*i),x:25+i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var i=0;8>i;i++)e.push({count:2550+i*(80-5*i),x:455-i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var i=0;8>i;i++)e.push({count:2700+i*(80-5*i),x:25+i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var i=0;8>i;i++)e.push({count:2750+i*(80-5*i),x:455-i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var o=[],i=0;100>i;i++)o.push({count:100+5*i,x:parseInt(480*a.random()),vital:1,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:13,shotCount:[10]},v:[{count:0,v:{r:3,theta:90,w:0,ra:0,wa:0}}]});for(var i=0;6>i;i++)o.push({count:500+15*i,x:50+20*i,vital:1,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:.01,trange:{max:135},wrange:{max:.5}}}]});for(var i=0;6>i;i++)o.push({count:700+15*i,x:380-20*i,vital:1,powerItem:i%2==0?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:45},wrange:{min:-.5}}}]});for(var i=0;8>i;i++)o.push({count:900+i*(80-5*i),x:25+i%4*50,vital:3,powerItem:i%2==0?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var i=0;8>i;i++)o.push({count:950+i*(80-5*i),x:455-i%4*50,vital:3,powerItem:i%2==0?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var i=0;4>i;i++)o.push({count:1400+20*i,x:50+50*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:-30},wrange:{min:-1}}}]});for(var i=0;4>i;i++)o.push({count:1410+10*i,x:25+50*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:-30},wrange:{min:-1}}}]});for(var i=0;4>i;i++)o.push({count:1420+20*i,x:430-50*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:.01,trange:{max:210},wrange:{max:1}}}]});for(var i=0;4>i;i++)o.push({count:1430+10*i,x:455-50*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:.01,trange:{max:210},wrange:{max:1}}}]});for(var i=0;20>i;i++)o.push({count:1700+10*parseInt(i/2),x:(i%2==0?50:80)+10*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,v:[{count:0,v:{r:3,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:3,w:0,ra:0,wa:-.02,trange:{min:-45},wrange:{min:-1}}},{count:180,v:{r:3,w:0,ra:0,wa:.02,trange:{max:45},wrange:{max:1}}}]});for(var i=0;20>i;i++)o.push({count:1900+10*parseInt(i/2),x:(i%2==0?430:400)-10*i,vital:1,powerItem:i%4==0?1:0,scoreItem:i%4==2?1:0,v:[{count:0,v:{r:3,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:3,w:0,ra:0,wa:.02,trange:{max:225},wrange:{max:1}}},{count:180,v:{r:3,w:0,ra:0,wa:-.02,trange:{min:135},wrange:{min:-1}}}]});for(var i=0;8>i;i++)o.push({count:2300+i*(80-5*i),x:25+i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var i=0;8>i;i++)o.push({count:2350+i*(80-5*i),x:455-i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var i=0;8>i;i++)o.push({count:2500+i*(80-5*i),x:25+i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var i=0;8>i;i++)o.push({count:2550+i*(80-5*i),x:455-i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var i=0;8>i;i++)o.push({count:2700+i*(80-5*i),x:25+i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var i=0;8>i;i++)o.push({count:2750+i*(80-5*i),x:455-i%4*50,vital:3,powerItem:i%2==0?1:0,scoreItem:i%2==1?1:0,s:{bullet:0,shotCount:[40+i%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+i%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+i%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});e.sort(function(t,r){return t.count-r.count}),r.exports=e},{}],5:[function(t,r,n){"use strict";var e=(t("lodash"),function(t){this.stage=t.stage,this.pool=[],this.incremental_id=0});e.prototype.get=function(t){console.error("get method must be overridden")},e.prototype.free=function(t){console.error("get method must be overridden")},r.exports=e},{lodash:1}],6:[function(t,r,n){"use strict";var e=t("lodash"),a=t("../object/bullet"),i=t("./base"),o=function(t){i.apply(this,arguments)};e.extend(o.prototype,i.prototype),e.extend(o,i),o.prototype.get=function(t,r){this.incremental_id++;var n=new a(this.incremental_id,this.stage);return n.init(t,r),n},o.prototype.free=function(t){},r.exports=o},{"../object/bullet":18,"./base":5,lodash:1}],7:[function(t,r,n){"use strict";var e=t("lodash"),a=t("../object/enemy"),i=t("./base"),o=function(t){i.apply(this,arguments)};e.extend(o.prototype,i.prototype),e.extend(o,i),o.prototype.get=function(t){this.incremental_id++;var r=new a(this.incremental_id,this.stage);return r.init(t),r},o.prototype.free=function(t){},r.exports=o},{"../object/enemy":20,"./base":5,lodash:1}],8:[function(t,r,n){"use strict";var e=t("lodash"),a=t("../object/item"),i=t("./base"),o=function(t){i.apply(this,arguments)};e.extend(o.prototype,i.prototype),e.extend(o,i),o.prototype.get=function(t){this.incremental_id++;var r=new a(this.incremental_id,this.stage);return r.init(t),r},o.prototype.free=function(t){},r.exports=o},{"../object/item":21,"./base":5,lodash:1}],9:[function(t,r,n){"use strict";var e=t("lodash"),a=t("../object/shot"),i=t("./base"),o=function(t){i.apply(this,arguments)};e.extend(o.prototype,i.prototype),e.extend(o,i),o.prototype.get=function(){this.incremental_id++;var t=new a(this.incremental_id,this.stage);return t.init(),t},o.prototype.free=function(t){},r.exports=o},{"../object/shot":22,"./base":5,lodash:1}],10:[function(t,r,n){"use strict";var e=t("./scene/loading"),a=t("./scene/opening"),i=t("./scene/stage"),o=function(t){this.surface=t.getContext("2d"),this.width=Number(t.getAttribute("width")),this.height=Number(t.getAttribute("height")),this.state=null,this.scenes=[],this.scenes[this.LOADING_SCENE]=new e(this),this.scenes[this.OPENING_SCENE]=new a(this),this.scenes[this.STAGE_SCENE]=new i(this),this.scenes[this.ENDING_SCENE]=null,this.images={},this.sounds={},this.bgms={},this.frame_count=0};o.prototype.DEBUG=!0,o.prototype.LOADING_SCENE=0,o.prototype.OPENING_SCENE=1,o.prototype.STAGE_SCENE=2,o.prototype.ENDING_SCENE=3,o.prototype.IMAGES={title_bg:"image/title_bg.png",stage1_bg:"image/stage1_bg.jpg",reimu:"image/reimu.png",shot:"image/shot.png",enemy:"image/enemy.png",bullet:"image/bullet.png",item:"image/item.png"},o.prototype.SOUNDS={select:{path:"sound/select.wav",volume:1},shot:{path:"sound/shot.wav",volume:.1},enemy_vanish:{path:"sound/enemy_vanish.wav",volume:.03},dead:{path:"sound/dead.wav",volume:.05}},o.prototype.BGMS={title:{path:"bgm/title.mp3",volume:1},stage1:{path:"bgm/stage1.mp3",volume:1}},o.prototype.handleKeyDown=function(t){this.scenes[this.state].handleKeyDown(t),t.preventDefault()},o.prototype.handleKeyUp=function(t){this.scenes[this.state].handleKeyUp(t),t.preventDefault()},o.prototype.init=function(){this.frame_count=0,this.changeScene(this.LOADING_SCENE)},o.prototype.run=function(){this.scenes[this.state].run(),this.scenes[this.state].updateDisplay(),this.frame_count++,requestAnimationFrame(this.run.bind(this))},o.prototype.changeScene=function(t){this.state=t,this.scenes[this.state].init()},o.prototype.getImage=function(t){return this.images[t]},o.prototype.playBGM=function(t){for(var r in this.bgms)this.bgms[r].pause(),this.bgms[r].currentTime=0;this.bgms[t].loop=!0,this.bgms[t].play()},o.prototype.playSound=function(t){this.sounds[t].pause(),this.sounds[t].currentTime=0,this.sounds[t].play()},o.prototype.notifyLoadingDone=function(){this.changeScene(this.OPENING_SCENE)},o.prototype.notifyOpeningDone=function(){this.changeScene(this.STAGE_SCENE)},o.prototype.notifySelectQuit=function(){this.changeScene(this.OPENING_SCENE)},r.exports=o},{"./scene/loading":25,"./scene/opening":26,"./scene/stage":27}],11:[function(t,r,n){"use strict";var e=t("./game");window.onload=function(){var t=document.getElementById("mainCanvas"),r=new e(t);r.init(),window.onkeydown=function(t){r.handleKeyDown(t)},window.onkeyup=function(t){r.handleKeyUp(t)},r.run()}},{"./game":10}],12:[function(t,r,n){"use strict";var e=(t("lodash"),function(t){this.stage=t,this.game=t.game,this.factory=null,this.objects={},this.frame_count=0});e.prototype.init=function(){this.objects={},this.frame_count=0},e.prototype.create=function(t){var r=this.factory.get(t);return this.objects[r.id]=r,r},e.prototype.remove=function(t){delete this.objects[t],this.factory.free(t)},e.prototype.run=function(){this.frame_count++;for(var t in this.objects)this.objects[t].run()},e.prototype.updateDisplay=function(){for(var t in this.objects)this.objects[t].updateDisplay()},r.exports=e},{lodash:1}],13:[function(t,r,n){"use strict";var e=t("lodash"),a=t("../factory/bullet"),i=t("../data/bullets_params"),o=t("./base"),u=function(t){o.apply(this,arguments),this.factory=new a(this),this.bullets_params=i};e.extend(u.prototype,o.prototype),e.extend(u,o),u.prototype.init=function(){o.prototype.init.apply(this,arguments)},u.prototype.create=function(t){for(var r=0;r<this.bullets_params[t.shots.bullet].length;r++){var n=this.factory.get(this.bullets_params[t.shots.bullet][r],t);this.objects[n.id]=n}},u.prototype.remove=function(t){o.prototype.remove.apply(this,arguments)},u.prototype.run=function(){o.prototype.run.apply(this,arguments)},u.prototype.updateDisplay=function(){o.prototype.updateDisplay.apply(this,arguments)},u.prototype.checkCollisionWithCharacter=function(t){for(var r in this.objects)if(t.checkCollision(this.objects[r])){var n=this.objects[r];n.notifyCollision(t),t.notifyCollision(n);break}},r.exports=u},{"../data/bullets_params":2,"../factory/bullet":6,"./base":12,lodash:1}],14:[function(t,r,n){"use strict";var e=t("lodash"),a=t("../data/enemies_params"),i=t("../factory/enemy"),o=t("./base"),u=function(t){o.apply(this,arguments),this.factory=new i(this),this.enemy_index=0,this.enemies_params=a};e.extend(u.prototype,o.prototype),e.extend(u,o),u.prototype.init=function(){o.prototype.init.apply(this,arguments),this.enemy_index=0},u.prototype.create=function(){for(;this.enemies_params[this.enemy_index]&&this.enemies_params[this.enemy_index].count===this.frame_count;){var t=this.factory.get(this.enemies_params[this.enemy_index]);this.objects[t.id]=t,this.enemy_index++}},u.prototype.remove=function(t){o.prototype.remove.apply(this,arguments)},u.prototype.run=function(){o.prototype.run.apply(this,arguments),this.create()},u.prototype.updateDisplay=function(){o.prototype.updateDisplay.apply(this,arguments)},u.prototype.checkCollisionWithCharacter=function(t){for(var r in this.objects)if(t.checkCollision(this.objects[r])){var n=this.objects[r];n.notifyCollision(t),t.notifyCollision(n);break}},r.exports=u},{"../data/enemies_params":4,"../factory/enemy":7,"./base":12,lodash:1}],15:[function(t,r,n){"use strict";var e=t("lodash"),a=t("../factory/item"),i=t("./base"),o=function(t){i.apply(this,arguments),this.factory=new a(this)};e.extend(o.prototype,i.prototype),e.extend(o,i),o.prototype.init=function(){i.prototype.init.apply(this,arguments)},o.prototype.create=function(t){i.prototype.create.apply(this,arguments)},o.prototype.homingAll=function(t){for(var r in this.objects)this.objects[r].setTarget(t)},o.prototype.remove=function(t){i.prototype.remove.apply(this,arguments)},o.prototype.run=function(){i.prototype.run.apply(this,arguments)},o.prototype.updateDisplay=function(){i.prototype.updateDisplay.apply(this,arguments)},r.exports=o},{"../factory/item":8,"./base":12,lodash:1}],16:[function(t,r,n){"use strict";var e=t("lodash"),a=t("../factory/shot"),i=t("./base"),o=function(t){i.apply(this,arguments),this.factory=new a(this)};e.extend(o.prototype,i.prototype),e.extend(o,i),o.prototype.init=function(){i.prototype.init.apply(this,arguments)},o.prototype.create=function(){i.prototype.create.apply(this,arguments)},o.prototype.remove=function(t){i.prototype.remove.apply(this,arguments)},o.prototype.run=function(){i.prototype.run.apply(this,arguments)},o.prototype.updateDisplay=function(){i.prototype.updateDisplay.apply(this,arguments)},o.prototype.checkCollisionWithEnemies=function(t){for(var r in this.objects)for(var n in t.objects)if(this.objects[r].checkCollision(t.objects[n])){var e=this.objects[r],a=t.objects[n];e.notifyCollision(a),a.notifyCollision(e);break}},r.exports=o},{"../factory/shot":9,"./base":12,lodash:1}],17:[function(t,r,n){"use strict";var e=(t("lodash"),function(t,r){this.frame_count=0,this.stage=r,this.game=r.game,this.id=t,this.x=0,this.y=0,this.indexX=0,this.indexY=0});e.prototype.init=function(){this.frame_count=0},e.prototype.run=function(){this.frame_count++},e.prototype.updateDisplay=function(){var t=Math.round(this.x-this.WIDTH/2),r=Math.round(this.y-this.HEIGHT/2),n=this.game.getImage(this.IMAGE_KEY);this.game.surface.save(),this.game.surface.drawImage(n,this.WIDTH*this.indexX,this.HEIGHT*this.indexY,this.WIDTH,this.HEIGHT,t,r,this.WIDTH,this.HEIGHT),this.game.surface.restore()},e.prototype.checkCollision=function(t){return!!(this.inCollisionArea(t.getCollisionLeftX(),t.getCollisionUpY())||this.inCollisionArea(t.getCollisionLeftX(),t.getCollisionBottomY())||this.inCollisionArea(t.getCollisionRightX(),t.getCollisionUpY())||this.inCollisionArea(t.getCollisionRightX(),t.getCollisionBottomY())||this.inCollisionArea(t.x,t.y))},e.prototype.getCollisionLeftX=function(){return this.x-this.WIDTH/2},e.prototype.getCollisionRightX=function(){return this.x+this.WIDTH/2},e.prototype.getCollisionUpY=function(){return this.y-this.HEIGHT/2},e.prototype.getCollisionBottomY=function(){return this.y+this.HEIGHT/2},e.prototype.inCollisionArea=function(t,r){return t>=this.getCollisionLeftX()&&t<=this.getCollisionRightX()&&r>=this.getCollisionUpY()&&r<=this.getCollisionBottomY()},e.prototype.notifyCollision=function(t){},r.exports=e},{lodash:1}],18:[function(t,r,n){"use strict";var e=t("lodash"),a=t("./vector_base"),i=function(t,r){a.apply(this,arguments),this.indexX=3,this.indexY=3};e.extend(i.prototype,a.prototype),e.extend(i,a),i.prototype.WIDTH=16,i.prototype.HEIGHT=16,i.prototype.IMAGE_KEY="bullet",i.prototype.init=function(t,r){a.prototype.init.apply(this,arguments),this.x=r.x,this.y=r.y},i.prototype.run=function(){a.prototype.run.apply(this,arguments)},i.prototype.notifyCollision=function(t){},r.exports=i},{"./vector_base":23,lodash:1}],19:[function(t,r,n){"use strict";var e=t("lodash"),a=t("./base"),i=function(t,r){a.apply(this,arguments)};e.extend(i.prototype,a.prototype),e.extend(i,a),i.prototype.WIDTH=32,i.prototype.HEIGHT=48,i.prototype.IMAGE_KEY="reimu",i.prototype.SPEED=4,i.prototype.ANIMATION_SPAN=2,i.prototype.UNHITTABLE_COUNT=100,i.prototype.init=function(){a.prototype.init.apply(this,arguments),
this.x=this.stage.width/2,this.y=this.stage.height-100,this.life=3,this.is_unhittable=!0,this.unhittable_count=0},i.prototype.die=function(){this.x=this.stage.width/2,this.y=this.stage.height-100,this.life-=1,this.is_unhittable=!0,this.unhittable_count=this.frame_count},i.prototype.run=function(){a.prototype.run.apply(this,arguments),this.stage.isKeyDown(this.stage.BUTTON_Z)&&this.frame_count%5===0&&(this.stage.shotmanager.create(),this.game.playSound("shot")),this.stage.isKeyDown(this.stage.BUTTON_LEFT)&&(this.x-=this.SPEED),this.stage.isKeyDown(this.stage.BUTTON_RIGHT)&&(this.x+=this.SPEED),this.stage.isKeyDown(this.stage.BUTTON_DOWN)&&(this.y+=this.SPEED),this.stage.isKeyDown(this.stage.BUTTON_UP)&&(this.y-=this.SPEED),this.x<0&&(this.x=0),this.x>this.stage.width&&(this.x=this.stage.width),this.y<0&&(this.y=0),this.y>this.stage.height&&(this.y=this.stage.height),this.stage.isKeyDown(this.stage.BUTTON_LEFT)&&!this.stage.isKeyDown(this.stage.BUTTON_RIGHT)?this.indexY=1:this.stage.isKeyDown(this.stage.BUTTON_RIGHT)&&!this.stage.isKeyDown(this.stage.BUTTON_LEFT)?this.indexY=2:this.indexY=0,this.is_unhittable&&this.unhittable_count+this.UNHITTABLE_COUNT<this.frame_count&&(this.is_unhittable=!1),this.frame_count%this.ANIMATION_SPAN===0&&(this.indexX++,0===this.indexY&&this.indexX>7?this.indexX=0:(1===this.indexY||2===this.indexY)&&this.indexX>7&&(this.indexX=4))},i.prototype.updateDisplay=function(){this.is_unhittable&&(this.game.surface.globalAlpha=.7),a.prototype.updateDisplay.apply(this,arguments),this.is_unhittable&&(this.game.surface.globalAlpha=1)},i.prototype.checkCollision=function(t){return this.is_unhittable?!1:a.prototype.checkCollision.apply(this,arguments)},i.prototype.notifyCollision=function(t){this.game.playSound("dead"),this.die(),0===this.life&&this.stage.notifyCharacterDead()},r.exports=i},{"./base":17,lodash:1}],20:[function(t,r,n){"use strict";var e=t("lodash"),a=t("./vector_base"),i=t("./shot"),o=function(t,r){a.apply(this,arguments),this.indexX=0,this.indexY=0};e.extend(o.prototype,a.prototype),e.extend(o,a),o.prototype.WIDTH=32,o.prototype.HEIGHT=32,o.prototype.IMAGE_KEY="enemy",o.prototype.ANIMATION_SPAN=5,o.prototype.init=function(t){a.prototype.init.apply(this,arguments),this.x=t.x||0,this.y=t.y||0,this.vital=t.vital,this.powerItem=t.powerItem,this.scoreItem=t.scoreItem,this.shots=t.s,this.shotCountIndex=0},o.prototype.run=function(){a.prototype.run.apply(this,arguments),this.shot(),this.frame_count%this.ANIMATION_SPAN===0&&(this.indexX++,this.indexX>2&&(this.indexX=0))},o.prototype.shot=function(){this.shots&&this.shots.shotCount[this.shotCountIndex]&&this.shots.shotCount[this.shotCountIndex]<=this.frame_count&&(this.shotCountIndex++,this.stage.bulletmanager.create(this),this.game.playSound("shot"))},o.prototype.notifyCollision=function(t){t instanceof i&&(this.stage.enemymanager.remove(this.id),this.game.playSound("enemy_vanish"),this.stage.score+=100,(this.powerItem||this.scoreItem)&&this.stage.itemmanager.create(this))},r.exports=o},{"./shot":22,"./vector_base":23,lodash:1}],21:[function(t,r,n){"use strict";var e=t("lodash"),a=t("./vector_base"),i=function(t,r){a.apply(this,arguments)};e.extend(i.prototype,a.prototype),e.extend(i,a),i.prototype.WIDTH=12,i.prototype.HEIGHT=12,i.prototype.IMAGE_KEY="item",i.prototype.init=function(t){a.prototype.init.apply(this,[{v:{r:4,theta:270,w:0,ra:-.1,wa:0}}]),this.x=t.x,this.y=t.y,t.powerItem?(this.powerItem=!0,this.indexX=0,this.indexY=0):t.scoreItem&&(this.scoreItem=!0,this.indexX=1,this.indexY=0)},i.prototype.run=function(){a.prototype.run.apply(this,arguments)},i.prototype.notifyCollision=function(t){},r.exports=i},{"./vector_base":23,lodash:1}],22:[function(t,r,n){"use strict";var e=t("lodash"),a=t("./base"),i=function(t,r){a.apply(this,arguments),this.indexX=3,this.indexY=3};e.extend(i.prototype,a.prototype),e.extend(i,a),i.prototype.WIDTH=16,i.prototype.HEIGHT=48,i.prototype.IMAGE_KEY="shot",i.prototype.SPEED=8,i.prototype.init=function(){a.prototype.init.apply(this,arguments),this.x=this.stage.character.x,this.y=this.stage.character.y},i.prototype.run=function(){a.prototype.run.apply(this,arguments),this.y-=this.SPEED},i.prototype.notifyCollision=function(t){this.stage.shotmanager.remove(this.id)},r.exports=i},{"./base":17,lodash:1}],23:[function(t,r,n){"use strict";var e=t("lodash"),a=t("./base"),i=function(t,r){a.apply(this,arguments)};e.extend(i.prototype,a.prototype),e.extend(i,a),i.prototype.init=function(t){a.prototype.init.apply(this,arguments),this.vectors=[],this.vector_index=0;var r;if(t.v&&t.v instanceof Array)for(var n=0;n<t.v.length;n++)r={},r.count=t.v[n].count,r.r=t.v[n].v.r,r.theta=t.v[n].v.theta||90,r.w=t.v[n].v.w||0,r.ra=t.v[n].v.ra||0,r.wa=t.v[n].v.wa||0,r.raa=t.v[n].v.raa||0,r.waa=t.v[n].v.waa||0,r.trange=t.v[n].v.trange||null,r.rrange=t.v[n].v.rrange||null,r.wrange=t.v[n].v.wrange||null,r.rarange=t.v[n].v.rarange||null,r.warange=t.v[n].v.warange||null,this.vectors.push(r);else t.v&&(r={},r.count=0,r.r=t.v.r,r.theta=t.v.theta||90,r.w=t.v.w||0,r.ra=t.v.ra||0,r.wa=t.v.wa||0,r.raa=t.v.raa||0,r.waa=t.v.waa||0,r.trange=t.v.trange||null,r.rrange=t.v.rrange||null,r.wrange=t.v.wrange||null,r.rarange=t.v.rarange||null,r.warange=t.v.warange||null,this.vectors.push(r))},i.prototype.run=function(){a.prototype.run.apply(this,arguments),this.vectors[this.vector_index+1]&&this.vectors[this.vector_index+1].count<=this.frame_count&&this.vector_index++,this.x+=this.calc_moveX(),this.y+=this.calc_moveY(),this.vectors[this.vector_index].theta+=this.vectors[this.vector_index].w,this.vectors[this.vector_index].r+=this.vectors[this.vector_index].ra,this.vectors[this.vector_index].w+=this.vectors[this.vector_index].wa,this.vectors[this.vector_index].ra+=this.vectors[this.vector_index].raa,this.vectors[this.vector_index].wa+=this.vectors[this.vector_index].waa,this.vectors[this.vector_index].theta=this._beInRange(this.vectors[this.vector_index].theta,this.vectors[this.vector_index].trange),this.vectors[this.vector_index].r=this._beInRange(this.vectors[this.vector_index].r,this.vectors[this.vector_index].rrange),this.vectors[this.vector_index].w=this._beInRange(this.vectors[this.vector_index].w,this.vectors[this.vector_index].wrange),this.vectors[this.vector_index].ra=this._beInRange(this.vectors[this.vector_index].ra,this.vectors[this.vector_index].rarange),this.vectors[this.vector_index].wa=this._beInRange(this.vectors[this.vector_index].wa,this.vectors[this.vector_index].warange)},i.prototype._beInRange=function(t,r){return null===r?t:(void 0!==r.max&&t>r.max&&(t=r.max),void 0!==r.min&&t<r.min&&(t=r.min),t)},i.prototype._getRadian=function(){var t=this.vectors[this.vector_index].theta/180*Math.PI;return t},i.prototype.calc_moveX=function(){var t=this.vectors[this.vector_index].r*Math.cos(this._getRadian());return t},i.prototype.calc_moveY=function(){var t=this.vectors[this.vector_index].r*Math.sin(this._getRadian());return t},r.exports=i},{"./base":17,lodash:1}],24:[function(t,r,n){"use strict";var e=function(t){this.game=t,this.frame_count=0};e.prototype.init=function(){this.frame_count=0},e.prototype.handleKeyDown=function(t){},e.prototype.handleKeyUp=function(t){},e.prototype.run=function(){this.frame_count++},e.prototype.updateDisplay=function(){console.error("updateDisplay method must be overridden")},r.exports=e},{}],25:[function(t,r,n){"use strict";var e=t("lodash"),a=t("./base"),i=function(t){a.apply(this,arguments),this.loadedImageNum=0,this.loadedSoundNum=0,this.loadedBGMNum=0};e.extend(i.prototype,a.prototype),e.extend(i,a),i.prototype.init=function(){this._loadImages(),this._loadSounds(),this._loadBGMs()},i.prototype.run=function(){var t=Object.keys(this.game.images).length+Object.keys(this.game.sounds).length+Object.keys(this.game.bgms).length,r=this.loadedImageNum+this.loadedSoundNum+this.loadedBGMNum;r>=t&&this.game.notifyLoadingDone()},i.prototype.updateDisplay=function(){var t=Object.keys(this.game.images).length+Object.keys(this.game.sounds).length+Object.keys(this.game.bgms).length,r=this.loadedImageNum+this.loadedSoundNum+this.loadedBGMNum;this.game.surface.save(),this.game.surface.clearRect(0,0,this.game.width,this.game.height),this.game.surface.fillStyle="rgb( 0, 0, 0 )",this.game.surface.textAlign="right",this.game.surface.fillText("loading...",180,200),this.game.surface.fillText(r+"/"+t,200,240),this.game.surface.restore()},i.prototype._loadImages=function(){var t=this,r=function(){t.loadedImageNum++};for(var n in this.game.IMAGES)this.game.images[n]=new Image,this.game.images[n].src=this.game.IMAGES[n],this.game.images[n].onload=r},i.prototype._loadSounds=function(){var t=this,r=function(r){t.loadedBGMNum++};for(var n in this.game.SOUNDS)this.game.sounds[n]=new Audio(this.game.SOUNDS[n].path),this.game.sounds[n].volume=this.game.SOUNDS[n].volume,this.game.sounds[n].addEventListener("canplay",r),this.game.sounds[n].load()},i.prototype._loadBGMs=function(){var t=this,r=function(r){t.loadedBGMNum++};for(var n in this.game.BGMS)this.game.bgms[n]=new Audio(this.game.BGMS[n].path),this.game.bgms[n].volume=this.game.BGMS[n].volume,this.game.bgms[n].addEventListener("canplay",r),this.game.bgms[n].load()},r.exports=i},{"./base":24,lodash:1}],26:[function(t,r,n){"use strict";var e=t("lodash"),a=t("./base"),i=function(t){a.apply(this,arguments)};e.extend(i.prototype,a.prototype),e.extend(i,a),i.prototype.SHOW_TRANSITION_COUNT=100,i.prototype.init=function(){a.prototype.init.apply(this,arguments),this.game.playBGM("title")},i.prototype.handleKeyDown=function(t){switch(t.keyCode){case 90:this.game.playSound("select"),this.game.notifyOpeningDone()}},i.prototype.run=function(){a.prototype.run.apply(this,arguments)},i.prototype.updateDisplay=function(){this.game.surface.clearRect(0,0,this.game.width,this.game.height),this.game.surface.save(),this.frame_count<this.SHOW_TRANSITION_COUNT?this.game.surface.globalAlpha=this.frame_count/this.SHOW_TRANSITION_COUNT:this.game.surface.globalAlpha=1;var t=this.game.getImage("title_bg");this.game.surface.drawImage(t,0,0,t.width,t.height,0,0,this.game.width,this.game.height),this.game.surface.font="24px 'Comic Sans MS'",this.game.surface.textAlign="center",this.game.surface.textBaseAlign="middle",this.game.surface.fillStyle="rgb( 0, 0, 0 )",this.game.surface.fillText("Touhou Project",120,200),this.game.surface.fillText("on Javascript",120,250),this.game.surface.fillText("Press Z to Start",120,350),this.game.surface.restore()},r.exports=i},{"./base":24,lodash:1}],27:[function(t,r,n){"use strict";var e=t("lodash"),a=t("./base"),i=t("../object/character"),o=t("../manager/shot"),u=t("../manager/enemy"),s=t("../manager/bullet"),c=t("../manager/item"),h=function(t){a.apply(this,arguments),this.state=null,this.score=0,this.character=new i(1,this),this.shotmanager=new o(this),this.enemymanager=new u(this),this.bulletmanager=new s(this),this.itemmanager=new c(this),this.keyflag=0,this.width=this.game.width-this.SIDE_WIDTH,this.height=this.game.height,this.continue_select_index=0};e.extend(h.prototype,a.prototype),e.extend(h,a),h.prototype.STATE_SHOOTING=1,h.prototype.STATE_GAMEOVER=2,h.prototype.STATE_CLEAR=3,h.prototype.BUTTON_LEFT=1,h.prototype.BUTTON_UP=2,h.prototype.BUTTON_RIGHT=4,h.prototype.BUTTON_DOWN=8,h.prototype.BUTTON_Z=16,h.prototype.BUTTON_X=32,h.prototype.BUTTON_SHIFT=64,h.prototype.BUTTON_SPACE=128,h.prototype.SIDE_WIDTH=160,h.prototype.BACKGROUND_SCROLL_SPEED=3,h.prototype.SHOW_TITLE_COUNT=300,h.prototype.init=function(){a.prototype.init.apply(this,arguments),this.state=this.STATE_SHOOTING,this.score=0,this.character.init(),this.shotmanager.init(),this.enemymanager.init(),this.bulletmanager.init(),this.itemmanager.init(),this.game.playBGM("stage1")},h.prototype.handleKeyDown=function(t){this.keyflag|=this._keyCodeToBitCode(t.keyCode)},h.prototype.handleKeyUp=function(t){this.keyflag&=~this._keyCodeToBitCode(t.keyCode)},h.prototype.isKeyDown=function(t){return this.keyflag&t},h.prototype._keyCodeToBitCode=function(t){var r;switch(t){case 16:r=this.BUTTON_SHIFT;break;case 32:r=this.BUTTON_SPACE;break;case 37:r=this.BUTTON_LEFT;break;case 38:r=this.BUTTON_UP;break;case 39:r=this.BUTTON_RIGHT;break;case 40:r=this.BUTTON_DOWN;break;case 88:r=this.BUTTON_X;break;case 90:r=this.BUTTON_Z}return r},h.prototype.run=function(){return this.state===this.STATE_GAMEOVER?void this._runContinue():(a.prototype.run.apply(this,arguments),this.character.run(),this.shotmanager.run(),this.enemymanager.run(),this.bulletmanager.run(),this.itemmanager.run(),this.shotmanager.checkCollisionWithEnemies(this.enemymanager),this.enemymanager.checkCollisionWithCharacter(this.character),void this.bulletmanager.checkCollisionWithCharacter(this.character))},h.prototype._runContinue=function(){this.isKeyDown(this.BUTTON_UP)?this.continue_select_index=0:this.isKeyDown(this.BUTTON_DOWN)?this.continue_select_index=1:this.isKeyDown(this.BUTTON_Z)&&(0===this.continue_select_index?(this.character.init(),this.changeState(this.STATE_SHOOTING)):1===this.continue_select_index&&this.game.notifySelectQuit())},h.prototype.updateDisplay=function(){this.game.surface.clearRect(0,0,this.game.width,this.game.height),this._showBackground(),this.character.updateDisplay(),this.shotmanager.updateDisplay(),this.enemymanager.updateDisplay(),this.bulletmanager.updateDisplay(),this.itemmanager.updateDisplay(),this._showSidebar(),this._showStageTitle(),this._showContinue()},h.prototype._showSidebar=function(){var t=this.game.width-this.SIDE_WIDTH,r=0;this.game.surface.save(),this.game.surface.fillStyle="rgb(0, 0, 0)",this.game.surface.fillRect(t,r,this.SIDE_WIDTH,this.game.height),this.game.surface.fillStyle="rgb(255, 255, 255)",this.game.surface.font="16px 'Comic Sans MS'",this.game.surface.textAlign="right",this.game.surface.fillText("Score:",t+70,r+100),this.game.surface.fillText(this.score,t+140,r+100),this.game.surface.fillText("Player:",t+70,r+140),this.game.surface.fillText(this.character.life,t+140,r+140),this.game.surface.restore()},h.prototype._showBackground=function(){var t=0,r=this.frame_count*this.BACKGROUND_SCROLL_SPEED%this.game.height;this.game.surface.save();var n=this.game.getImage("stage1_bg");this.game.surface.drawImage(n,0,0,n.width,n.height,t,r,this.game.width-this.SIDE_WIDTH,this.game.height),this.game.surface.drawImage(n,0,0,n.width,n.height,t,r-this.game.height,this.game.width-this.SIDE_WIDTH,this.game.height),this.game.surface.restore()},h.prototype._showStageTitle=function(){if(!(this.frame_count>this.SHOW_TITLE_COUNT)){this.game.surface.save();var t=1;this.frame_count<this.SHOW_TITLE_COUNT/3?t=3*this.frame_count/this.SHOW_TITLE_COUNT:this.SHOW_TITLE_COUNT/3<this.frame_count&&this.frame_count<2*this.SHOW_TITLE_COUNT/3?t=1:2*this.SHOW_TITLE_COUNT/3<this.frame_count&&(t=3*(this.SHOW_TITLE_COUNT-this.frame_count)/this.SHOW_TITLE_COUNT),this.game.surface.fillStyle="rgb( 0, 0, 0 )",this.game.surface.globalAlpha=.5*t,this.game.surface.fillRect(0,170,480,100),this.game.surface.globalAlpha=t,this.game.surface.fillStyle="rgb( 255, 255, 255 )",this.game.surface.textAlign="left",this.game.surface.font="16px Arial",this.game.surface.fillText("Stage 1",100,210),this.game.surface.textAlign="right",this.game.surface.fillText("  Mystic Flier",380,250),this.game.surface.fillRect(100,225,280,1),this.game.surface.restore()}},h.prototype._showContinue=function(){this.state===this.STATE_GAMEOVER&&(this.game.surface.save(),this.game.surface.fillStyle="rgb( 0, 0, 0 )",this.game.surface.globalAlpha=.5,this.game.surface.fillRect(0,170,480,100),this.game.surface.fillStyle="rgb( 255, 255, 255 )",this.game.surface.textAlign="center",this.game.surface.textBaseAlign="middle",this.game.surface.font="16px Arial",this.game.surface.globalAlpha=0===this.continue_select_index?1:.2,this.game.surface.fillText("Continue",240,200),this.game.surface.globalAlpha=1===this.continue_select_index?1:.2,this.game.surface.fillText("Quit",240,240),this.game.surface.restore())},h.prototype.changeState=function(t){this.state=t},h.prototype.notifyCharacterDead=function(){this.changeState(this.STATE_GAMEOVER)},r.exports=h},{"../manager/bullet":13,"../manager/enemy":14,"../manager/item":15,"../manager/shot":16,"../object/character":19,"./base":24,lodash:1}]},{},[11]);