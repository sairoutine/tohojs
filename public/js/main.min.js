!function t(n,e,r){function i(a,u){if(!e[a]){if(!n[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=e[a]={exports:{}};n[a][0].call(f.exports,function(t){var e=n[a][1][t];return i(e?e:t)},f,f.exports,t,n,e,r)}return e[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,n,e){(function(t){(function(){function r(t,n){return t.set(n[0],n[1]),t}function i(t,n){return t.add(n),t}function o(t,n,e){var r=e.length;switch(r){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function a(t,n,e,r){for(var i=-1,o=t.length;++i<o;){var a=t[i];n(r,a,e(a),t)}return r}function u(t,n){for(var e=-1,r=t.length,i=-1,o=n.length,a=Array(r+o);++e<r;)a[e]=t[e];for(;++i<o;)a[e++]=n[i];return a}function s(t,n){for(var e=-1,r=t.length;++e<r&&n(t[e],e,t)!==!1;);return t}function c(t,n){for(var e=t.length;e--&&n(t[e],e,t)!==!1;);return t}function f(t,n){for(var e=-1,r=t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function h(t,n){for(var e=-1,r=t.length,i=-1,o=[];++e<r;){var a=t[e];n(a,e,t)&&(o[++i]=a)}return o}function l(t,n){return!!t.length&&b(t,n,0)>-1}function p(t,n,e){for(var r=-1,i=t.length;++r<i;)if(e(n,t[r]))return!0;return!1}function v(t,n){for(var e=-1,r=t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}function g(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}function _(t,n,e,r){var i=-1,o=t.length;for(r&&o&&(e=t[++i]);++i<o;)e=n(e,t[i],i,t);return e}function y(t,n,e,r){var i=t.length;for(r&&i&&(e=t[--i]);i--;)e=n(e,t[i],i,t);return e}function m(t,n){for(var e=-1,r=t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}function d(t,n,e){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=n(o);if(null!=a&&(u===Z?a===a:e(a,u)))var u=a,s=o}return s}function w(t,n,e,r){var i;return e(t,function(t,e,o){return n(t,e,o)?(i=r?e:t,!1):void 0}),i}function x(t,n,e){for(var r=t.length,i=e?r:-1;e?i--:++i<r;)if(n(t[i],i,t))return i;return-1}function b(t,n,e){if(n!==n)return M(t,e);for(var r=e-1,i=t.length;++r<i;)if(t[r]===n)return r;return-1}function I(t,n,e,r,i){return i(t,function(t,i,o){e=r?(r=!1,t):n(e,t,i,o)}),e}function T(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}function O(t,n){for(var e,r=-1,i=t.length;++r<i;){var o=n(t[r]);o!==Z&&(e=e===Z?o:e+o)}return e}function S(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function A(t,n){return v(n,function(n){return[n,t[n]]})}function E(t){return function(n){return t(n)}}function N(t,n){return v(n,function(n){return t[n]})}function j(t,n){for(var e=-1,r=t.length;++e<r&&b(n,t[e],0)>-1;);return e}function C(t,n){for(var e=t.length;e--&&b(n,t[e],0)>-1;);return e}function D(t){return t&&t.Object===Object?t:null}function k(t,n){if(t!==n){var e=null===t,r=t===Z,i=t===t,o=null===n,a=n===Z,u=n===n;if(t>n&&!o||!i||e&&!a&&u||r&&u)return 1;if(n>t&&!e||!u||o&&!r&&i||a&&i)return-1}return 0}function B(t,n,e){for(var r=-1,i=t.criteria,o=n.criteria,a=i.length,u=e.length;++r<a;){var s=k(i[r],o[r]);if(s){if(r>=u)return s;var c=e[r];return s*("desc"==c?-1:1)}}return t.index-n.index}function U(t,n){for(var e=t.length,r=0;e--;)t[e]===n&&r++;return r}function R(t){return xe[t]}function W(t){return be[t]}function L(t){return"\\"+Oe[t]}function M(t,n,e){for(var r=t.length,i=n+(e?0:-1);e?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function G(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(e){}return n}function H(t,n){return t="number"==typeof t||An.test(t)?+t:-1,n=null==n?xt:n,t>-1&&t%1==0&&n>t}function P(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}function K(t){var n=-1,e=Array(t.size);return t.forEach(function(t,r){e[++n]=[r,t]}),e}function F(t,n){for(var e=-1,r=t.length,i=-1,o=[];++e<r;){var a=t[e];a!==n&&a!==At||(t[e]=At,o[++i]=e)}return o}function $(t){var n=-1,e=Array(t.size);return t.forEach(function(t){e[++n]=t}),e}function z(t){if(!t||!pe.test(t))return t.length;for(var n=le.lastIndex=0;le.test(t);)n++;return n}function q(t){return t.match(le)}function Y(t){return Ie[t]}function X(t){function n(t){if(Ma(t)&&!bf(t)&&!(t instanceof An)){if(t instanceof D)return t;if(Fs.call(t,"__wrapped__"))return ki(t)}return new D(t)}function e(){}function D(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=Z}function An(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Tt,this.__views__=[]}function Cn(){var t=new An(this.__wrapped__);return t.__actions__=Lr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Lr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Lr(this.__views__),t}function Dn(){if(this.__filtered__){var t=new An(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function kn(){var t=this.__wrapped__.value(),n=this.__dir__,e=bf(t),r=0>n,i=e?t.length:0,o=_i(0,i,this.__views__),a=o.start,u=o.end,s=u-a,c=r?u:a-1,f=this.__iteratees__,h=f.length,l=0,p=gc(s,this.__takeCount__);if(!e||vt>i||i==s&&p==s)return Sr(t,this.__actions__);var v=[];t:for(;s--&&p>l;){c+=n;for(var g=-1,_=t[c];++g<h;){var y=f[g],m=y.iteratee,d=y.type,w=m(_);if(d==_t)_=w;else if(!w){if(d==gt)continue t;break t}}v[l++]=_}return v}function Bn(){}function Un(t,n){return Wn(t,n)&&delete t[n]}function Rn(t,n){if(bc){var e=t[n];return e===dt?Z:e}return Fs.call(t,n)?t[n]:Z}function Wn(t,n){return bc?t[n]!==Z:Fs.call(t,n)}function Ln(t,n,e){t[n]=bc&&e===Z?dt:e}function Mn(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Gn(){this.__data__={hash:new Bn,map:dc?new dc:[],string:new Bn}}function Hn(t){var n=this.__data__;return Ti(t)?Un("string"==typeof t?n.string:n.hash,t):dc?n.map["delete"](t):te(n.map,t)}function Pn(t){var n=this.__data__;return Ti(t)?Rn("string"==typeof t?n.string:n.hash,t):dc?n.map.get(t):ne(n.map,t)}function Kn(t){var n=this.__data__;return Ti(t)?Wn("string"==typeof t?n.string:n.hash,t):dc?n.map.has(t):ee(n.map,t)}function Fn(t,n){var e=this.__data__;return Ti(t)?Ln("string"==typeof t?e.string:e.hash,t,n):dc?e.map.set(t,n):ie(e.map,t,n),this}function $n(t){var n=-1,e=t?t.length:0;for(this.__data__=new Mn;++n<e;)this.push(t[n])}function zn(t,n){var e=t.__data__;if(Ti(n)){var r=e.__data__,i="string"==typeof n?r.string:r.hash;return i[n]===dt}return e.has(n)}function qn(t){var n=this.__data__;if(Ti(t)){var e=n.__data__,r="string"==typeof t?e.string:e.hash;r[t]=dt}else n.set(t,dt)}function Yn(t){var n=-1,e=t?t.length:0;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function Xn(){this.__data__={array:[],map:null}}function Zn(t){var n=this.__data__,e=n.array;return e?te(e,t):n.map["delete"](t)}function Jn(t){var n=this.__data__,e=n.array;return e?ne(e,t):n.map.get(t)}function Vn(t){var n=this.__data__,e=n.array;return e?ee(e,t):n.map.has(t)}function Qn(t,n){var e=this.__data__,r=e.array;r&&(r.length<vt-1?ie(r,t,n):(e.array=null,e.map=new Mn(r)));var i=e.map;return i&&i.set(t,n),this}function te(t,n){var e=re(t,n);if(0>e)return!1;var r=t.length-1;return e==r?t.pop():sc.call(t,e,1),!0}function ne(t,n){var e=re(t,n);return 0>e?Z:t[e][1]}function ee(t,n){return re(t,n)>-1}function re(t,n){for(var e=t.length;e--;)if(wa(t[e][0],n))return e;return-1}function ie(t,n,e){var r=re(t,n);0>r?t.push([n,e]):t[r][1]=e}function oe(t,n,e,r){return t===Z||wa(t,Ps[e])&&!Fs.call(r,e)?n:t}function ae(t,n,e){(e===Z||wa(t[n],e))&&("number"!=typeof n||e!==Z||n in t)||(t[n]=e)}function ue(t,n,e){var r=t[n];Fs.call(t,n)&&wa(r,e)&&(e!==Z||n in t)||(t[n]=e)}function se(t,n,e,r){return Cc(t,function(t,i,o){n(r,t,e(t),o)}),r}function ce(t,n){return t&&Mr(n,Ou(n),t)}function fe(t,n){for(var e=-1,r=null==t,i=n.length,o=Array(i);++e<i;)o[e]=r?Z:bu(t,n[e]);return o}function le(t){return Sa(t)?t:[]}function xe(t){return"function"==typeof t?t:vs}function be(t){return bf(t)?t:Di(t)}function Ie(t,n,e){return t===t&&(e!==Z&&(t=e>=t?t:e),n!==Z&&(t=t>=n?t:n)),t}function Te(t,n,e,r,i,o){var a;if(e&&(a=i?e(t,r,i,o):e(t)),a!==Z)return a;if(!La(t))return t;var u=bf(t);if(u){if(a=mi(t),!n)return Lr(t,a)}else{var c=gi(t),f=c==kt||c==Bt;if(If(t))return Nr(t,n);if(c==Wt||c==Et||f&&!i){if(G(t))return i?t:{};if(a=di(f?{}:t),!n)return Hr(t,ce(a,t))}else{if(!we[c])return i?t:{};a=wi(t,c,n)}}o||(o=new Yn);var h=o.get(t);return h?h:(o.set(t,a),(u?s:Me)(t,function(r,i){ue(a,i,Te(r,n,e,i,t,o))}),u?a:Hr(t,a))}function Oe(t){var n=Ou(t),e=n.length;return function(r){if(null==r)return!e;for(var i=e;i--;){var o=n[i],a=t[o],u=r[o];if(u===Z&&!(o in Object(r))||!a(u))return!1}return!0}}function Ee(t){return La(t)?oc(t):{}}function Ne(t,n,e){if("function"!=typeof t)throw new Gs(mt);return uc(function(){t.apply(Z,e)},n)}function Ce(t,n,e,r){var i=-1,o=l,a=!0,u=t.length,s=[],c=n.length;if(!u)return s;e&&(n=v(n,E(e))),r?(o=p,a=!1):n.length>=vt&&(o=zn,a=!1,n=new $n(n));t:for(;++i<u;){var f=t[i],h=e?e(f):f;if(a&&h===h){for(var g=c;g--;)if(n[g]===h)continue t;s.push(f)}else o(n,h,r)||s.push(f)}return s}function De(t,n){var e=!0;return Cc(t,function(t,r,i){return e=!!n(t,r,i)}),e}function ke(t,n,e,r){var i=t.length;for(e=uu(e),0>e&&(e=-e>i?0:i+e),r=r===Z||r>i?i:uu(r),0>r&&(r+=i),r=e>r?0:su(r);r>e;)t[e++]=n;return t}function Be(t,n){var e=[];return Cc(t,function(t,r,i){n(t,r,i)&&e.push(t)}),e}function We(t,n,e,r){r||(r=[]);for(var i=-1,o=t.length;++i<o;){var a=t[i];n>0&&Sa(a)&&(e||bf(a)||Ia(a))?n>1?We(a,n-1,e,r):g(r,a):e||(r[r.length]=a)}return r}function Le(t,n){return null==t?t:kc(t,n,Su)}function Me(t,n){return t&&kc(t,n,Ou)}function Ge(t,n){return t&&Bc(t,n,Ou)}function He(t,n){return h(n,function(n){return Ua(t[n])})}function Pe(t,n){n=Ii(n,t)?[n+""]:be(n);for(var e=0,r=n.length;null!=t&&r>e;)t=t[n[e++]];return e&&e==r?t:Z}function Ke(t,n){return Fs.call(t,n)||"object"==typeof t&&n in t&&null===ec(t)}function Fe(t,n){return n in Object(t)}function $e(t,n,e){return t>=gc(n,e)&&t<vc(n,e)}function ze(t,n,e){for(var r=e?p:l,i=t.length,o=i,a=Array(i),u=[];o--;){var s=t[o];o&&n&&(s=v(s,E(n))),a[o]=!e&&(n||s.length>=120)?new $n(o&&s):Z}s=t[0];var c=-1,f=s.length,h=a[0];t:for(;++c<f;){var g=s[c],_=n?n(g):g;if(!(h?zn(h,_):r(u,_,e))){for(var o=i;--o;){var y=a[o];if(!(y?zn(y,_):r(t[o],_,e)))continue t}h&&h.push(_),u.push(g)}}return u}function qe(t,n,e,r){return Me(t,function(t,i,o){n(r,e(t),i,o)}),r}function Ye(t,n,e){Ii(n,t)||(n=be(n),t=ji(t,n),n=Ji(n));var r=null==t?t:t[n];return null==r?Z:o(r,t,e)}function Xe(t,n,e,r,i){return t===n?!0:null==t||null==n||!La(t)&&!Ma(n)?t!==t&&n!==n:Ze(t,n,Xe,e,r,i)}function Ze(t,n,e,r,i,o){var a=bf(t),u=bf(n),s=Nt,c=Nt;a||(s=gi(t),s==Et?s=Wt:s!=Wt&&(a=tu(t))),u||(c=gi(n),c==Et?c=Wt:c!=Wt&&(u=tu(n)));var f=s==Wt&&!G(t),h=c==Wt&&!G(n),l=s==c;if(l&&!a&&!f)return si(t,n,s,e,r,i);var p=i&ct;if(!p){var v=f&&Fs.call(t,"__wrapped__"),g=h&&Fs.call(n,"__wrapped__");if(v||g)return e(v?t.value():t,g?n.value():n,r,i,o)}return l?(o||(o=new Yn),(a?ui:ci)(t,n,e,r,i,o)):!1}function Je(t,n,e,r){var i=e.length,o=i,a=!r;if(null==t)return!o;for(t=Object(t);i--;){var u=e[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){u=e[i];var s=u[0],c=t[s],f=u[1];if(a&&u[2]){if(c===Z&&!(s in t))return!1}else{var h=new Yn,l=r?r(c,f,s,t,n,h):Z;if(!(l===Z?Xe(f,c,r,st|ct,h):l))return!1}}return!0}function Ve(t){var n=typeof t;return"function"==n?t:null==t?vs:"object"==n?bf(t)?rr(t[0],t[1]):er(t):bs(t)}function Qe(t){return pc(Object(t))}function tr(t){t=null==t?t:Object(t);var n=[];for(var e in t)n.push(e);return n}function nr(t,n){var e=-1,r=Oa(t)?Array(t.length):[];return Cc(t,function(t,i,o){r[++e]=n(t,i,o)}),r}function er(t){var n=li(t);if(1==n.length&&n[0][2]){var e=n[0][0],r=n[0][1];return function(t){return null==t?!1:t[e]===r&&(r!==Z||e in Object(t))}}return function(e){return e===t||Je(e,t,n)}}function rr(t,n){return function(e){var r=bu(e,t);return r===Z&&r===n?Tu(e,t):Xe(n,r,Z,st|ct)}}function ir(t,n,e,r,i){if(t!==n){var o=bf(n)||tu(n)?Z:Su(n);s(o||n,function(a,u){if(o&&(u=a,a=n[u]),La(a))i||(i=new Yn),or(t,n,u,e,ir,r,i);else{var s=r?r(t[u],a,u+"",t,n,i):Z;s===Z&&(s=a),ae(t,u,s)}})}}function or(t,n,e,r,i,o,a){var u=t[e],s=n[e],c=a.get(s);if(c)return void ae(t,e,c);var f=o?o(u,s,e+"",t,n,a):Z,h=f===Z;h&&(f=s,bf(s)||tu(s)?bf(u)?f=u:Sa(u)?f=Lr(u):(h=!1,f=Te(s,!0)):Ya(s)||Ia(s)?Ia(u)?f=fu(u):!La(u)||r&&Ua(u)?(h=!1,f=Te(s,!0)):f=u:h=!1),a.set(s,f),h&&i(f,s,r,o,a),ae(t,e,f)}function ar(t,n,e){var r=-1,i=hi();n=v(n.length?n:Array(1),function(t){return i(t)});var o=nr(t,function(t,e,i){var o=v(n,function(n){return n(t)});return{criteria:o,index:++r,value:t}});return T(o,function(t,n){return B(t,n,e)})}function ur(t,n){return t=Object(t),_(n,function(n,e){return e in t&&(n[e]=t[e]),n},{})}function sr(t,n){var e={};return Le(t,function(t,r){n(t,r)&&(e[r]=t)}),e}function cr(t){return function(n){return null==n?Z:n[t]}}function fr(t){return function(n){return Pe(n,t)}}function hr(t,n){return lr(t,n)}function lr(t,n,e){var r=-1,i=n.length,o=t;for(e&&(o=v(t,function(t){return e(t)}));++r<i;)for(var a=0,u=n[r],s=e?e(u):u;(a=b(o,s,a))>-1;)o!==t&&sc.call(o,a,1),sc.call(t,a,1);return t}function pr(t,n){for(var e=t?n.length:0,r=e-1;e--;){var i=n[e];if(r==e||i!=o){var o=i;if(H(i))sc.call(t,i,1);else if(Ii(i,t))delete t[i];else{var a=be(i),u=ji(t,a);null!=u&&delete u[Ji(a)]}}}return t}function vr(t,n){return t+fc(yc()*(n-t+1))}function gr(t,n,e,r){for(var i=-1,o=vc(cc((n-t)/(e||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=e;return a}function _r(t,n,e,r){n=Ii(n,t)?[n+""]:be(n);for(var i=-1,o=n.length,a=o-1,u=t;null!=u&&++i<o;){var s=n[i];if(La(u)){var c=e;if(i!=a){var f=u[s];c=r?r(f,s,u):Z,c===Z&&(c=null==f?H(n[i+1])?[]:{}:f)}ue(u,s,c)}u=u[s]}return t}function yr(t,n,e){var r=-1,i=t.length;0>n&&(n=-n>i?0:i+n),e=e>i?i:e,0>e&&(e+=i),i=n>e?0:e-n>>>0,n>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+n];return o}function mr(t,n){var e;return Cc(t,function(t,r,i){return e=n(t,r,i),!e}),!!e}function dr(t,n,e){var r=0,i=t?t.length:r;if("number"==typeof n&&n===n&&St>=i){for(;i>r;){var o=r+i>>>1,a=t[o];(e?n>=a:n>a)&&null!==a?r=o+1:i=o}return i}return wr(t,n,vs,e)}function wr(t,n,e,r){n=e(n);for(var i=0,o=t?t.length:0,a=n!==n,u=null===n,s=n===Z;o>i;){var c=fc((i+o)/2),f=e(t[c]),h=f!==Z,l=f===f;if(a)var p=l||r;else p=u?l&&h&&(r||null!=f):s?l&&(r||h):null==f?!1:r?n>=f:n>f;p?i=c+1:o=c}return gc(o,Ot)}function xr(t){return br(t)}function br(t,n){for(var e=0,r=t.length,i=t[0],o=n?n(i):i,a=o,u=0,s=[i];++e<r;)i=t[e],o=n?n(i):i,wa(o,a)||(a=o,s[++u]=i);return s}function Ir(t,n,e){var r=-1,i=l,o=t.length,a=!0,u=[],s=u;if(e)a=!1,i=p;else if(o>=vt){var c=n?null:Rc(t);if(c)return $(c);a=!1,i=zn,s=new $n}else s=n?[]:u;t:for(;++r<o;){var f=t[r],h=n?n(f):f;if(a&&h===h){for(var v=s.length;v--;)if(s[v]===h)continue t;n&&s.push(h),u.push(f)}else i(s,h,e)||(s!==u&&s.push(h),u.push(f))}return u}function Tr(t,n){n=Ii(n,t)?[n+""]:be(n),t=ji(t,n);var e=Ji(n);return null!=t&&Iu(t,e)?delete t[e]:!0}function Or(t,n,e,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&n(t[o],o,t););return e?yr(t,r?0:o,r?o+1:i):yr(t,r?o+1:0,r?i:o)}function Sr(t,n){var e=t;return e instanceof An&&(e=e.value()),_(n,function(t,n){return n.func.apply(n.thisArg,g([t],n.args))},e)}function Ar(t,n,e){for(var r=-1,i=t.length;++r<i;)var o=o?g(Ce(o,t[r],n,e),Ce(t[r],o,n,e)):t[r];return o&&o.length?Ir(o,n,e):[]}function Er(t,n,e){for(var r=-1,i=t.length,o=n.length,a={};++r<i;)e(a,t[r],o>r?n[r]:Z);return a}function Nr(t,n){if(n)return t.slice();var e=t.constructor,r=new e(t.length);return t.copy(r),r}function jr(t){var n=t.constructor,e=new n(t.byteLength),r=new Qs(e);return r.set(new Qs(t)),e}function Cr(t){var n=t.constructor;return _(K(t),r,new n)}function Dr(t){var n=t.constructor,e=new n(t.source,xn.exec(t));return e.lastIndex=t.lastIndex,e}function kr(t){var n=t.constructor;return _($(t),i,new n)}function Br(t){return Vs?Object(Ec.call(t)):{}}function Ur(t,n){var e=t.buffer,r=n?jr(e):e,i=t.constructor;return new i(r,t.byteOffset,t.length)}function Rr(t,n,e,r){for(var i=-1,o=t.length,a=e.length,u=-1,s=n.length,c=vc(o-a,0),f=Array(s+c),h=!r;++u<s;)f[u]=n[u];for(;++i<a;)(h||o>i)&&(f[e[i]]=t[i]);for(;c--;)f[u++]=t[i++];return f}function Wr(t,n,e,r){for(var i=-1,o=t.length,a=-1,u=e.length,s=-1,c=n.length,f=vc(o-u,0),h=Array(f+c),l=!r;++i<f;)h[i]=t[i];for(var p=i;++s<c;)h[p+s]=n[s];for(;++a<u;)(l||o>i)&&(h[p+e[a]]=t[i++]);return h}function Lr(t,n){var e=-1,r=t.length;for(n||(n=Array(r));++e<r;)n[e]=t[e];return n}function Mr(t,n,e){return Gr(t,n,e)}function Gr(t,n,e,r){e||(e={});for(var i=-1,o=n.length;++i<o;){var a=n[i],u=r?r(e[a],t[a],a,e,t):t[a];ue(e,a,u)}return e}function Hr(t,n){return Mr(t,Mc(t),n)}function Pr(t,n){return function(e,r){var i=bf(e)?a:se,o=n?n():{};return i(e,t,hi(r),o)}}function Kr(t){return fa(function(n,e){var r=-1,i=e.length,o=i>1?e[i-1]:Z,a=i>2?e[2]:Z;for(o="function"==typeof o?(i--,o):Z,a&&bi(e[0],e[1],a)&&(o=3>i?Z:o,i=1),n=Object(n);++r<i;){var u=e[r];u&&t(n,u,r,o)}return n})}function Fr(t,n){return function(e,r){if(null==e)return e;if(!Oa(e))return t(e,r);for(var i=e.length,o=n?i:-1,a=Object(e);(n?o--:++o<i)&&r(a[o],o,a)!==!1;);return e}}function $r(t){return function(n,e,r){for(var i=-1,o=Object(n),a=r(n),u=a.length;u--;){var s=a[t?u:++i];if(e(o[s],s,o)===!1)break}return n}}function zr(t,n,e){function r(){var n=this&&this!==Ue&&this instanceof r?o:t;return n.apply(i?e:this,arguments)}var i=n&V,o=Xr(t);return r}function qr(t){return function(n){n=lu(n);var e=pe.test(n)?q(n):Z,r=e?e[0]:n.charAt(0),i=e?e.slice(1).join(""):n.slice(1);return r[t]()+i}}function Yr(t){return function(n){return _(fs(Fu(n)),t,"")}}function Xr(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var e=Ee(t.prototype),r=t.apply(e,n);return La(r)?r:e}}function Zr(t,n,e){function r(){for(var a=arguments.length,u=Array(a),s=a,c=vi(r);s--;)u[s]=arguments[s];var f=3>a&&u[0]!==c&&u[a-1]!==c?[]:F(u,c);if(a-=f.length,e>a)return ii(t,n,Vr,r.placeholder,Z,u,f,Z,Z,e-a);var h=this&&this!==Ue&&this instanceof r?i:t;return o(h,this,u)}var i=Xr(t);return r}function Jr(t){return fa(function(n){n=We(n,1);var e=n.length,r=e,i=D.prototype.thru;for(t&&n.reverse();r--;){var o=n[r];if("function"!=typeof o)throw new Gs(mt);if(i&&!a&&"wrapper"==fi(o))var a=new D([],!0)}for(r=a?r:e;++r<e;){o=n[r];var u=fi(o),s="wrapper"==u?Wc(o):Z;a=s&&Oi(s[0])&&s[1]==(ot|nt|rt|at)&&!s[4].length&&1==s[9]?a[fi(s[0])].apply(a,s[3]):1==o.length&&Oi(o)?a[u]():a.thru(o)}return function(){var t=arguments,r=t[0];if(a&&1==t.length&&bf(r)&&r.length>=vt)return a.plant(r).value();for(var i=0,o=e?n[i].apply(this,t):r;++i<e;)o=n[i].call(this,o);return o}})}function Vr(t,n,e,r,i,o,a,u,s,c){function f(){for(var y=arguments.length,m=y,d=Array(y);m--;)d[m]=arguments[m];if(v)var w=vi(f),x=U(d,w);if(r&&(d=Rr(d,r,i,v)),o&&(d=Wr(d,o,a,v)),y-=x,v&&c>y){var b=F(d,w);return ii(t,n,Vr,f.placeholder,e,d,b,u,s,c-y)}var I=l?e:this,T=p?I[t]:t;return y=d.length,u?d=Ci(d,u):g&&y>1&&d.reverse(),h&&y>s&&(d.length=s),this&&this!==Ue&&this instanceof f&&(T=_||Xr(T)),T.apply(I,d)}var h=n&ot,l=n&V,p=n&Q,v=n&(nt|et),g=n&ut,_=p?Z:Xr(t);return f}function Qr(t,n){return function(e,r){return qe(e,t,n(r),{})}}function ti(t){return fa(function(n){return n=v(We(n,1),hi()),fa(function(e){var r=this;return t(n,function(t){return o(t,r,e)})})})}function ni(t,n,e){n=uu(n);var r=z(t);if(!n||r>=n)return"";var i=n-r;e=e===Z?" ":e+"";var o=Vu(e,cc(i/z(e)));return pe.test(e)?q(o).slice(0,i).join(""):o.slice(0,i)}function ei(t,n,e,r){function i(){for(var n=-1,s=arguments.length,c=-1,f=r.length,h=Array(f+s),l=this&&this!==Ue&&this instanceof i?u:t;++c<f;)h[c]=r[c];for(;s--;)h[c++]=arguments[++n];return o(l,a?e:this,h)}var a=n&V,u=Xr(t);return i}function ri(t){return function(n,e,r){return r&&"number"!=typeof r&&bi(n,e,r)&&(e=r=Z),n=cu(n),n=n===n?n:0,e===Z?(e=n,n=0):e=cu(e)||0,r=r===Z?e>n?1:-1:cu(r)||0,gr(n,e,r,t)}}function ii(t,n,e,r,i,o,a,u,s,c){var f=n&nt,h=u?Lr(u):Z,l=f?a:Z,p=f?Z:a,v=f?o:Z,g=f?Z:o;n|=f?rt:it,n&=~(f?it:rt),n&tt||(n&=~(V|Q));var _=[t,n,i,v,l,g,p,h,s,c],y=e.apply(Z,_);return Oi(t)&&Gc(y,_),y.placeholder=r,y}function oi(t){var n=Ls[t];return function(t,e){if(t=cu(t),e=uu(e)){var r=(lu(t)+"e").split("e"),i=n(r[0]+"e"+(+r[1]+e));return r=(lu(i)+"e").split("e"),+(r[0]+"e"+(+r[1]-e))}return n(t)}}function ai(t,n,e,r,i,o,a,u){var s=n&Q;if(!s&&"function"!=typeof t)throw new Gs(mt);var c=r?r.length:0;if(c||(n&=~(rt|it),r=i=Z),a=a===Z?a:vc(uu(a),0),u=u===Z?u:uu(u),c-=i?i.length:0,n&it){var f=r,h=i;r=i=Z}var l=s?Z:Wc(t),p=[t,n,e,r,i,f,h,o,a,u];if(l&&Ei(p,l),t=p[0],n=p[1],e=p[2],r=p[3],i=p[4],u=p[9]=null==p[9]?s?0:t.length:vc(p[9]-c,0),!u&&n&(nt|et)&&(n&=~(nt|et)),n&&n!=V)v=n==nt||n==et?Zr(t,n,u):n!=rt&&n!=(V|rt)||i.length?Vr.apply(Z,p):ei(t,n,e,r);else var v=zr(t,n,e);var g=l?Uc:Gc;return g(v,p)}function ui(t,n,e,r,i,o){var a=-1,u=i&ct,s=i&st,c=t.length,f=n.length;if(c!=f&&!(u&&f>c))return!1;var h=o.get(t);if(h)return h==n;var l=!0;for(o.set(t,n);++a<c;){var p=t[a],v=n[a];if(r)var g=u?r(v,p,a,n,t,o):r(p,v,a,t,n,o);if(g!==Z){if(g)continue;l=!1;break}if(s){if(!m(n,function(t){return p===t||e(p,t,r,i,o)})){l=!1;break}}else if(p!==v&&!e(p,v,r,i,o)){l=!1;break}}return o["delete"](t),l}function si(t,n,e,r,i,o){switch(e){case Ft:return!(t.byteLength!=n.byteLength||!r(new Qs(t),new Qs(n)));case jt:case Ct:return+t==+n;case Dt:return t.name==n.name&&t.message==n.message;case Rt:return t!=+t?n!=+n:t==+n;case Lt:case Gt:return t==n+"";case Ut:var a=K;case Mt:var u=o&ct;return a||(a=$),(u||t.size==n.size)&&r(a(t),a(n),i,o|st);case Ht:return!!Vs&&Ec.call(t)==Ec.call(n)}return!1}function ci(t,n,e,r,i,o){var a=i&ct,u=Ou(t),s=u.length,c=Ou(n),f=c.length;if(s!=f&&!a)return!1;for(var h=s;h--;){var l=u[h];if(!(a?l in n:Ke(n,l)))return!1}var p=o.get(t);if(p)return p==n;var v=!0;o.set(t,n);for(var g=a;++h<s;){l=u[h];var _=t[l],y=n[l];if(r)var m=a?r(y,_,l,n,t,o):r(_,y,l,t,n,o);if(!(m===Z?_===y||e(_,y,r,i,o):m)){v=!1;break}g||(g="constructor"==l)}if(v&&!g){var d=t.constructor,w=n.constructor;d!=w&&"constructor"in t&&"constructor"in n&&!("function"==typeof d&&d instanceof d&&"function"==typeof w&&w instanceof w)&&(v=!1)}return o["delete"](t),v}function fi(t){for(var n=t.name+"",e=jc[n],r=Fs.call(jc,n)?e.length:0;r--;){var i=e[r],o=i.func;if(null==o||o==t)return i.name}return n}function hi(){var t=n.iteratee||gs;return t=t===gs?Ve:t,arguments.length?t(arguments[0],arguments[1]):t}function li(t){for(var n=Bu(t),e=n.length;e--;)n[e][2]=Ai(n[e][1]);return n}function pi(t,n){var e=null==t?Z:t[n];return Fa(e)?e:Z}function vi(t){var e=Fs.call(n,"placeholder")?n:t;return e.placeholder}function gi(t){return qs.call(t)}function _i(t,n,e){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":n-=a;break;case"take":n=gc(n,t+a);break;case"takeRight":t=vc(t,n-a)}}return{start:t,end:n}}function yi(t,n,e){if(null==t)return!1;var r=e(t,n);r||Ii(n)||(n=be(n),t=ji(t,n),null!=t&&(n=Ji(n),r=e(t,n)));var i=t?t.length:Z;return r||!!i&&Wa(i)&&H(n,i)&&(bf(t)||Va(t)||Ia(t))}function mi(t){var n=t.length,e=t.constructor(n);return n&&"string"==typeof t[0]&&Fs.call(t,"index")&&(e.index=t.index,e.input=t.input),e}function di(t){return Ua(t.constructor)&&!Si(t)?Ee(ec(t)):{}}function wi(t,n,e){var r=t.constructor;switch(n){case Ft:return jr(t);case jt:case Ct:return new r(+t);case $t:case zt:case qt:case Yt:case Xt:case Zt:case Jt:case Vt:case Qt:return Ur(t,e);case Ut:return Cr(t);case Rt:case Gt:return new r(t);case Lt:return Dr(t);case Mt:return kr(t);case Ht:return Br(t)}}function xi(t){var n=t?t.length:Z;return Wa(n)&&(bf(t)||Va(t)||Ia(t))?S(n,String):null}function bi(t,n,e){if(!La(e))return!1;var r=typeof n;return("number"==r?Oa(e)&&H(n,e.length):"string"==r&&n in e)?wa(e[n],t):!1}function Ii(t,n){return"number"==typeof t?!0:!bf(t)&&(ln.test(t)||!hn.test(t)||null!=n&&t in Object(n))}function Ti(t){var n=typeof t;return"number"==n||"boolean"==n||"string"==n&&"__proto__"!=t||null==t}function Oi(t){var e=fi(t),r=n[e];if("function"!=typeof r||!(e in An.prototype))return!1;if(t===r)return!0;var i=Wc(r);return!!i&&t===i[0]}function Si(t){var n=t&&t.constructor,e=Ua(n)&&n.prototype||Ps;return t===e}function Ai(t){return t===t&&!La(t)}function Ei(t,n){var e=t[1],r=n[1],i=e|r,o=(V|Q|ot)>i,a=r==ot&&e==nt||r==ot&&e==at&&t[7].length<=n[8]||r==(ot|at)&&n[7].length<=n[8]&&e==nt;if(!o&&!a)return t;r&V&&(t[2]=n[2],i|=e&V?0:tt);var u=n[3];if(u){var s=t[3];t[3]=s?Rr(s,u,n[4]):Lr(u),t[4]=s?F(t[3],At):Lr(n[4])}return u=n[5],u&&(s=t[5],t[5]=s?Wr(s,u,n[6]):Lr(u),t[6]=s?F(t[5],At):Lr(n[6])),u=n[7],u&&(t[7]=Lr(u)),r&ot&&(t[8]=null==t[8]?n[8]:gc(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=i,t}function Ni(t,n,e,r,i,o){return La(t)&&La(n)&&(o.set(n,t),ir(t,n,Z,Ni,o)),t}function ji(t,n){return 1==n.length?t:bu(t,yr(n,0,-1))}function Ci(t,n){for(var e=t.length,r=gc(n.length,e),i=Lr(t);r--;){var o=n[r];t[r]=H(o,e)?i[o]:Z}return t}function Di(t){var n=[];return lu(t).replace(pn,function(t,e,r,i){n.push(r?i.replace(dn,"$1"):e||t)}),n}function ki(t){if(t instanceof An)return t.clone();var n=new D(t.__wrapped__,t.__chain__);return n.__actions__=Lr(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}function Bi(t,n){n=vc(uu(n),0);var e=t?t.length:0;if(!e||1>n)return[];for(var r=0,i=-1,o=Array(cc(e/n));e>r;)o[++i]=yr(t,r,r+=n);return o}function Ui(t){for(var n=-1,e=t?t.length:0,r=-1,i=[];++n<e;){var o=t[n];o&&(i[++r]=o)}return i}function Ri(t,n,e){var r=t?t.length:0;return r?(n=e||n===Z?1:uu(n),yr(t,0>n?0:n,r)):[]}function Wi(t,n,e){var r=t?t.length:0;return r?(n=e||n===Z?1:uu(n),n=r-n,yr(t,0,0>n?0:n)):[]}function Li(t,n){return t&&t.length?Or(t,hi(n,3),!0,!0):[]}function Mi(t,n){return t&&t.length?Or(t,hi(n,3),!0):[]}function Gi(t,n,e,r){var i=t?t.length:0;return i?(e&&"number"!=typeof e&&bi(t,n,e)&&(e=0,r=i),ke(t,n,e,r)):[]}function Hi(t,n){return t&&t.length?x(t,hi(n,3)):-1}function Pi(t,n){return t&&t.length?x(t,hi(n,3),!0):-1}function Ki(t){var n=t?t.length:0;return n?We(t,1):[]}function Fi(t){var n=t?t.length:0;return n?We(t,wt):[]}function $i(t,n){var e=t?t.length:0;return e?(n=n===Z?1:uu(n),We(t,n)):[]}function zi(t){for(var n=-1,e=t?t.length:0,r={};++n<e;){var i=t[n];r[i[0]]=i[1]}return r}function qi(t){return t?t[0]:Z}function Yi(t,n,e){var r=t?t.length:0;return r?(e=uu(e),0>e&&(e=vc(r+e,0)),b(t,n,e)):-1}function Xi(t){return Wi(t,1)}function Zi(t,n){return t?lc.call(t,n):""}function Ji(t){var n=t?t.length:0;return n?t[n-1]:Z}function Vi(t,n,e){var r=t?t.length:0;if(!r)return-1;var i=r;if(e!==Z&&(i=uu(e),i=(0>i?vc(r+i,0):gc(i,r-1))+1),n!==n)return M(t,i,!0);for(;i--;)if(t[i]===n)return i;return-1}function Qi(t,n){return t&&t.length&&n&&n.length?hr(t,n):t}function to(t,n,e){return t&&t.length&&n&&n.length?lr(t,n,hi(e)):t}function no(t,n){var e=[];if(!t||!t.length)return e;var r=-1,i=[],o=t.length;for(n=hi(n,3);++r<o;){var a=t[r];n(a,r,t)&&(e.push(a),i.push(r))}return pr(t,i),e}function eo(t){return t?mc.call(t):t}function ro(t,n,e){var r=t?t.length:0;return r?(e&&"number"!=typeof e&&bi(t,n,e)?(n=0,e=r):(n=null==n?0:uu(n),e=e===Z?r:uu(e)),yr(t,n,e)):[]}function io(t,n){return dr(t,n)}function oo(t,n,e){return wr(t,n,hi(e))}function ao(t,n){var e=t?t.length:0;if(e){var r=dr(t,n);if(e>r&&wa(t[r],n))return r}return-1}function uo(t,n){return dr(t,n,!0)}function so(t,n,e){return wr(t,n,hi(e),!0)}function co(t,n){var e=t?t.length:0;if(e){var r=dr(t,n,!0)-1;if(wa(t[r],n))return r}return-1}function fo(t){return t&&t.length?xr(t):[]}function ho(t,n){return t&&t.length?br(t,hi(n)):[]}function lo(t){return Ri(t,1)}function po(t,n,e){return t&&t.length?(n=e||n===Z?1:uu(n),yr(t,0,0>n?0:n)):[]}function vo(t,n,e){var r=t?t.length:0;return r?(n=e||n===Z?1:uu(n),n=r-n,yr(t,0>n?0:n,r)):[]}function go(t,n){return t&&t.length?Or(t,hi(n,3),!1,!0):[]}function _o(t,n){return t&&t.length?Or(t,hi(n,3)):[]}function yo(t){return t&&t.length?Ir(t):[]}function mo(t,n){return t&&t.length?Ir(t,hi(n)):[]}function wo(t,n){return t&&t.length?Ir(t,Z,n):[]}function xo(t){if(!t||!t.length)return[];var n=0;return t=h(t,function(t){return Sa(t)?(n=vc(t.length,n),!0):void 0}),S(n,function(n){return v(t,cr(n))})}function bo(t,n){if(!t||!t.length)return[];var e=xo(t);return null==n?e:v(e,function(t){return o(n,Z,t)})}function Io(t,n){return Er(t||[],n||[],ue)}function To(t,n){return Er(t||[],n||[],_r)}function Oo(t){var e=n(t);return e.__chain__=!0,e}function So(t,n){return n(t),t}function Ao(t,n){return n(t)}function Eo(){return Oo(this)}function No(){return new D(this.value(),this.__chain__)}function jo(t){return this.map(t).flatten()}function Co(){this.__values__===Z&&(this.__values__=au(this.value()));var t=this.__index__>=this.__values__.length,n=t?Z:this.__values__[this.__index__++];return{done:t,value:n}}function Do(){return this}function ko(t){for(var n,r=this;r instanceof e;){var i=ki(r);i.__index__=0,i.__values__=Z,n?o.__wrapped__=i:n=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,n}function Bo(){var t=this.__wrapped__;if(t instanceof An){var n=t;return this.__actions__.length&&(n=new An(this)),n=n.reverse(),n.__actions__.push({func:Ao,args:[eo],thisArg:Z}),new D(n,this.__chain__)}return this.thru(eo)}function Uo(){return Sr(this.__wrapped__,this.__actions__)}function Ro(t,n,e){var r=bf(t)?f:De;return e&&bi(t,n,e)&&(n=Z),r(t,hi(n,3))}function Wo(t,n){var e=bf(t)?h:Be;return e(t,hi(n,3))}function Lo(t,n){if(n=hi(n,3),bf(t)){var e=x(t,n);return e>-1?t[e]:Z}return w(t,n,Cc)}function Mo(t,n){if(n=hi(n,3),bf(t)){var e=x(t,n,!0);return e>-1?t[e]:Z}return w(t,n,Dc)}function Go(t,n){return We(Fo(t,n),1)}function Ho(t,n){return"function"==typeof n&&bf(t)?s(t,n):Cc(t,xe(n))}function Po(t,n){return"function"==typeof n&&bf(t)?c(t,n):Dc(t,xe(n))}function Ko(t,n,e,r){t=Oa(t)?t:Lu(t),e=e&&!r?uu(e):0;var i=t.length;return 0>e&&(e=vc(i+e,0)),Va(t)?i>=e&&t.indexOf(n,e)>-1:!!i&&b(t,n,e)>-1}function Fo(t,n){var e=bf(t)?v:nr;return e(t,hi(n,3))}function $o(t,n,e,r){return null==t?[]:(bf(n)||(n=null==n?[]:[n]),e=r?Z:e,bf(e)||(e=null==e?[]:[e]),ar(t,n,e))}function zo(t,n,e){var r=bf(t)?_:I,i=arguments.length<3;return r(t,hi(n,4),e,i,Cc)}function qo(t,n,e){var r=bf(t)?y:I,i=arguments.length<3;return r(t,hi(n,4),e,i,Dc)}function Yo(t,n){var e=bf(t)?h:Be;return n=hi(n,3),e(t,function(t,e,r){return!n(t,e,r)})}function Xo(t){var n=Oa(t)?t:Lu(t),e=n.length;return e>0?n[vr(0,e-1)]:Z}function Zo(t,n){var e=-1,r=au(t),i=r.length,o=i-1;for(n=Ie(uu(n),0,i);++e<n;){var a=vr(e,o),u=r[a];r[a]=r[e],r[e]=u}return r.length=n,r}function Jo(t){return Zo(t,Tt)}function Vo(t){if(null==t)return 0;if(Oa(t)){var n=t.length;return n&&Va(t)?z(t):n}return Ou(t).length}function Qo(t,n,e){var r=bf(t)?m:mr;return e&&bi(t,n,e)&&(n=Z),r(t,hi(n,3))}function ta(t,n){if("function"!=typeof n)throw new Gs(mt);return t=uu(t),function(){return--t<1?n.apply(this,arguments):void 0}}function na(t,n,e){return n=e?Z:n,n=t&&null==n?t.length:n,ai(t,ot,Z,Z,Z,Z,n)}function ea(t,n){var e;if("function"!=typeof n)throw new Gs(mt);return t=uu(t),function(){return--t>0&&(e=n.apply(this,arguments)),1>=t&&(n=Z),e}}function ra(t,n,e){n=e?Z:n;var r=ai(t,nt,Z,Z,Z,Z,Z,n);return r.placeholder=ra.placeholder,r}function ia(t,n,e){n=e?Z:n;var r=ai(t,et,Z,Z,Z,Z,Z,n);return r.placeholder=ia.placeholder,r}function oa(t,n,e){function r(){v&&tc(v),f&&tc(f),_=0,c=f=p=v=g=Z}function i(n,e){e&&tc(e),f=v=g=Z,n&&(_=pf(),h=t.apply(p,c),v||f||(c=p=Z))}function o(){var t=n-(pf()-l);0>=t||t>n?i(g,f):v=uc(o,t)}function a(){return(v&&g||f&&d)&&(h=t.apply(p,c)),r(),h}function u(){i(d,v)}function s(){if(c=arguments,l=pf(),p=this,g=d&&(v||!y),m===!1)var e=y&&!v;else{_||f||y||(_=l);var r=m-(l-_),i=(0>=r||r>m)&&(y||f);i?(f&&(f=tc(f)),_=l,h=t.apply(p,c)):f||(f=uc(u,r))}return i&&v?v=tc(v):v||n===m||(v=uc(o,n)),
e&&(i=!0,h=t.apply(p,c)),!i||v||f||(c=p=Z),h}var c,f,h,l,p,v,g,_=0,y=!1,m=!1,d=!0;if("function"!=typeof t)throw new Gs(mt);return n=cu(n)||0,La(e)&&(y=!!e.leading,m="maxWait"in e&&vc(cu(e.maxWait)||0,n),d="trailing"in e?!!e.trailing:d),s.cancel=r,s.flush=a,s}function aa(t){return ai(t,ut)}function ua(t,n){if("function"!=typeof t||n&&"function"!=typeof n)throw new Gs(mt);var e=function(){var r=arguments,i=n?n.apply(this,r):r[0],o=e.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return e.cache=o.set(i,a),a};return e.cache=new ua.Cache,e}function sa(t){if("function"!=typeof t)throw new Gs(mt);return function(){return!t.apply(this,arguments)}}function ca(t){return ea(2,t)}function fa(t,n){if("function"!=typeof t)throw new Gs(mt);return n=vc(n===Z?t.length-1:uu(n),0),function(){for(var e=arguments,r=-1,i=vc(e.length-n,0),a=Array(i);++r<i;)a[r]=e[n+r];switch(n){case 0:return t.call(this,a);case 1:return t.call(this,e[0],a);case 2:return t.call(this,e[0],e[1],a)}var u=Array(n+1);for(r=-1;++r<n;)u[r]=e[r];return u[n]=a,o(t,this,u)}}function ha(t,n){if("function"!=typeof t)throw new Gs(mt);return n=n===Z?0:vc(uu(n),0),fa(function(e){var r=e[n],i=e.slice(0,n);return r&&g(i,r),o(t,this,i)})}function la(t,n,e){var r=!0,i=!0;if("function"!=typeof t)throw new Gs(mt);return La(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),oa(t,n,{leading:r,maxWait:n,trailing:i})}function pa(t){return na(t,1)}function va(t,n){return n=null==n?vs:n,df(n,t)}function ga(){if(!arguments.length)return[];var t=arguments[0];return bf(t)?t:[t]}function _a(t){return Te(t)}function ya(t,n){return Te(t,!1,n)}function ma(t){return Te(t,!0)}function da(t,n){return Te(t,!0,n)}function wa(t,n){return t===n||t!==t&&n!==n}function xa(t,n){return t>n}function ba(t,n){return t>=n}function Ia(t){return Sa(t)&&Fs.call(t,"callee")&&(!ac.call(t,"callee")||qs.call(t)==Et)}function Ta(t){return Ma(t)&&qs.call(t)==Ft}function Oa(t){return null!=t&&!("function"==typeof t&&Ua(t))&&Wa(Lc(t))}function Sa(t){return Ma(t)&&Oa(t)}function Aa(t){return t===!0||t===!1||Ma(t)&&qs.call(t)==jt}function Ea(t){return Ma(t)&&qs.call(t)==Ct}function Na(t){return!!t&&1===t.nodeType&&Ma(t)&&!Ya(t)}function ja(t){if(Oa(t)&&(bf(t)||Va(t)||Ua(t.splice)||Ia(t)))return!t.length;for(var n in t)if(Fs.call(t,n))return!1;return!0}function Ca(t,n){return Xe(t,n)}function Da(t,n,e){e="function"==typeof e?e:Z;var r=e?e(t,n):Z;return r===Z?Xe(t,n,e):!!r}function ka(t){return Ma(t)?qs.call(t)==Dt||"string"==typeof t.message&&"string"==typeof t.name:!1}function Ba(t){return"number"==typeof t&&hc(t)}function Ua(t){var n=La(t)?qs.call(t):"";return n==kt||n==Bt}function Ra(t){return"number"==typeof t&&t==uu(t)}function Wa(t){return"number"==typeof t&&t>-1&&t%1==0&&xt>=t}function La(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function Ma(t){return!!t&&"object"==typeof t}function Ga(t){return Ma(t)&&gi(t)==Ut}function Ha(t,n){return t===n||Je(t,n,li(n))}function Pa(t,n,e){return e="function"==typeof e?e:Z,Je(t,n,li(n),e)}function Ka(t){return qa(t)&&t!=+t}function Fa(t){return null==t?!1:Ua(t)?Xs.test(Ks.call(t)):Ma(t)&&(G(t)?Xs:On).test(t)}function $a(t){return null===t}function za(t){return null==t}function qa(t){return"number"==typeof t||Ma(t)&&qs.call(t)==Rt}function Ya(t){if(!Ma(t)||qs.call(t)!=Wt||G(t))return!1;var n=ec(t);if(null===n)return!0;var e=n.constructor;return"function"==typeof e&&e instanceof e&&Ks.call(e)==zs}function Xa(t){return La(t)&&qs.call(t)==Lt}function Za(t){return Ra(t)&&t>=-xt&&xt>=t}function Ja(t){return Ma(t)&&gi(t)==Mt}function Va(t){return"string"==typeof t||!bf(t)&&Ma(t)&&qs.call(t)==Gt}function Qa(t){return"symbol"==typeof t||Ma(t)&&qs.call(t)==Ht}function tu(t){return Ma(t)&&Wa(t.length)&&!!de[qs.call(t)]}function nu(t){return t===Z}function eu(t){return Ma(t)&&gi(t)==Pt}function ru(t){return Ma(t)&&qs.call(t)==Kt}function iu(t,n){return n>t}function ou(t,n){return n>=t}function au(t){if(!t)return[];if(Oa(t))return Va(t)?q(t):Lr(t);if(ic&&t[ic])return P(t[ic]());var n=gi(t),e=n==Ut?K:n==Mt?$:Lu;return e(t)}function uu(t){if(!t)return 0===t?t:0;if(t=cu(t),t===wt||t===-wt){var n=0>t?-1:1;return n*bt}var e=t%1;return t===t?e?t-e:t:0}function su(t){return t?Ie(uu(t),0,Tt):0}function cu(t){if(La(t)){var n=Ua(t.valueOf)?t.valueOf():t;t=La(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(_n,"");var e=Tn.test(t);return e||Sn.test(t)?Ae(t.slice(2),e?2:8):In.test(t)?It:+t}function fu(t){return Mr(t,Su(t))}function hu(t){return Ie(uu(t),-xt,xt)}function lu(t){if("string"==typeof t)return t;if(null==t)return"";if(Qa(t))return Vs?Nc.call(t):"";var n=t+"";return"0"==n&&1/t==-wt?"-0":n}function pu(t,n){var e=Ee(t);return n?ce(e,n):e}function vu(t,n){return w(t,hi(n,3),Me,!0)}function gu(t,n){return w(t,hi(n,3),Ge,!0)}function _u(t,n){return null==t?t:kc(t,xe(n),Su)}function yu(t,n){return null==t?t:Bc(t,xe(n),Su)}function mu(t,n){return t&&Me(t,xe(n))}function du(t,n){return t&&Ge(t,xe(n))}function wu(t){return null==t?[]:He(t,Ou(t))}function xu(t){return null==t?[]:He(t,Su(t))}function bu(t,n,e){var r=null==t?Z:Pe(t,n);return r===Z?e:r}function Iu(t,n){return yi(t,n,Ke)}function Tu(t,n){return yi(t,n,Fe)}function Ou(t){var n=Si(t);if(!n&&!Oa(t))return Qe(t);var e=xi(t),r=!!e,i=e||[],o=i.length;for(var a in t)!Ke(t,a)||r&&("length"==a||H(a,o))||n&&"constructor"==a||i.push(a);return i}function Su(t){for(var n=-1,e=Si(t),r=tr(t),i=r.length,o=xi(t),a=!!o,u=o||[],s=u.length;++n<i;){var c=r[n];a&&("length"==c||H(c,s))||"constructor"==c&&(e||!Fs.call(t,c))||u.push(c)}return u}function Au(t,n){var e={};return n=hi(n,3),Me(t,function(t,r,i){e[n(t,r,i)]=t}),e}function Eu(t,n){var e={};return n=hi(n,3),Me(t,function(t,r,i){e[r]=n(t,r,i)}),e}function Nu(t,n){return n=hi(n),sr(t,function(t,e){return!n(t,e)})}function ju(t,n){return null==t?{}:sr(t,hi(n))}function Cu(t,n,e){if(Ii(n,t))r=null==t?Z:t[n];else{n=be(n);var r=bu(t,n);t=ji(t,n)}return r===Z&&(r=e),Ua(r)?r.call(t):r}function Du(t,n,e){return null==t?t:_r(t,n,e)}function ku(t,n,e,r){return r="function"==typeof r?r:Z,null==t?t:_r(t,n,e,r)}function Bu(t){return A(t,Ou(t))}function Uu(t){return A(t,Su(t))}function Ru(t,n,e){var r=bf(t)||tu(t);if(n=hi(n,4),null==e)if(r||La(t)){var i=t.constructor;e=r?bf(t)?new i:[]:Ua(i)?Ee(ec(t)):{}}else e={};return(r?s:Me)(t,function(t,r,i){return n(e,t,r,i)}),e}function Wu(t,n){return null==t?!0:Tr(t,n)}function Lu(t){return t?N(t,Ou(t)):[]}function Mu(t){return null==t?[]:N(t,Su(t))}function Gu(t,n,e){return e===Z&&(e=n,n=Z),e!==Z&&(e=cu(e),e=e===e?e:0),n!==Z&&(n=cu(n),n=n===n?n:0),Ie(cu(t),n,e)}function Hu(t,n,e){return n=cu(n)||0,e===Z?(e=n,n=0):e=cu(e)||0,t=cu(t),$e(t,n,e)}function Pu(t,n,e){if(e&&"boolean"!=typeof e&&bi(t,n,e)&&(n=e=Z),e===Z&&("boolean"==typeof n?(e=n,n=Z):"boolean"==typeof t&&(e=t,t=Z)),t===Z&&n===Z?(t=0,n=1):(t=cu(t)||0,n===Z?(n=t,t=0):n=cu(n)||0),t>n){var r=t;t=n,n=r}if(e||t%1||n%1){var i=yc();return gc(t+i*(n-t+Se("1e-"+((i+"").length-1))),n)}return vr(t,n)}function Ku(t){return Pf(lu(t).toLowerCase())}function Fu(t){return t=lu(t),t&&t.replace(En,R).replace(he,"")}function $u(t,n,e){t=lu(t),n="string"==typeof n?n:n+"";var r=t.length;return e=e===Z?r:Ie(uu(e),0,r),e-=n.length,e>=0&&t.indexOf(n,e)==e}function zu(t){return t=lu(t),t&&un.test(t)?t.replace(on,W):t}function qu(t){return t=lu(t),t&&gn.test(t)?t.replace(vn,"\\$&"):t}function Yu(t,n,e){t=lu(t),n=uu(n);var r=z(t);if(!n||r>=n)return t;var i=(n-r)/2,o=fc(i),a=cc(i);return ni("",o,e)+t+ni("",a,e)}function Xu(t,n,e){return t=lu(t),t+ni(t,n,e)}function Zu(t,n,e){return t=lu(t),ni(t,n,e)+t}function Ju(t,n,e){return e||null==n?n=0:n&&(n=+n),t=lu(t).replace(_n,""),_c(t,n||(bn.test(t)?16:10))}function Vu(t,n){t=lu(t),n=uu(n);var e="";if(!t||1>n||n>xt)return e;do n%2&&(e+=t),n=fc(n/2),t+=t;while(n);return e}function Qu(){var t=arguments,n=lu(t[0]);return t.length<3?n:n.replace(t[1],t[2])}function ts(t,n,e){return lu(t).split(n,e)}function ns(t,n,e){return t=lu(t),e=Ie(uu(e),0,t.length),t.lastIndexOf(n,e)==e}function es(t,e,r){var i=n.templateSettings;r&&bi(t,e,r)&&(e=Z),t=lu(t),e=Sf({},e,i,oe);var o,a,u=Sf({},e.imports,i.imports,oe),s=Ou(u),c=N(u,s),f=0,h=e.interpolate||Nn,l="__p += '",p=Ms((e.escape||Nn).source+"|"+h.source+"|"+(h===fn?wn:Nn).source+"|"+(e.evaluate||Nn).source+"|$","g"),v="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++me+"]")+"\n";t.replace(p,function(n,e,r,i,u,s){return r||(r=i),l+=t.slice(f,s).replace(jn,L),e&&(o=!0,l+="' +\n__e("+e+") +\n'"),u&&(a=!0,l+="';\n"+u+";\n__p += '"),r&&(l+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=s+n.length,n}),l+="';\n";var g=e.variable;g||(l="with (obj) {\n"+l+"\n}\n"),l=(a?l.replace(tn,""):l).replace(nn,"$1").replace(en,"$1;"),l="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var _=zf(function(){return Function(s,v+"return "+l).apply(Z,c)});if(_.source=l,ka(_))throw _;return _}function rs(t){return lu(t).toLowerCase()}function is(t){return lu(t).toUpperCase()}function os(t,n,e){if(t=lu(t),!t)return t;if(e||n===Z)return t.replace(_n,"");if(n+="",!n)return t;var r=q(t),i=q(n);return r.slice(j(r,i),C(r,i)+1).join("")}function as(t,n,e){if(t=lu(t),!t)return t;if(e||n===Z)return t.replace(mn,"");if(n+="",!n)return t;var r=q(t);return r.slice(0,C(r,q(n))+1).join("")}function us(t,n,e){if(t=lu(t),!t)return t;if(e||n===Z)return t.replace(yn,"");if(n+="",!n)return t;var r=q(t);return r.slice(j(r,q(n))).join("")}function ss(t,n){var e=ft,r=ht;if(La(n)){var i="separator"in n?n.separator:i;e="length"in n?uu(n.length):e,r="omission"in n?lu(n.omission):r}t=lu(t);var o=t.length;if(pe.test(t)){var a=q(t);o=a.length}if(e>=o)return t;var u=e-z(r);if(1>u)return r;var s=a?a.slice(0,u).join(""):t.slice(0,u);if(i===Z)return s+r;if(a&&(u+=s.length-u),Xa(i)){if(t.slice(u).search(i)){var c,f=s;for(i.global||(i=Ms(i.source,lu(xn.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var h=c.index;s=s.slice(0,h===Z?u:h)}}else if(t.indexOf(i,u)!=u){var l=s.lastIndexOf(i);l>-1&&(s=s.slice(0,l))}return s+r}function cs(t){return t=lu(t),t&&an.test(t)?t.replace(rn,Y):t}function fs(t,n,e){return t=lu(t),n=e?Z:n,n===Z&&(n=_e.test(t)?ge:ve),t.match(n)||[]}function hs(t){var n=t?t.length:0,e=hi();return t=n?v(t,function(t){if("function"!=typeof t[1])throw new Gs(mt);return[e(t[0]),t[1]]}):[],fa(function(e){for(var r=-1;++r<n;){var i=t[r];if(o(i[0],this,e))return o(i[1],this,e)}})}function ls(t){return Oe(Te(t,!0))}function ps(t){return function(){return t}}function vs(t){return t}function gs(t){return Ve("function"==typeof t?t:Te(t,!0))}function _s(t){return er(Te(t,!0))}function ys(t,n){return rr(t,Te(n,!0))}function ms(t,n,e){var r=Ou(n),i=He(n,r);null!=e||La(n)&&(i.length||!r.length)||(e=n,n=t,t=this,i=He(n,Ou(n)));var o=La(e)&&"chain"in e?e.chain:!0,a=Ua(t);return s(i,function(e){var r=n[e];t[e]=r,a&&(t.prototype[e]=function(){var n=this.__chain__;if(o||n){var e=t(this.__wrapped__),i=e.__actions__=Lr(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),e.__chain__=n,e}return r.apply(t,g([this.value()],arguments))})}),t}function ds(){return Ue._===this&&(Ue._=Ys),this}function ws(){}function xs(t){return t=uu(t),function(){return arguments[t]}}function bs(t){return Ii(t)?cr(t):fr(t)}function Is(t){return function(n){return null==t?Z:Pe(t,n)}}function Ts(t,n){if(t=uu(t),1>t||t>xt)return[];var e=Tt,r=gc(t,Tt);n=xe(n),t-=Tt;for(var i=S(r,n);++e<t;)n(e);return i}function Os(t){return bf(t)?v(t,String):Di(t)}function Ss(t){var n=++$s;return lu(t)+n}function As(t,n){var e;return t===Z&&n===Z?0:(t!==Z&&(e=t),n!==Z&&(e=e===Z?n:e+n),e)}function Es(t){return t&&t.length?d(t,vs,xa):Z}function Ns(t,n){return t&&t.length?d(t,hi(n),xa):Z}function js(t){return Bs(t)/(t?t.length:0)}function Cs(t){return t&&t.length?d(t,vs,iu):Z}function Ds(t,n){return t&&t.length?d(t,hi(n),iu):Z}function ks(t,n){var e;return t===Z&&n===Z?0:(t!==Z&&(e=t),n!==Z&&(e=e===Z?n:e-n),e)}function Bs(t){return t&&t.length?O(t,vs):0}function Us(t,n){return t&&t.length?O(t,hi(n)):0}t=t?Re.defaults({},t,Re.pick(Ue,ye)):Ue;var Rs=t.Date,Ws=t.Error,Ls=t.Math,Ms=t.RegExp,Gs=t.TypeError,Hs=t.Array.prototype,Ps=t.Object.prototype,Ks=t.Function.prototype.toString,Fs=Ps.hasOwnProperty,$s=0,zs=Ks.call(Object),qs=Ps.toString,Ys=Ue._,Xs=Ms("^"+Ks.call(Fs).replace(vn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zs=je?t.Buffer:Z,Js=t.Reflect,Vs=t.Symbol,Qs=t.Uint8Array,tc=t.clearTimeout,nc=Js?Js.enumerate:Z,ec=Object.getPrototypeOf,rc=Object.getOwnPropertySymbols,ic="symbol"==typeof(ic=Vs&&Vs.iterator)?ic:Z,oc=Object.create,ac=Ps.propertyIsEnumerable,uc=t.setTimeout,sc=Hs.splice,cc=Ls.ceil,fc=Ls.floor,hc=t.isFinite,lc=Hs.join,pc=Object.keys,vc=Ls.max,gc=Ls.min,_c=t.parseInt,yc=Ls.random,mc=Hs.reverse,dc=pi(t,"Map"),wc=pi(t,"Set"),xc=pi(t,"WeakMap"),bc=pi(Object,"create"),Ic=xc&&new xc,Tc=dc?Ks.call(dc):"",Oc=wc?Ks.call(wc):"",Sc=xc?Ks.call(xc):"",Ac=Vs?Vs.prototype:Z,Ec=Vs?Ac.valueOf:Z,Nc=Vs?Ac.toString:Z,jc={};n.templateSettings={escape:sn,evaluate:cn,interpolate:fn,variable:"",imports:{_:n}};var Cc=Fr(Me),Dc=Fr(Ge,!0),kc=$r(),Bc=$r(!0);nc&&!ac.call({valueOf:1},"valueOf")&&(tr=function(t){return P(nc(t))});var Uc=Ic?function(t,n){return Ic.set(t,n),t}:vs,Rc=wc&&2===new wc([1,2]).size?function(t){return new wc(t)}:ws,Wc=Ic?function(t){return Ic.get(t)}:ws,Lc=cr("length"),Mc=rc||function(){return[]};(dc&&gi(new dc)!=Ut||wc&&gi(new wc)!=Mt||xc&&gi(new xc)!=Pt)&&(gi=function(t){var n=qs.call(t),e=n==Wt?t.constructor:null,r="function"==typeof e?Ks.call(e):"";if(r)switch(r){case Tc:return Ut;case Oc:return Mt;case Sc:return Pt}return n});var Gc=function(){var t=0,n=0;return function(e,r){var i=pf(),o=pt-(i-n);if(n=i,o>0){if(++t>=lt)return e}else t=0;return Uc(e,r)}}(),Hc=fa(function(t,n){return bf(t)||(t=null==t?[]:[Object(t)]),n=We(n,1),u(t,n)}),Pc=fa(function(t,n){return Sa(t)?Ce(t,We(n,1,!0)):[]}),Kc=fa(function(t,n){var e=Ji(n);return Sa(e)&&(e=Z),Sa(t)?Ce(t,We(n,1,!0),hi(e)):[]}),Fc=fa(function(t,n){var e=Ji(n);return Sa(e)&&(e=Z),Sa(t)?Ce(t,We(n,1,!0),Z,e):[]}),$c=fa(function(t){var n=v(t,le);return n.length&&n[0]===t[0]?ze(n):[]}),zc=fa(function(t){var n=Ji(t),e=v(t,le);return n===Ji(e)?n=Z:e.pop(),e.length&&e[0]===t[0]?ze(e,hi(n)):[]}),qc=fa(function(t){var n=Ji(t),e=v(t,le);return n===Ji(e)?n=Z:e.pop(),e.length&&e[0]===t[0]?ze(e,Z,n):[]}),Yc=fa(Qi),Xc=fa(function(t,n){n=v(We(n,1),String);var e=fe(t,n);return pr(t,n.sort(k)),e}),Zc=fa(function(t){return Ir(We(t,1,!0))}),Jc=fa(function(t){var n=Ji(t);return Sa(n)&&(n=Z),Ir(We(t,1,!0),hi(n))}),Vc=fa(function(t){var n=Ji(t);return Sa(n)&&(n=Z),Ir(We(t,1,!0),Z,n)}),Qc=fa(function(t,n){return Sa(t)?Ce(t,n):[]}),tf=fa(function(t){return Ar(h(t,Sa))}),nf=fa(function(t){var n=Ji(t);return Sa(n)&&(n=Z),Ar(h(t,Sa),hi(n))}),ef=fa(function(t){var n=Ji(t);return Sa(n)&&(n=Z),Ar(h(t,Sa),Z,n)}),rf=fa(xo),of=fa(function(t){var n=t.length,e=n>1?t[n-1]:Z;return e="function"==typeof e?(t.pop(),e):Z,bo(t,e)}),af=fa(function(t){t=We(t,1);var n=t.length,e=n?t[0]:0,r=this.__wrapped__,i=function(n){return fe(n,t)};return!(n>1||this.__actions__.length)&&r instanceof An&&H(e)?(r=r.slice(e,+e+(n?1:0)),r.__actions__.push({func:Ao,args:[i],thisArg:Z}),new D(r,this.__chain__).thru(function(t){return n&&!t.length&&t.push(Z),t})):this.thru(i)}),uf=Pr(function(t,n,e){Fs.call(t,e)?++t[e]:t[e]=1}),sf=Pr(function(t,n,e){Fs.call(t,e)?t[e].push(n):t[e]=[n]}),cf=fa(function(t,n,e){var r=-1,i="function"==typeof n,a=Ii(n),u=Oa(t)?Array(t.length):[];return Cc(t,function(t){var s=i?n:a&&null!=t?t[n]:Z;u[++r]=s?o(s,t,e):Ye(t,n,e)}),u}),ff=Pr(function(t,n,e){t[e]=n}),hf=Pr(function(t,n,e){t[e?0:1].push(n)},function(){return[[],[]]}),lf=fa(function(t,n){if(null==t)return[];var e=n.length;return e>1&&bi(t,n[0],n[1])?n=[]:e>2&&bi(n[0],n[1],n[2])&&(n.length=1),ar(t,We(n,1),[])}),pf=Rs.now,vf=fa(function(t,n,e){var r=V;if(e.length){var i=F(e,vi(vf));r|=rt}return ai(t,r,n,e,i)}),gf=fa(function(t,n,e){var r=V|Q;if(e.length){var i=F(e,vi(gf));r|=rt}return ai(n,r,t,e,i)}),_f=fa(function(t,n){return Ne(t,1,n)}),yf=fa(function(t,n,e){return Ne(t,cu(n)||0,e)}),mf=fa(function(t,n){n=v(We(n,1),hi());var e=n.length;return fa(function(r){for(var i=-1,a=gc(r.length,e);++i<a;)r[i]=n[i].call(this,r[i]);return o(t,this,r)})}),df=fa(function(t,n){var e=F(n,vi(df));return ai(t,rt,Z,n,e)}),wf=fa(function(t,n){var e=F(n,vi(wf));return ai(t,it,Z,n,e)}),xf=fa(function(t,n){return ai(t,at,Z,Z,Z,We(n,1))}),bf=Array.isArray,If=Zs?function(t){return t instanceof Zs}:ps(!1),Tf=Kr(function(t,n){Mr(n,Ou(n),t)}),Of=Kr(function(t,n){Mr(n,Su(n),t)}),Sf=Kr(function(t,n,e,r){Gr(n,Su(n),t,r)}),Af=Kr(function(t,n,e,r){Gr(n,Ou(n),t,r)}),Ef=fa(function(t,n){return fe(t,We(n,1))}),Nf=fa(function(t){return t.push(Z,oe),o(Sf,Z,t)}),jf=fa(function(t){return t.push(Z,Ni),o(Uf,Z,t)}),Cf=Qr(function(t,n,e){t[n]=e},ps(vs)),Df=Qr(function(t,n,e){Fs.call(t,n)?t[n].push(e):t[n]=[e]},hi),kf=fa(Ye),Bf=Kr(function(t,n,e){ir(t,n,e)}),Uf=Kr(function(t,n,e,r){ir(t,n,e,r)}),Rf=fa(function(t,n){return null==t?{}:(n=v(We(n,1),String),ur(t,Ce(Su(t),n)))}),Wf=fa(function(t,n){return null==t?{}:ur(t,We(n,1))}),Lf=Yr(function(t,n,e){return n=n.toLowerCase(),t+(e?Ku(n):n)}),Mf=Yr(function(t,n,e){return t+(e?"-":"")+n.toLowerCase()}),Gf=Yr(function(t,n,e){return t+(e?" ":"")+n.toLowerCase()}),Hf=qr("toLowerCase"),Pf=qr("toUpperCase"),Kf=Yr(function(t,n,e){return t+(e?"_":"")+n.toLowerCase()}),Ff=Yr(function(t,n,e){return t+(e?" ":"")+Ku(n)}),$f=Yr(function(t,n,e){return t+(e?" ":"")+n.toUpperCase()}),zf=fa(function(t,n){try{return o(t,Z,n)}catch(e){return ka(e)?e:new Ws(e)}}),qf=fa(function(t,n){return s(We(n,1),function(n){t[n]=vf(t[n],t)}),t}),Yf=Jr(),Xf=Jr(!0),Zf=fa(function(t,n){return function(e){return Ye(e,t,n)}}),Jf=fa(function(t,n){return function(e){return Ye(t,e,n)}}),Vf=ti(v),Qf=ti(f),th=ti(m),nh=ri(),eh=ri(!0),rh=oi("ceil"),ih=oi("floor"),oh=oi("round");return n.prototype=e.prototype,D.prototype=Ee(e.prototype),D.prototype.constructor=D,An.prototype=Ee(e.prototype),An.prototype.constructor=An,Bn.prototype=bc?bc(null):Ps,Mn.prototype.clear=Gn,Mn.prototype["delete"]=Hn,Mn.prototype.get=Pn,Mn.prototype.has=Kn,Mn.prototype.set=Fn,$n.prototype.push=qn,Yn.prototype.clear=Xn,Yn.prototype["delete"]=Zn,Yn.prototype.get=Jn,Yn.prototype.has=Vn,Yn.prototype.set=Qn,ua.Cache=Mn,n.after=ta,n.ary=na,n.assign=Tf,n.assignIn=Of,n.assignInWith=Sf,n.assignWith=Af,n.at=Ef,n.before=ea,n.bind=vf,n.bindAll=qf,n.bindKey=gf,n.castArray=ga,n.chain=Oo,n.chunk=Bi,n.compact=Ui,n.concat=Hc,n.cond=hs,n.conforms=ls,n.constant=ps,n.countBy=uf,n.create=pu,n.curry=ra,n.curryRight=ia,n.debounce=oa,n.defaults=Nf,n.defaultsDeep=jf,n.defer=_f,n.delay=yf,n.difference=Pc,n.differenceBy=Kc,n.differenceWith=Fc,n.drop=Ri,n.dropRight=Wi,n.dropRightWhile=Li,n.dropWhile=Mi,n.fill=Gi,n.filter=Wo,n.flatMap=Go,n.flatten=Ki,n.flattenDeep=Fi,n.flattenDepth=$i,n.flip=aa,n.flow=Yf,n.flowRight=Xf,n.fromPairs=zi,n.functions=wu,n.functionsIn=xu,n.groupBy=sf,n.initial=Xi,n.intersection=$c,n.intersectionBy=zc,n.intersectionWith=qc,n.invert=Cf,n.invertBy=Df,n.invokeMap=cf,n.iteratee=gs,n.keyBy=ff,n.keys=Ou,n.keysIn=Su,n.map=Fo,n.mapKeys=Au,n.mapValues=Eu,n.matches=_s,n.matchesProperty=ys,n.memoize=ua,n.merge=Bf,n.mergeWith=Uf,n.method=Zf,n.methodOf=Jf,n.mixin=ms,n.negate=sa,n.nthArg=xs,n.omit=Rf,n.omitBy=Nu,n.once=ca,n.orderBy=$o,n.over=Vf,n.overArgs=mf,n.overEvery=Qf,n.overSome=th,n.partial=df,n.partialRight=wf,n.partition=hf,n.pick=Wf,n.pickBy=ju,n.property=bs,n.propertyOf=Is,n.pull=Yc,n.pullAll=Qi,n.pullAllBy=to,n.pullAt=Xc,n.range=nh,n.rangeRight=eh,n.rearg=xf,n.reject=Yo,n.remove=no,n.rest=fa,n.reverse=eo,n.sampleSize=Zo,n.set=Du,n.setWith=ku,n.shuffle=Jo,n.slice=ro,n.sortBy=lf,n.sortedUniq=fo,n.sortedUniqBy=ho,n.split=ts,n.spread=ha,n.tail=lo,n.take=po,n.takeRight=vo,n.takeRightWhile=go,n.takeWhile=_o,n.tap=So,n.throttle=la,n.thru=Ao,n.toArray=au,n.toPairs=Bu,n.toPairsIn=Uu,n.toPath=Os,n.toPlainObject=fu,n.transform=Ru,n.unary=pa,n.union=Zc,n.unionBy=Jc,n.unionWith=Vc,n.uniq=yo,n.uniqBy=mo,n.uniqWith=wo,n.unset=Wu,n.unzip=xo,n.unzipWith=bo,n.values=Lu,n.valuesIn=Mu,n.without=Qc,n.words=fs,n.wrap=va,n.xor=tf,n.xorBy=nf,n.xorWith=ef,n.zip=rf,n.zipObject=Io,n.zipObjectDeep=To,n.zipWith=of,n.extend=Of,n.extendWith=Sf,ms(n,n),n.add=As,n.attempt=zf,n.camelCase=Lf,n.capitalize=Ku,n.ceil=rh,n.clamp=Gu,n.clone=_a,n.cloneDeep=ma,n.cloneDeepWith=da,n.cloneWith=ya,n.deburr=Fu,n.endsWith=$u,n.eq=wa,n.escape=zu,n.escapeRegExp=qu,n.every=Ro,n.find=Lo,n.findIndex=Hi,n.findKey=vu,n.findLast=Mo,n.findLastIndex=Pi,n.findLastKey=gu,n.floor=ih,n.forEach=Ho,n.forEachRight=Po,n.forIn=_u,n.forInRight=yu,n.forOwn=mu,n.forOwnRight=du,n.get=bu,n.gt=xa,n.gte=ba,n.has=Iu,n.hasIn=Tu,n.head=qi,n.identity=vs,n.includes=Ko,n.indexOf=Yi,n.inRange=Hu,n.invoke=kf,n.isArguments=Ia,n.isArray=bf,n.isArrayBuffer=Ta,n.isArrayLike=Oa,n.isArrayLikeObject=Sa,n.isBoolean=Aa,n.isBuffer=If,n.isDate=Ea,n.isElement=Na,n.isEmpty=ja,n.isEqual=Ca,n.isEqualWith=Da,n.isError=ka,n.isFinite=Ba,n.isFunction=Ua,n.isInteger=Ra,n.isLength=Wa,n.isMap=Ga,n.isMatch=Ha,n.isMatchWith=Pa,n.isNaN=Ka,n.isNative=Fa,n.isNil=za,n.isNull=$a,n.isNumber=qa,n.isObject=La,n.isObjectLike=Ma,n.isPlainObject=Ya,n.isRegExp=Xa,n.isSafeInteger=Za,n.isSet=Ja,n.isString=Va,n.isSymbol=Qa,n.isTypedArray=tu,n.isUndefined=nu,n.isWeakMap=eu,n.isWeakSet=ru,n.join=Zi,n.kebabCase=Mf,n.last=Ji,n.lastIndexOf=Vi,n.lowerCase=Gf,n.lowerFirst=Hf,n.lt=iu,n.lte=ou,n.max=Es,n.maxBy=Ns,n.mean=js,n.min=Cs,n.minBy=Ds,n.noConflict=ds,n.noop=ws,n.now=pf,n.pad=Yu,n.padEnd=Xu,n.padStart=Zu,n.parseInt=Ju,n.random=Pu,n.reduce=zo,n.reduceRight=qo,n.repeat=Vu,n.replace=Qu,n.result=Cu,n.round=oh,n.runInContext=X,n.sample=Xo,n.size=Vo,n.snakeCase=Kf,n.some=Qo,n.sortedIndex=io,n.sortedIndexBy=oo,n.sortedIndexOf=ao,n.sortedLastIndex=uo,n.sortedLastIndexBy=so,n.sortedLastIndexOf=co,n.startCase=Ff,n.startsWith=ns,n.subtract=ks,n.sum=Bs,n.sumBy=Us,n.template=es,n.times=Ts,n.toInteger=uu,n.toLength=su,n.toLower=rs,n.toNumber=cu,n.toSafeInteger=hu,n.toString=lu,n.toUpper=is,n.trim=os,n.trimEnd=as,n.trimStart=us,n.truncate=ss,n.unescape=cs,n.uniqueId=Ss,n.upperCase=$f,n.upperFirst=Pf,n.each=Ho,n.eachRight=Po,n.first=qi,ms(n,function(){var t={};return Me(n,function(e,r){Fs.call(n.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),n.VERSION=J,s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),s(["drop","take"],function(t,n){An.prototype[t]=function(e){var r=this.__filtered__;if(r&&!n)return new An(this);e=e===Z?1:vc(uu(e),0);var i=this.clone();return r?i.__takeCount__=gc(e,i.__takeCount__):i.__views__.push({size:gc(e,Tt),type:t+(i.__dir__<0?"Right":"")}),i},An.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),s(["filter","map","takeWhile"],function(t,n){var e=n+1,r=e==gt||e==yt;An.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:hi(t,3),type:e}),n.__filtered__=n.__filtered__||r,n}}),s(["head","last"],function(t,n){var e="take"+(n?"Right":"");An.prototype[t]=function(){return this[e](1).value()[0]}}),s(["initial","tail"],function(t,n){var e="drop"+(n?"":"Right");An.prototype[t]=function(){return this.__filtered__?new An(this):this[e](1)}}),An.prototype.compact=function(){return this.filter(vs)},An.prototype.find=function(t){return this.filter(t).head()},An.prototype.findLast=function(t){return this.reverse().find(t)},An.prototype.invokeMap=fa(function(t,n){return"function"==typeof t?new An(this):this.map(function(e){return Ye(e,t,n)})}),An.prototype.reject=function(t){return t=hi(t,3),this.filter(function(n){return!t(n)})},An.prototype.slice=function(t,n){t=uu(t);var e=this;return e.__filtered__&&(t>0||0>n)?new An(e):(0>t?e=e.takeRight(-t):t&&(e=e.drop(t)),n!==Z&&(n=uu(n),e=0>n?e.dropRight(-n):e.take(n-t)),e)},An.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},An.prototype.toArray=function(){return this.take(Tt)},Me(An.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),o=n[i?"take"+("last"==e?"Right":""):e],a=i||/^find/.test(e);o&&(n.prototype[e]=function(){var e=this.__wrapped__,u=i?[1]:arguments,s=e instanceof An,c=u[0],f=s||bf(e),h=function(t){var e=o.apply(n,g([t],u));return i&&l?e[0]:e};f&&r&&"function"==typeof c&&1!=c.length&&(s=f=!1);var l=this.__chain__,p=!!this.__actions__.length,v=a&&!l,_=s&&!p;if(!a&&f){e=_?e:new An(this);var y=t.apply(e,u);return y.__actions__.push({func:Ao,args:[h],thisArg:Z}),new D(y,l)}return v&&_?t.apply(this,u):(y=this.thru(h),v?i?y.value()[0]:y.value():y)})}),s(["pop","push","shift","sort","splice","unshift"],function(t){var e=Hs[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?e.apply(this.value(),t):this[r](function(n){return e.apply(n,t)})}}),Me(An.prototype,function(t,e){var r=n[e];if(r){var i=r.name+"",o=jc[i]||(jc[i]=[]);o.push({name:e,func:r})}}),jc[Vr(Z,Q).name]=[{name:"wrapper",func:Z}],An.prototype.clone=Cn,An.prototype.reverse=Dn,An.prototype.value=kn,n.prototype.at=af,n.prototype.chain=Eo,n.prototype.commit=No,n.prototype.flatMap=jo,n.prototype.next=Co,n.prototype.plant=ko,n.prototype.reverse=Bo,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=Uo,ic&&(n.prototype[ic]=Do),n}var Z,J="4.5.1",V=1,Q=2,tt=4,nt=8,et=16,rt=32,it=64,ot=128,at=256,ut=512,st=1,ct=2,ft=30,ht="...",lt=150,pt=16,vt=200,gt=1,_t=2,yt=3,mt="Expected a function",dt="__lodash_hash_undefined__",wt=1/0,xt=9007199254740991,bt=1.7976931348623157e308,It=NaN,Tt=4294967295,Ot=Tt-1,St=Tt>>>1,At="__lodash_placeholder__",Et="[object Arguments]",Nt="[object Array]",jt="[object Boolean]",Ct="[object Date]",Dt="[object Error]",kt="[object Function]",Bt="[object GeneratorFunction]",Ut="[object Map]",Rt="[object Number]",Wt="[object Object]",Lt="[object RegExp]",Mt="[object Set]",Gt="[object String]",Ht="[object Symbol]",Pt="[object WeakMap]",Kt="[object WeakSet]",Ft="[object ArrayBuffer]",$t="[object Float32Array]",zt="[object Float64Array]",qt="[object Int8Array]",Yt="[object Int16Array]",Xt="[object Int32Array]",Zt="[object Uint8Array]",Jt="[object Uint8ClampedArray]",Vt="[object Uint16Array]",Qt="[object Uint32Array]",tn=/\b__p \+= '';/g,nn=/\b(__p \+=) '' \+/g,en=/(__e\(.*?\)|\b__t\)) \+\n'';/g,rn=/&(?:amp|lt|gt|quot|#39|#96);/g,on=/[&<>"'`]/g,an=RegExp(rn.source),un=RegExp(on.source),sn=/<%-([\s\S]+?)%>/g,cn=/<%([\s\S]+?)%>/g,fn=/<%=([\s\S]+?)%>/g,hn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ln=/^\w*$/,pn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,vn=/[\\^$.*+?()[\]{}|]/g,gn=RegExp(vn.source),_n=/^\s+|\s+$/g,yn=/^\s+/,mn=/\s+$/,dn=/\\(\\)?/g,wn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xn=/\w*$/,bn=/^0x/i,In=/^[-+]0x[0-9a-f]+$/i,Tn=/^0b[01]+$/i,On=/^\[object .+?Constructor\]$/,Sn=/^0o[0-7]+$/i,An=/^(?:0|[1-9]\d*)$/,En=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Nn=/($^)/,jn=/['\n\r\u2028\u2029\\]/g,Cn="\\ud800-\\udfff",Dn="\\u0300-\\u036f\\ufe20-\\ufe23",kn="\\u20d0-\\u20f0",Bn="\\u2700-\\u27bf",Un="a-z\\xdf-\\xf6\\xf8-\\xff",Rn="\\xac\\xb1\\xd7\\xf7",Wn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ln="\\u2018\\u2019\\u201c\\u201d",Mn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Gn="A-Z\\xc0-\\xd6\\xd8-\\xde",Hn="\\ufe0e\\ufe0f",Pn=Rn+Wn+Ln+Mn,Kn="["+Cn+"]",Fn="["+Pn+"]",$n="["+Dn+kn+"]",zn="\\d+",qn="["+Bn+"]",Yn="["+Un+"]",Xn="[^"+Cn+Pn+zn+Bn+Un+Gn+"]",Zn="\\ud83c[\\udffb-\\udfff]",Jn="(?:"+$n+"|"+Zn+")",Vn="[^"+Cn+"]",Qn="(?:\\ud83c[\\udde6-\\uddff]){2}",te="[\\ud800-\\udbff][\\udc00-\\udfff]",ne="["+Gn+"]",ee="\\u200d",re="(?:"+Yn+"|"+Xn+")",ie="(?:"+ne+"|"+Xn+")",oe=Jn+"?",ae="["+Hn+"]?",ue="(?:"+ee+"(?:"+[Vn,Qn,te].join("|")+")"+ae+oe+")*",se=ae+oe+ue,ce="(?:"+[qn,Qn,te].join("|")+")"+se,fe="(?:"+[Vn+$n+"?",$n,Qn,te,Kn].join("|")+")",he=RegExp($n,"g"),le=RegExp(Zn+"(?="+Zn+")|"+fe+se,"g"),pe=RegExp("["+ee+Cn+Dn+kn+Hn+"]"),ve=/[a-zA-Z0-9]+/g,ge=RegExp([ne+"?"+Yn+"+(?="+[Fn,ne,"$"].join("|")+")",ie+"+(?="+[Fn,ne+re,"$"].join("|")+")",ne+"?"+re+"+",ne+"+",zn,ce].join("|"),"g"),_e=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ye=["Array","Buffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],me=-1,de={};de[$t]=de[zt]=de[qt]=de[Yt]=de[Xt]=de[Zt]=de[Jt]=de[Vt]=de[Qt]=!0,de[Et]=de[Nt]=de[Ft]=de[jt]=de[Ct]=de[Dt]=de[kt]=de[Ut]=de[Rt]=de[Wt]=de[Lt]=de[Mt]=de[Gt]=de[Pt]=!1;var we={};we[Et]=we[Nt]=we[Ft]=we[jt]=we[Ct]=we[$t]=we[zt]=we[qt]=we[Yt]=we[Xt]=we[Ut]=we[Rt]=we[Wt]=we[Lt]=we[Mt]=we[Gt]=we[Ht]=we[Zt]=we[Jt]=we[Vt]=we[Qt]=!0,we[Dt]=we[kt]=we[Pt]=!1;var xe={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},be={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ie={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Te={"function":!0,object:!0},Oe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Se=parseFloat,Ae=parseInt,Ee=Te[typeof e]&&e&&!e.nodeType?e:Z,Ne=Te[typeof n]&&n&&!n.nodeType?n:Z,je=Ne&&Ne.exports===Ee?Ee:Z,Ce=D(Ee&&Ne&&"object"==typeof t&&t),De=D(Te[typeof self]&&self),ke=D(Te[typeof window]&&window),Be=D(Te[typeof this]&&this),Ue=Ce||ke!==(Be&&Be.window)&&ke||De||Be||Function("return this")(),Re=X();(ke||De||{})._=Re,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return Re}):Ee&&Ne?(je&&((Ne.exports=Re)._=Re),Ee._=Re):Ue._=Re}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,n,e){var r=[],i={};i.random=function(){};for(var o=0;6>o;o++)r.push({count:100+15*o,x:50+20*o,vital:1,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:.01,trange:{max:135},wrange:{max:.5}}}]});for(var o=0;6>o;o++)r.push({count:300+15*o,x:380-20*o,vital:1,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:45},wrange:{min:-.5}}}]});for(var o=0;6>o;o++)r.push({count:500+15*o,x:50+20*o,vital:1,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:.01,trange:{max:135},wrange:{max:.5}}}]});for(var o=0;6>o;o++)r.push({count:700+15*o,x:380-20*o,vital:1,powerItem:o%2==0?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:45},wrange:{min:-.5}}}]});for(var o=0;8>o;o++)r.push({count:900+o*(80-5*o),x:25+o%4*50,vital:3,powerItem:o%2==0?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var o=0;8>o;o++)r.push({count:950+o*(80-5*o),x:455-o%4*50,vital:3,powerItem:o%2==0?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var o=0;4>o;o++)r.push({count:1400+20*o,x:50+50*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,
s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:-30},wrange:{min:-1}}}]});for(var o=0;4>o;o++)r.push({count:1410+10*o,x:25+50*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:-30},wrange:{min:-1}}}]});for(var o=0;4>o;o++)r.push({count:1420+20*o,x:430-50*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:.01,trange:{max:210},wrange:{max:1}}}]});for(var o=0;4>o;o++)r.push({count:1430+10*o,x:455-50*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:.01,trange:{max:210},wrange:{max:1}}}]});for(var o=0;20>o;o++)r.push({count:1700+10*parseInt(o/2),x:(o%2==0?50:80)+10*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,v:[{count:0,v:{r:3,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:3,w:0,ra:0,wa:-.02,trange:{min:-45},wrange:{min:-1}}},{count:180,v:{r:3,w:0,ra:0,wa:.02,trange:{max:45},wrange:{max:1}}}]});for(var o=0;20>o;o++)r.push({count:1900+10*parseInt(o/2),x:(o%2==0?430:400)-10*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,v:[{count:0,v:{r:3,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:3,w:0,ra:0,wa:.02,trange:{max:225},wrange:{max:1}}},{count:180,v:{r:3,w:0,ra:0,wa:-.02,trange:{min:135},wrange:{min:-1}}}]});for(var o=0;8>o;o++)r.push({count:2300+o*(80-5*o),x:25+o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var o=0;8>o;o++)r.push({count:2350+o*(80-5*o),x:455-o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var o=0;8>o;o++)r.push({count:2500+o*(80-5*o),x:25+o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var o=0;8>o;o++)r.push({count:2550+o*(80-5*o),x:455-o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var o=0;8>o;o++)r.push({count:2700+o*(80-5*o),x:25+o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var o=0;8>o;o++)r.push({count:2750+o*(80-5*o),x:455-o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var a=[],o=0;100>o;o++)a.push({count:100+5*o,x:parseInt(480*i.random()),vital:1,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:13,shotCount:[10]},v:[{count:0,v:{r:3,theta:90,w:0,ra:0,wa:0}}]});for(var o=0;6>o;o++)a.push({count:500+15*o,x:50+20*o,vital:1,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:.01,trange:{max:135},wrange:{max:.5}}}]});for(var o=0;6>o;o++)a.push({count:700+15*o,x:380-20*o,vital:1,powerItem:o%2==0?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:45},wrange:{min:-.5}}}]});for(var o=0;8>o;o++)a.push({count:900+o*(80-5*o),x:25+o%4*50,vital:3,powerItem:o%2==0?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var o=0;8>o;o++)a.push({count:950+o*(80-5*o),x:455-o%4*50,vital:3,powerItem:o%2==0?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var o=0;4>o;o++)a.push({count:1400+20*o,x:50+50*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:-30},wrange:{min:-1}}}]});for(var o=0;4>o;o++)a.push({count:1410+10*o,x:25+50*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:-30},wrange:{min:-1}}}]});for(var o=0;4>o;o++)a.push({count:1420+20*o,x:430-50*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:.01,trange:{max:210},wrange:{max:1}}}]});for(var o=0;4>o;o++)a.push({count:1430+10*o,x:455-50*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:.01,trange:{max:210},wrange:{max:1}}}]});for(var o=0;20>o;o++)a.push({count:1700+10*parseInt(o/2),x:(o%2==0?50:80)+10*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,v:[{count:0,v:{r:3,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:3,w:0,ra:0,wa:-.02,trange:{min:-45},wrange:{min:-1}}},{count:180,v:{r:3,w:0,ra:0,wa:.02,trange:{max:45},wrange:{max:1}}}]});for(var o=0;20>o;o++)a.push({count:1900+10*parseInt(o/2),x:(o%2==0?430:400)-10*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,v:[{count:0,v:{r:3,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:3,w:0,ra:0,wa:.02,trange:{max:225},wrange:{max:1}}},{count:180,v:{r:3,w:0,ra:0,wa:-.02,trange:{min:135},wrange:{min:-1}}}]});for(var o=0;8>o;o++)a.push({count:2300+o*(80-5*o),x:25+o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var o=0;8>o;o++)a.push({count:2350+o*(80-5*o),x:455-o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var o=0;8>o;o++)a.push({count:2500+o*(80-5*o),x:25+o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var o=0;8>o;o++)a.push({count:2550+o*(80-5*o),x:455-o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var o=0;8>o;o++)a.push({count:2700+o*(80-5*o),x:25+o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var o=0;8>o;o++)a.push({count:2750+o*(80-5*o),x:455-o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});r.sort(function(t,n){return t.count-n.count}),n.exports=r},{}],3:[function(t,n,e){"use strict";var r=(t("lodash"),t("../object/enemy")),i=function(t){this.stage=t.stage,this.pool=[],this.incremental_id=0};i.prototype.get=function(t){this.incremental_id++;var n=new r(this.incremental_id,this.stage);return n.init(t),n},i.prototype.free=function(t){},n.exports=i},{"../object/enemy":12,lodash:1}],4:[function(t,n,e){"use strict";var r=(t("lodash"),t("../object/shot")),i=function(t){this.stage=t.stage,this.pool=[],this.incremental_id=0};i.prototype.get=function(){this.incremental_id++;var t=new r(this.incremental_id,this.stage);return t.init(),t},i.prototype.free=function(t){},n.exports=i},{"../object/shot":13,lodash:1}],5:[function(t,n,e){"use strict";var r=t("./scene/loading"),i=t("./scene/opening"),o=t("./scene/stage"),a=function(t){this.surface=t.getContext("2d"),this.width=Number(t.getAttribute("width")),this.height=Number(t.getAttribute("height")),this.state=null,this.scenes=[],this.scenes[this.LOADING_SCENE]=new r(this),this.scenes[this.OPENING_SCENE]=new i(this),this.scenes[this.STAGE_SCENE]=new o(this),this.scenes[this.ENDING_SCENE]=null,this.images={},this.sounds={},this.bgms={},this.frame_count=0};a.prototype.DEBUG=!0,a.prototype.LOADING_SCENE=0,a.prototype.OPENING_SCENE=1,a.prototype.STAGE_SCENE=2,a.prototype.ENDING_SCENE=3,a.prototype.IMAGES={title_bg:"image/title_bg.png",stage1_bg:"image/stage1_bg.jpg",reimu:"image/reimu.png",shot:"image/shot.png",enemy:"image/enemy.png"},a.prototype.SOUNDS={select:{path:"sound/select.wav",volume:1},shot:{path:"sound/shot.wav",volume:.1}},a.prototype.BGMS={title:{path:"bgm/title.mp3",volume:1},stage1:{path:"bgm/stage1.mp3",volume:1}},a.prototype.handleKeyDown=function(t){this.scenes[this.state].handleKeyDown(t),t.preventDefault()},a.prototype.handleKeyUp=function(t){this.scenes[this.state].handleKeyUp(t),t.preventDefault()},a.prototype.init=function(){this.frame_count=0,this.changeScene(this.LOADING_SCENE)},a.prototype.run=function(){this.scenes[this.state].run(),this.scenes[this.state].updateDisplay(),this.frame_count++,requestAnimationFrame(this.run.bind(this))},a.prototype.changeScene=function(t){this.state=t,this.scenes[this.state].init()},a.prototype.getImage=function(t){return this.images[t]},a.prototype.playBGM=function(t){for(var n in this.bgms)this.bgms[n].pause(),this.bgms[n].currentTime=0;this.bgms[t].loop=!0,this.bgms[t].play()},a.prototype.playSound=function(t){this.sounds[t].pause(),this.sounds[t].currentTime=0,this.sounds[t].play()},a.prototype.notifyLoadingDone=function(){this.changeScene(this.OPENING_SCENE)},a.prototype.notifyOpeningDone=function(){this.changeScene(this.STAGE_SCENE)},n.exports=a},{"./scene/loading":15,"./scene/opening":16,"./scene/stage":17}],6:[function(t,n,e){"use strict";var r=t("./game");window.onload=function(){var t=document.getElementById("mainCanvas"),n=new r(t);n.init(),window.onkeydown=function(t){n.handleKeyDown(t)},window.onkeyup=function(t){n.handleKeyUp(t)},n.run()}},{"./game":5}],7:[function(t,n,e){"use strict";var r=(t("lodash"),function(t){this.stage=t,this.game=t.game,this.factory=null,this.objects={},this.frame_count=0});r.prototype.init=function(){this.objects={},this.frame_count=0},r.prototype.create=function(){var t=this.factory.get();this.objects[t.id]=t},r.prototype.remove=function(t){delete this.objects[t],this.factory.free(t)},r.prototype.run=function(){this.frame_count++;for(var t in this.objects)this.objects[t].run()},r.prototype.updateDisplay=function(){for(var t in this.objects)this.objects[t].updateDisplay()},n.exports=r},{lodash:1}],8:[function(t,n,e){"use strict";var r=t("lodash"),i=t("../data/enemies_params"),o=t("../factory/enemy"),a=t("./base"),u=function(t){a.apply(this,arguments),this.factory=new o(this),this.enemy_index=0,this.enemies_params=i};r.extend(u.prototype,a.prototype),r.extend(u,a),u.prototype.init=function(){a.prototype.init.apply(this,arguments),this.enemy_index=0},u.prototype.create=function(){for(;this.enemies_params[this.enemy_index]&&this.enemies_params[this.enemy_index].count===this.frame_count;){var t=this.factory.get(this.enemies_params[this.enemy_index]);this.objects[t.id]=t,this.enemy_index++}},u.prototype.remove=function(t){a.prototype.remove.apply(this,arguments)},u.prototype.run=function(){a.prototype.run.apply(this,arguments),this.create()},u.prototype.updateDisplay=function(){a.prototype.updateDisplay.apply(this,arguments)},n.exports=u},{"../data/enemies_params":2,"../factory/enemy":3,"./base":7,lodash:1}],9:[function(t,n,e){"use strict";var r=t("lodash"),i=t("../factory/shot"),o=t("./base"),a=function(t){o.apply(this,arguments),this.factory=new i(this)};r.extend(a.prototype,o.prototype),r.extend(a,o),a.prototype.init=function(){o.prototype.init.apply(this,arguments)},a.prototype.create=function(){o.prototype.create.apply(this,arguments)},a.prototype.remove=function(t){o.prototype.remove.apply(this,arguments)},a.prototype.run=function(){o.prototype.run.apply(this,arguments)},a.prototype.updateDisplay=function(){o.prototype.updateDisplay.apply(this,arguments)},n.exports=a},{"../factory/shot":4,"./base":7,lodash:1}],10:[function(t,n,e){"use strict";var r=(t("lodash"),function(t,n){this.frame_count=0,this.stage=n,this.game=n.game,this.id=t,this.x=0,this.y=0,this.indexX=0,this.indexY=0});r.prototype.init=function(){this.frame_count=0},r.prototype.run=function(){this.frame_count++},r.prototype.updateDisplay=function(){var t=Math.round(this.x-this.WIDTH/2),n=Math.round(this.y-this.HEIGHT/2),e=this.game.getImage(this.IMAGE_KEY);this.game.surface.save(),this.game.surface.drawImage(e,this.WIDTH*this.indexX,this.HEIGHT*this.indexY,this.WIDTH,this.HEIGHT,t,n,this.WIDTH,this.HEIGHT),this.game.surface.restore()},n.exports=r},{lodash:1}],11:[function(t,n,e){"use strict";var r=t("lodash"),i=t("./base"),o=function(t,n){i.apply(this,arguments)};r.extend(o.prototype,i.prototype),r.extend(o,i),o.prototype.WIDTH=32,o.prototype.HEIGHT=48,o.prototype.IMAGE_KEY="reimu",o.prototype.SPEED=4,o.prototype.ANIMATION_SPAN=2,o.prototype.init=function(){i.prototype.init.apply(this,arguments),this.x=this.stage.width/2,this.y=this.stage.height-100},o.prototype.run=function(){i.prototype.run.apply(this,arguments),this.stage.isKeyDown(this.stage.BUTTON_Z)&&this.frame_count%5==0&&(this.stage.shotmanager.create(),this.game.playSound("shot")),this.stage.isKeyDown(this.stage.BUTTON_LEFT)&&(this.x-=this.SPEED),this.stage.isKeyDown(this.stage.BUTTON_RIGHT)&&(this.x+=this.SPEED),this.stage.isKeyDown(this.stage.BUTTON_DOWN)&&(this.y+=this.SPEED),this.stage.isKeyDown(this.stage.BUTTON_UP)&&(this.y-=this.SPEED),this.x<0&&(this.x=0),this.x>this.stage.width&&(this.x=this.stage.width),this.y<0&&(this.y=0),this.y>this.stage.height&&(this.y=this.stage.height),this.stage.isKeyDown(this.stage.BUTTON_LEFT)&&!this.stage.isKeyDown(this.stage.BUTTON_RIGHT)?this.indexY=1:this.stage.isKeyDown(this.stage.BUTTON_RIGHT)&&!this.stage.isKeyDown(this.stage.BUTTON_LEFT)?this.indexY=2:this.indexY=0,this.frame_count%this.ANIMATION_SPAN===0&&(this.indexX++,0===this.indexY&&this.indexX>7?this.indexX=0:(1===this.indexY||2===this.indexY)&&this.indexX>7&&(this.indexX=4))},n.exports=o},{"./base":10,lodash:1}],12:[function(t,n,e){"use strict";var r=t("lodash"),i=t("./base"),o=function(t,n){i.apply(this,arguments),this.indexX=0,this.indexY=0};r.extend(o.prototype,i.prototype),r.extend(o,i),o.prototype.WIDTH=32,o.prototype.HEIGHT=32,o.prototype.IMAGE_KEY="enemy",o.prototype.ANIMATION_SPAN=5,o.prototype.init=function(t){if(i.prototype.init.apply(this,arguments),this.x=t.x||0,this.y=t.y||0,this.vital=t.vital,this.vectors=[],this.vector_index=0,t.v&&t.v instanceof Array)for(var n=0;n<t.v.length;n++){var e={};e.count=t.v[n].count,e.r=t.v[n].v.r,e.theta=t.v[n].v.theta||90,e.w=t.v[n].v.w||0,e.ra=t.v[n].v.ra||0,e.wa=t.v[n].v.wa||0,e.raa=t.v[n].v.raa||0,e.waa=t.v[n].v.waa||0,e.trange=t.v[n].v.trange||null,e.rrange=t.v[n].v.rrange||null,e.wrange=t.v[n].v.wrange||null,e.rarange=t.v[n].v.rarange||null,e.warange=t.v[n].v.warange||null,this.vectors.push(e)}else if(t.v){var e={};e.count=0,e.r=t.v.r,e.theta=t.v.theta||90,e.w=t.v.w||0,e.ra=t.v.ra||0,e.wa=t.v.wa||0,e.raa=t.v.raa||0,e.waa=t.v.waa||0,e.trange=t.v.trange||null,e.rrange=t.v.rrange||null,e.wrange=t.v.wrange||null,e.rarange=t.v.rarange||null,e.warange=t.v.warange||null,this.vectors.push(e)}},o.prototype.run=function(){i.prototype.run.apply(this,arguments),this.vectors[this.vector_index+1]&&this.vectors[this.vector_index+1].count<=this.frame_count&&this.vector_index++,this.x+=this.calc_moveX(),this.y+=this.calc_moveY(),this.vectors[this.vector_index].theta+=this.vectors[this.vector_index].w,this.vectors[this.vector_index].r+=this.vectors[this.vector_index].ra,this.vectors[this.vector_index].w+=this.vectors[this.vector_index].wa,this.vectors[this.vector_index].ra+=this.vectors[this.vector_index].raa,this.vectors[this.vector_index].wa+=this.vectors[this.vector_index].waa,this.vectors[this.vector_index].theta=this._beInRange(this.vectors[this.vector_index].theta,this.vectors[this.vector_index].trange),this.vectors[this.vector_index].r=this._beInRange(this.vectors[this.vector_index].r,this.vectors[this.vector_index].rrange),this.vectors[this.vector_index].w=this._beInRange(this.vectors[this.vector_index].w,this.vectors[this.vector_index].wrange),this.vectors[this.vector_index].ra=this._beInRange(this.vectors[this.vector_index].ra,this.vectors[this.vector_index].rarange),this.vectors[this.vector_index].wa=this._beInRange(this.vectors[this.vector_index].wa,this.vectors[this.vector_index].warange),this.frame_count%this.ANIMATION_SPAN===0&&(this.indexX++,this.indexX>2&&(this.indexX=0))},o.prototype._beInRange=function(t,n){return null===n?t:(void 0!==n.max&&t>n.max&&(t=n.max),void 0!==n.min&&t<n.min&&(t=n.min),t)},o.prototype._getRadian=function(){var t=this.vectors[this.vector_index].theta/180*Math.PI;return t},o.prototype.calc_moveX=function(){var t=this.vectors[this.vector_index].r*Math.cos(this._getRadian());return t},o.prototype.calc_moveY=function(){var t=this.vectors[this.vector_index].r*Math.sin(this._getRadian());return t},n.exports=o},{"./base":10,lodash:1}],13:[function(t,n,e){"use strict";var r=t("lodash"),i=t("./base"),o=function(t,n){i.apply(this,arguments),this.indexX=3,this.indexY=3};r.extend(o.prototype,i.prototype),r.extend(o,i),o.prototype.WIDTH=16,o.prototype.HEIGHT=48,o.prototype.IMAGE_KEY="shot",o.prototype.SPEED=8,o.prototype.init=function(){i.prototype.init.apply(this,arguments),this.x=this.stage.character.x,this.y=this.stage.character.y},o.prototype.run=function(){i.prototype.run.apply(this,arguments),this.y-=this.SPEED},n.exports=o},{"./base":10,lodash:1}],14:[function(t,n,e){"use strict";var r=function(t){this.game=t,this.frame_count=0};r.prototype.init=function(){this.frame_count=0},r.prototype.run=function(){this.frame_count++},r.prototype.updateDisplay=function(){console.error("updateDisplay method must be overridden")},n.exports=r},{}],15:[function(t,n,e){"use strict";var r=t("lodash"),i=t("./base"),o=function(t){i.apply(this,arguments),this.loadedImageNum=0,this.loadedSoundNum=0,this.loadedBGMNum=0};r.extend(o.prototype,i.prototype),r.extend(o,i),o.prototype.init=function(){this._loadImages(),this._loadSounds(),this._loadBGMs()},o.prototype.run=function(){var t=Object.keys(this.game.images).length+Object.keys(this.game.sounds).length+Object.keys(this.game.bgms).length,n=this.loadedImageNum+this.loadedSoundNum+this.loadedBGMNum;n>=t&&this.game.notifyLoadingDone()},o.prototype.updateDisplay=function(){var t=Object.keys(this.game.images).length+Object.keys(this.game.sounds).length+Object.keys(this.game.bgms).length,n=this.loadedImageNum+this.loadedSoundNum+this.loadedBGMNum;this.game.surface.save(),this.game.surface.clearRect(0,0,this.game.width,this.game.height),this.game.surface.fillStyle="rgb( 0, 0, 0 )",this.game.surface.textAlign="right",this.game.surface.fillText("loading...",180,200),this.game.surface.fillText(n+"/"+t,200,240),this.game.surface.restore()},o.prototype._loadImages=function(){var t=this,n=function(){t.loadedImageNum++};for(var e in this.game.IMAGES)this.game.images[e]=new Image,this.game.images[e].src=this.game.IMAGES[e],this.game.images[e].onload=n},o.prototype._loadSounds=function(){var t=this,n=function(n){t.loadedBGMNum++};for(var e in this.game.SOUNDS)this.game.sounds[e]=new Audio(this.game.SOUNDS[e].path),this.game.sounds[e].volume=this.game.SOUNDS[e].volume,this.game.sounds[e].addEventListener("canplay",n),this.game.sounds[e].load()},o.prototype._loadBGMs=function(){var t=this,n=function(n){t.loadedBGMNum++};for(var e in this.game.BGMS)this.game.bgms[e]=new Audio(this.game.BGMS[e].path),this.game.bgms[e].volume=this.game.BGMS[e].volume,this.game.bgms[e].addEventListener("canplay",n),this.game.bgms[e].load()},n.exports=o},{"./base":14,lodash:1}],16:[function(t,n,e){"use strict";var r=t("lodash"),i=t("./base"),o=function(t){i.apply(this,arguments)};r.extend(o.prototype,i.prototype),r.extend(o,i),o.prototype.SHOW_TRANSITION_COUNT=100,o.prototype.init=function(){i.prototype.init.apply(this,arguments),this.game.playBGM("title")},o.prototype.handleKeyDown=function(t){switch(t.keyCode){case 90:this.game.playSound("select"),this.game.notifyOpeningDone()}},o.prototype.run=function(){i.prototype.run.apply(this,arguments)},o.prototype.updateDisplay=function(){this.game.surface.clearRect(0,0,this.game.width,this.game.height),this.game.surface.save(),this.frame_count<this.SHOW_TRANSITION_COUNT?this.game.surface.globalAlpha=this.frame_count/this.SHOW_TRANSITION_COUNT:this.game.surface.globalAlpha=1;var t=this.game.getImage("title_bg");this.game.surface.drawImage(t,0,0,t.width,t.height,0,0,this.game.width,this.game.height),this.game.surface.font="24px 'Comic Sans MS'",this.game.surface.textAlign="center",this.game.surface.textBaseAlign="middle",this.game.surface.fillStyle="rgb( 0, 0, 0 )",this.game.surface.fillText("Touhou Project",120,200),this.game.surface.fillText("on Javascript",120,250),this.game.surface.fillText("Press Z to Start",120,350),this.game.surface.restore()},n.exports=o},{"./base":14,lodash:1}],17:[function(t,n,e){"use strict";var r=t("lodash"),i=t("./base"),o=t("../object/character"),a=t("../manager/shot"),u=t("../manager/enemy"),s=function(t){i.apply(this,arguments),this.score=0,this.character=new o(1,this),this.shotmanager=new a(this),this.enemymanager=new u(this),this.keyflag=0,this.width=this.game.width-this.SIDE_WIDTH,this.height=this.game.height};r.extend(s.prototype,i.prototype),r.extend(s,i),s.prototype.BUTTON_LEFT=1,s.prototype.BUTTON_UP=2,s.prototype.BUTTON_RIGHT=4,s.prototype.BUTTON_DOWN=8,s.prototype.BUTTON_Z=16,s.prototype.BUTTON_X=32,s.prototype.BUTTON_SHIFT=64,s.prototype.BUTTON_SPACE=128,s.prototype.SIDE_WIDTH=160,s.prototype.BACKGROUND_SCROLL_SPEED=3,s.prototype.SHOW_TITLE_COUNT=300,s.prototype.init=function(){i.prototype.init.apply(this,arguments),this.character.init(),this.shotmanager.init(),this.enemymanager.init(),this.game.playBGM("stage1")},s.prototype.handleKeyDown=function(t){this.keyflag|=this._keyCodeToBitCode(t.keyCode)},s.prototype.handleKeyUp=function(t){this.keyflag&=~this._keyCodeToBitCode(t.keyCode)},s.prototype.isKeyDown=function(t){return this.keyflag&t},s.prototype._keyCodeToBitCode=function(t){var n;switch(t){case 16:n=this.BUTTON_SHIFT;break;case 32:n=this.BUTTON_SPACE;break;case 37:n=this.BUTTON_LEFT;break;case 38:n=this.BUTTON_UP;break;case 39:n=this.BUTTON_RIGHT;break;case 40:n=this.BUTTON_DOWN;break;case 88:n=this.BUTTON_X;break;case 90:n=this.BUTTON_Z}return n},s.prototype.run=function(){i.prototype.run.apply(this,arguments),this.character.run(),this.shotmanager.run(),this.enemymanager.run()},s.prototype.updateDisplay=function(){this.game.surface.clearRect(0,0,this.game.width,this.game.height),this._showBackground(),this.character.updateDisplay(),this.shotmanager.updateDisplay(),this.enemymanager.updateDisplay(),this._showSidebar(),this._showStageTitle()},s.prototype._showSidebar=function(){var t=this.game.width-this.SIDE_WIDTH,n=0;this.game.surface.save(),this.game.surface.fillStyle="rgb(0, 0, 0)",this.game.surface.fillRect(t,n,this.SIDE_WIDTH,this.game.height),this.game.surface.fillStyle="rgb(255, 255, 255)",this.game.surface.font="16px 'Comic Sans MS'",this.game.surface.textAlign="right",this.game.surface.fillText("Score:",t+70,n+100),this.game.surface.fillText(this.score,t+140,n+100),this.game.surface.fillText("Player:",t+70,n+140),this.game.surface.fillText("0",t+140,n+140),this.game.surface.fillText("Bomb:",t+70,n+180),this.game.surface.fillText("0",t+140,n+180),this.game.surface.restore()},s.prototype._showBackground=function(){var t=0,n=this.frame_count*this.BACKGROUND_SCROLL_SPEED%this.game.height;this.game.surface.save();var e=this.game.getImage("stage1_bg");this.game.surface.drawImage(e,0,0,e.width,e.height,t,n,this.game.width-this.SIDE_WIDTH,this.game.height),this.game.surface.drawImage(e,0,0,e.width,e.height,t,n-this.game.height,this.game.width-this.SIDE_WIDTH,this.game.height),this.game.surface.restore()},s.prototype._showStageTitle=function(){if(!(this.frame_count>this.SHOW_TITLE_COUNT)){this.game.surface.save();var t=1;this.frame_count<this.SHOW_TITLE_COUNT/3?t=3*this.frame_count/this.SHOW_TITLE_COUNT:this.SHOW_TITLE_COUNT/3<this.frame_count&&this.frame_count<2*this.SHOW_TITLE_COUNT/3?t=1:2*this.SHOW_TITLE_COUNT/3<this.frame_count&&(t=3*(this.SHOW_TITLE_COUNT-this.frame_count)/this.SHOW_TITLE_COUNT),this.game.surface.fillStyle="rgb( 0, 0, 0 )",this.game.surface.globalAlpha=.5*t,this.game.surface.fillRect(0,170,480,100),this.game.surface.globalAlpha=t,this.game.surface.fillStyle="rgb( 255, 255, 255 )",this.game.surface.textAlign="left",this.game.surface.font="16px Arial",this.game.surface.fillText("Stage 1",100,210),this.game.surface.textAlign="right",this.game.surface.fillText("  Mystic Flier",380,250),this.game.surface.fillRect(100,225,280,1),this.game.surface.restore()}},n.exports=s},{"../manager/enemy":8,"../manager/shot":9,"../object/character":11,"./base":14,lodash:1}]},{},[6]);