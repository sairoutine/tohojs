!function t(n,r,e){function i(o,a){if(!r[o]){if(!n[o]){var f="function"==typeof require&&require;if(!a&&f)return f(o,!0);if(u)return u(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var s=r[o]={exports:{}};n[o][0].call(s.exports,function(t){var r=n[o][1][t];return i(r?r:t)},s,s.exports,t,n,r,e)}return r[o].exports}for(var u="function"==typeof require&&require,o=0;o<e.length;o++)i(e[o]);return i}({1:[function(t,n,r){(function(t){(function(){function e(t,n){return t.set(n[0],n[1]),t}function i(t,n){return t.add(n),t}function u(t,n,r){var e=r.length;switch(e){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}function o(t,n,r,e){for(var i=-1,u=t.length;++i<u;){var o=t[i];n(e,o,r(o),t)}return e}function a(t,n){for(var r=-1,e=t.length,i=-1,u=n.length,o=Array(e+u);++r<e;)o[r]=t[r];for(;++i<u;)o[r++]=n[i];return o}function f(t,n){for(var r=-1,e=t.length;++r<e&&n(t[r],r,t)!==!1;);return t}function c(t,n){for(var r=t.length;r--&&n(t[r],r,t)!==!1;);return t}function s(t,n){for(var r=-1,e=t.length;++r<e;)if(!n(t[r],r,t))return!1;return!0}function h(t,n){for(var r=-1,e=t.length,i=-1,u=[];++r<e;){var o=t[r];n(o,r,t)&&(u[++i]=o)}return u}function l(t,n){return!!t.length&&x(t,n,0)>-1}function p(t,n,r){for(var e=-1,i=t.length;++e<i;)if(r(n,t[e]))return!0;return!1}function g(t,n){for(var r=-1,e=t.length,i=Array(e);++r<e;)i[r]=n(t[r],r,t);return i}function _(t,n){for(var r=-1,e=n.length,i=t.length;++r<e;)t[i+r]=n[r];return t}function v(t,n,r,e){var i=-1,u=t.length;for(e&&u&&(r=t[++i]);++i<u;)r=n(r,t[i],i,t);return r}function y(t,n,r,e){var i=t.length;for(e&&i&&(r=t[--i]);i--;)r=n(r,t[i],i,t);return r}function d(t,n){for(var r=-1,e=t.length;++r<e;)if(n(t[r],r,t))return!0;return!1}function m(t,n,r){for(var e=-1,i=t.length;++e<i;){var u=t[e],o=n(u);if(null!=o&&(a===Z?o===o:r(o,a)))var a=o,f=u}return f}function w(t,n,r,e){var i;return r(t,function(t,r,u){return n(t,r,u)?(i=e?r:t,!1):void 0}),i}function b(t,n,r){for(var e=t.length,i=r?e:-1;r?i--:++i<e;)if(n(t[i],i,t))return i;return-1}function x(t,n,r){if(n!==n)return G(t,r);for(var e=r-1,i=t.length;++e<i;)if(t[e]===n)return e;return-1}function T(t,n,r,e,i){return i(t,function(t,i,u){r=e?(e=!1,t):n(r,t,i,u)}),r}function O(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}function S(t,n){for(var r,e=-1,i=t.length;++e<i;){var u=n(t[e]);u!==Z&&(r=r===Z?u:r+u)}return r}function E(t,n){for(var r=-1,e=Array(t);++r<t;)e[r]=n(r);return e}function I(t,n){return g(n,function(n){return[n,t[n]]})}function A(t){return function(n){return t(n)}}function N(t,n){return g(n,function(n){return t[n]})}function j(t,n){for(var r=-1,e=t.length;++r<e&&x(n,t[r],0)>-1;);return r}function D(t,n){for(var r=t.length;r--&&x(n,t[r],0)>-1;);return r}function k(t){return t&&t.Object===Object?t:null}function B(t,n){if(t!==n){var r=null===t,e=t===Z,i=t===t,u=null===n,o=n===Z,a=n===n;if(t>n&&!u||!i||r&&!o&&a||e&&a)return 1;if(n>t&&!r||!a||u&&!e&&i||o&&i)return-1}return 0}function U(t,n,r){for(var e=-1,i=t.criteria,u=n.criteria,o=i.length,a=r.length;++e<o;){var f=B(i[e],u[e]);if(f){if(e>=a)return f;var c=r[e];return f*("desc"==c?-1:1)}}return t.index-n.index}function C(t,n){for(var r=t.length,e=0;r--;)t[r]===n&&e++;return e}function W(t){return br[t]}function R(t){return xr[t]}function L(t){return"\\"+Sr[t]}function G(t,n,r){for(var e=t.length,i=n+(r?0:-1);r?i--:++i<e;){var u=t[i];if(u!==u)return i}return-1}function H(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(r){}return n}function M(t,n){return t="number"==typeof t||In.test(t)?+t:-1,n=null==n?bt:n,t>-1&&t%1==0&&n>t}function P(t){for(var n,r=[];!(n=t.next()).done;)r.push(n.value);return r}function K(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}function F(t,n){for(var r=-1,e=t.length,i=-1,u=[];++r<e;){var o=t[r];o!==n&&o!==It||(t[r]=It,u[++i]=r)}return u}function $(t){var n=-1,r=Array(t.size);return t.forEach(function(t){r[++n]=t}),r}function z(t){if(!t||!pr.test(t))return t.length;for(var n=lr.lastIndex=0;lr.test(t);)n++;return n}function q(t){return t.match(lr)}function Y(t){return Tr[t]}function X(t){function n(t){if(Go(t)&&!xs(t)&&!(t instanceof In)){if(t instanceof k)return t;if($f.call(t,"__wrapped__"))return Bi(t)}return new k(t)}function r(){}function k(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=Z}function In(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ot,this.__views__=[]}function Dn(){var t=new In(this.__wrapped__);return t.__actions__=Le(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Le(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Le(this.__views__),t}function kn(){if(this.__filtered__){var t=new In(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Bn(){var t=this.__wrapped__.value(),n=this.__dir__,r=xs(t),e=0>n,i=r?t.length:0,u=vi(0,i,this.__views__),o=u.start,a=u.end,f=a-o,c=e?a:o-1,s=this.__iteratees__,h=s.length,l=0,p=vc(f,this.__takeCount__);if(!r||gt>i||i==f&&p==f)return Ee(t,this.__actions__);var g=[];t:for(;f--&&p>l;){c+=n;for(var _=-1,v=t[c];++_<h;){var y=s[_],d=y.iteratee,m=y.type,w=d(v);if(m==vt)v=w;else if(!w){if(m==_t)continue t;break t}}g[l++]=v}return g}function Un(){}function Cn(t,n){return Rn(t,n)&&delete t[n]}function Wn(t,n){if(Tc){var r=t[n];return r===mt?Z:r}return $f.call(t,n)?t[n]:Z}function Rn(t,n){return Tc?t[n]!==Z:$f.call(t,n)}function Ln(t,n,r){t[n]=Tc&&r===Z?mt:r}function Gn(t){var n=-1,r=t?t.length:0;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function Hn(){this.__data__={hash:new Un,map:wc?new wc:[],string:new Un}}function Mn(t){var n=this.__data__;return Oi(t)?Cn("string"==typeof t?n.string:n.hash,t):wc?n.map["delete"](t):tr(n.map,t)}function Pn(t){var n=this.__data__;return Oi(t)?Wn("string"==typeof t?n.string:n.hash,t):wc?n.map.get(t):nr(n.map,t)}function Kn(t){var n=this.__data__;return Oi(t)?Rn("string"==typeof t?n.string:n.hash,t):wc?n.map.has(t):rr(n.map,t)}function Fn(t,n){var r=this.__data__;return Oi(t)?Ln("string"==typeof t?r.string:r.hash,t,n):wc?r.map.set(t,n):ir(r.map,t,n),this}function $n(t){var n=-1,r=t?t.length:0;for(this.__data__=new Gn;++n<r;)this.push(t[n])}function zn(t,n){var r=t.__data__;if(Oi(n)){var e=r.__data__,i="string"==typeof n?e.string:e.hash;return i[n]===mt}return r.has(n)}function qn(t){var n=this.__data__;if(Oi(t)){var r=n.__data__,e="string"==typeof t?r.string:r.hash;e[t]=mt}else n.set(t,mt)}function Yn(t){var n=-1,r=t?t.length:0;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function Xn(){this.__data__={array:[],map:null}}function Zn(t){var n=this.__data__,r=n.array;return r?tr(r,t):n.map["delete"](t)}function Jn(t){var n=this.__data__,r=n.array;return r?nr(r,t):n.map.get(t)}function Vn(t){var n=this.__data__,r=n.array;return r?rr(r,t):n.map.has(t)}function Qn(t,n){var r=this.__data__,e=r.array;e&&(e.length<gt-1?ir(e,t,n):(r.array=null,r.map=new Gn(e)));var i=r.map;return i&&i.set(t,n),this}function tr(t,n){var r=er(t,n);if(0>r)return!1;var e=t.length-1;return r==e?t.pop():cc.call(t,r,1),!0}function nr(t,n){var r=er(t,n);return 0>r?Z:t[r][1]}function rr(t,n){return er(t,n)>-1}function er(t,n){for(var r=t.length;r--;)if(wo(t[r][0],n))return r;return-1}function ir(t,n,r){var e=er(t,n);0>e?t.push([n,r]):t[e][1]=r}function ur(t,n,r,e){return t===Z||wo(t,Kf[r])&&!$f.call(e,r)?n:t}function or(t,n,r){(r===Z||wo(t[n],r))&&("number"!=typeof n||r!==Z||n in t)||(t[n]=r)}function ar(t,n,r){var e=t[n];$f.call(t,n)&&wo(e,r)&&(r!==Z||n in t)||(t[n]=r)}function fr(t,n,r,e){return kc(t,function(t,i,u){n(e,t,r(t),u)}),e}function cr(t,n){return t&&Ge(n,Sa(n),t)}function sr(t,n){for(var r=-1,e=null==t,i=n.length,u=Array(i);++r<i;)u[r]=e?Z:xa(t,n[r]);return u}function lr(t){return Eo(t)?t:[]}function br(t){return"function"==typeof t?t:_f}function xr(t){return xs(t)?t:ki(t)}function Tr(t,n,r){return t===t&&(r!==Z&&(t=r>=t?t:r),n!==Z&&(t=t>=n?t:n)),t}function Or(t,n,r,e,i,u){var o;if(r&&(o=i?r(t,e,i,u):r(t)),o!==Z)return o;if(!Lo(t))return t;var a=xs(t);if(a){if(o=di(t),!n)return Le(t,o)}else{var c=_i(t),s=c==Bt||c==Ut;if(Ts(t))return Ne(t,n);if(c==Rt||c==At||s&&!i){if(H(t))return i?t:{};if(o=mi(s?{}:t),!n)return Me(t,cr(o,t))}else{if(!wr[c])return i?t:{};o=wi(t,c,n)}}u||(u=new Yn);var h=u.get(t);return h?h:(u.set(t,o),(a?f:Gr)(t,function(e,i){ar(o,i,Or(e,n,r,i,t,u))}),a?o:Me(t,o))}function Sr(t){var n=Sa(t),r=n.length;return function(e){if(null==e)return!r;for(var i=r;i--;){var u=n[i],o=t[u],a=e[u];if(a===Z&&!(u in Object(e))||!o(a))return!1}return!0}}function Ar(t){return Lo(t)?oc(t):{}}function Nr(t,n,r){if("function"!=typeof t)throw new Mf(dt);return fc(function(){t.apply(Z,r)},n)}function Dr(t,n,r,e){var i=-1,u=l,o=!0,a=t.length,f=[],c=n.length;if(!a)return f;r&&(n=g(n,A(r))),e?(u=p,o=!1):n.length>=gt&&(u=zn,o=!1,n=new $n(n));t:for(;++i<a;){var s=t[i],h=r?r(s):s;if(o&&h===h){for(var _=c;_--;)if(n[_]===h)continue t;f.push(s)}else u(n,h,e)||f.push(s)}return f}function kr(t,n){var r=!0;return kc(t,function(t,e,i){return r=!!n(t,e,i)}),r}function Br(t,n,r,e){var i=t.length;for(r=aa(r),0>r&&(r=-r>i?0:i+r),e=e===Z||e>i?i:aa(e),0>e&&(e+=i),e=r>e?0:fa(e);e>r;)t[r++]=n;return t}function Ur(t,n){var r=[];return kc(t,function(t,e,i){n(t,e,i)&&r.push(t)}),r}function Rr(t,n,r,e){e||(e=[]);for(var i=-1,u=t.length;++i<u;){var o=t[i];n>0&&Eo(o)&&(r||xs(o)||To(o))?n>1?Rr(o,n-1,r,e):_(e,o):r||(e[e.length]=o)}return e}function Lr(t,n){return null==t?t:Uc(t,n,Ea)}function Gr(t,n){return t&&Uc(t,n,Sa)}function Hr(t,n){return t&&Cc(t,n,Sa)}function Mr(t,n){return h(n,function(n){return Co(t[n])})}function Pr(t,n){n=Ti(n,t)?[n+""]:xr(n);for(var r=0,e=n.length;null!=t&&e>r;)t=t[n[r++]];return r&&r==e?t:Z}function Kr(t,n){return $f.call(t,n)||"object"==typeof t&&n in t&&null===ec(t)}function Fr(t,n){return n in Object(t)}function $r(t,n,r){return t>=vc(n,r)&&t<_c(n,r)}function zr(t,n,r){for(var e=r?p:l,i=t.length,u=i,o=Array(i),a=[];u--;){var f=t[u];u&&n&&(f=g(f,A(n))),o[u]=!r&&(n||f.length>=120)?new $n(u&&f):Z}f=t[0];var c=-1,s=f.length,h=o[0];t:for(;++c<s;){var _=f[c],v=n?n(_):_;if(!(h?zn(h,v):e(a,v,r))){for(var u=i;--u;){var y=o[u];if(!(y?zn(y,v):e(t[u],v,r)))continue t}h&&h.push(v),a.push(_)}}return a}function qr(t,n,r,e){return Gr(t,function(t,i,u){n(e,r(t),i,u)}),e}function Yr(t,n,r){Ti(n,t)||(n=xr(n),t=ji(t,n),n=Ji(n));var e=null==t?t:t[n];return null==e?Z:u(e,t,r)}function Xr(t,n,r,e,i){return t===n?!0:null==t||null==n||!Lo(t)&&!Go(n)?t!==t&&n!==n:Zr(t,n,Xr,r,e,i)}function Zr(t,n,r,e,i,u){var o=xs(t),a=xs(n),f=Nt,c=Nt;o||(f=_i(t),f==At?f=Rt:f!=Rt&&(o=ta(t))),a||(c=_i(n),c==At?c=Rt:c!=Rt&&(a=ta(n)));var s=f==Rt&&!H(t),h=c==Rt&&!H(n),l=f==c;if(l&&!o&&!s)return fi(t,n,f,r,e,i);var p=i&ct;if(!p){var g=s&&$f.call(t,"__wrapped__"),_=h&&$f.call(n,"__wrapped__");if(g||_)return r(g?t.value():t,_?n.value():n,e,i,u)}return l?(u||(u=new Yn),(o?ai:ci)(t,n,r,e,i,u)):!1}function Jr(t,n,r,e){var i=r.length,u=i,o=!e;if(null==t)return!u;for(t=Object(t);i--;){var a=r[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<u;){a=r[i];var f=a[0],c=t[f],s=a[1];if(o&&a[2]){if(c===Z&&!(f in t))return!1}else{var h=new Yn,l=e?e(c,s,f,t,n,h):Z;if(!(l===Z?Xr(s,c,e,ft|ct,h):l))return!1}}return!0}function Vr(t){var n=typeof t;return"function"==n?t:null==t?_f:"object"==n?xs(t)?ee(t[0],t[1]):re(t):Tf(t)}function Qr(t){return gc(Object(t))}function te(t){t=null==t?t:Object(t);var n=[];for(var r in t)n.push(r);return n}function ne(t,n){var r=-1,e=So(t)?Array(t.length):[];return kc(t,function(t,i,u){e[++r]=n(t,i,u)}),e}function re(t){var n=li(t);if(1==n.length&&n[0][2]){var r=n[0][0],e=n[0][1];return function(t){return null==t?!1:t[r]===e&&(e!==Z||r in Object(t))}}return function(r){return r===t||Jr(r,t,n)}}function ee(t,n){return function(r){var e=xa(r,t);return e===Z&&e===n?Oa(r,t):Xr(n,e,Z,ft|ct)}}function ie(t,n,r,e,i){if(t!==n){var u=xs(n)||ta(n)?Z:Ea(n);f(u||n,function(o,a){if(u&&(a=o,o=n[a]),Lo(o))i||(i=new Yn),ue(t,n,a,r,ie,e,i);else{var f=e?e(t[a],o,a+"",t,n,i):Z;f===Z&&(f=o),or(t,a,f)}})}}function ue(t,n,r,e,i,u,o){var a=t[r],f=n[r],c=o.get(f);if(c)return void or(t,r,c);var s=u?u(a,f,r+"",t,n,o):Z,h=s===Z;h&&(s=f,xs(f)||ta(f)?xs(a)?s=a:Eo(a)?s=Le(a):(h=!1,s=Or(f,!0)):Yo(f)||To(f)?To(a)?s=sa(a):!Lo(a)||e&&Co(a)?(h=!1,s=Or(f,!0)):s=a:h=!1),o.set(f,s),h&&i(s,f,e,u,o),or(t,r,s)}function oe(t,n,r){var e=-1,i=hi();n=g(n.length?n:Array(1),function(t){return i(t)});var u=ne(t,function(t,r,i){var u=g(n,function(n){return n(t)});return{criteria:u,index:++e,value:t}});return O(u,function(t,n){return U(t,n,r)})}function ae(t,n){return t=Object(t),v(n,function(n,r){return r in t&&(n[r]=t[r]),n},{})}function fe(t,n){var r={};return Lr(t,function(t,e){n(t,e)&&(r[e]=t)}),r}function ce(t){return function(n){return null==n?Z:n[t]}}function se(t){return function(n){return Pr(n,t)}}function he(t,n){return le(t,n)}function le(t,n,r){var e=-1,i=n.length,u=t;for(r&&(u=g(t,function(t){return r(t)}));++e<i;)for(var o=0,a=n[e],f=r?r(a):a;(o=x(u,f,o))>-1;)u!==t&&cc.call(u,o,1),cc.call(t,o,1);return t}function pe(t,n){for(var r=t?n.length:0,e=r-1;r--;){var i=n[r];if(e==r||i!=u){var u=i;if(M(i))cc.call(t,i,1);else if(Ti(i,t))delete t[i];else{var o=xr(i),a=ji(t,o);null!=a&&delete a[Ji(o)]}}}return t}function ge(t,n){return t+hc(dc()*(n-t+1))}function _e(t,n,r,e){for(var i=-1,u=_c(sc((n-t)/(r||1)),0),o=Array(u);u--;)o[e?u:++i]=t,t+=r;return o}function ve(t,n,r,e){n=Ti(n,t)?[n+""]:xr(n);for(var i=-1,u=n.length,o=u-1,a=t;null!=a&&++i<u;){var f=n[i];if(Lo(a)){var c=r;if(i!=o){var s=a[f];c=e?e(s,f,a):Z,c===Z&&(c=null==s?M(n[i+1])?[]:{}:s)}ar(a,f,c)}a=a[f]}return t}function ye(t,n,r){var e=-1,i=t.length;0>n&&(n=-n>i?0:i+n),r=r>i?i:r,0>r&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var u=Array(i);++e<i;)u[e]=t[e+n];return u}function de(t,n){var r;return kc(t,function(t,e,i){return r=n(t,e,i),!r}),!!r}function me(t,n,r){var e=0,i=t?t.length:e;if("number"==typeof n&&n===n&&Et>=i){for(;i>e;){var u=e+i>>>1,o=t[u];(r?n>=o:n>o)&&null!==o?e=u+1:i=u}return i}return we(t,n,_f,r)}function we(t,n,r,e){n=r(n);for(var i=0,u=t?t.length:0,o=n!==n,a=null===n,f=n===Z;u>i;){var c=hc((i+u)/2),s=r(t[c]),h=s!==Z,l=s===s;if(o)var p=l||e;else p=a?l&&h&&(e||null!=s):f?l&&(e||h):null==s?!1:e?n>=s:n>s;p?i=c+1:u=c}return vc(u,St)}function be(t){return xe(t)}function xe(t,n){for(var r=0,e=t.length,i=t[0],u=n?n(i):i,o=u,a=0,f=[i];++r<e;)i=t[r],u=n?n(i):i,wo(u,o)||(o=u,f[++a]=i);return f}function Te(t,n,r){var e=-1,i=l,u=t.length,o=!0,a=[],f=a;if(r)o=!1,i=p;else if(u>=gt){var c=n?null:Rc(t);if(c)return $(c);o=!1,i=zn,f=new $n}else f=n?[]:a;t:for(;++e<u;){var s=t[e],h=n?n(s):s;if(o&&h===h){for(var g=f.length;g--;)if(f[g]===h)continue t;n&&f.push(h),a.push(s)}else i(f,h,r)||(f!==a&&f.push(h),a.push(s))}return a}function Oe(t,n){n=Ti(n,t)?[n+""]:xr(n),t=ji(t,n);var r=Ji(n);return null!=t&&Ta(t,r)?delete t[r]:!0}function Se(t,n,r,e){for(var i=t.length,u=e?i:-1;(e?u--:++u<i)&&n(t[u],u,t););return r?ye(t,e?0:u,e?u+1:i):ye(t,e?u+1:0,e?i:u)}function Ee(t,n){var r=t;return r instanceof In&&(r=r.value()),v(n,function(t,n){return n.func.apply(n.thisArg,_([t],n.args))},r)}function Ie(t,n,r){for(var e=-1,i=t.length;++e<i;)var u=u?_(Dr(u,t[e],n,r),Dr(t[e],u,n,r)):t[e];return u&&u.length?Te(u,n,r):[]}function Ae(t,n,r){for(var e=-1,i=t.length,u=n.length,o={};++e<i;)r(o,t[e],u>e?n[e]:Z);return o}function Ne(t,n){if(n)return t.slice();var r=t.constructor,e=new r(t.length);return t.copy(e),e}function je(t){var n=t.constructor,r=new n(t.byteLength),e=new tc(r);return e.set(new tc(t)),r}function De(t){var n=t.constructor;return v(K(t),e,new n)}function ke(t){var n=t.constructor,r=new n(t.source,bn.exec(t));return r.lastIndex=t.lastIndex,r}function Be(t){var n=t.constructor;return v($(t),i,new n)}function Ue(t){return Qf?Object(Nc.call(t)):{}}function Ce(t,n){var r=t.buffer,e=n?je(r):r,i=t.constructor;return new i(e,t.byteOffset,t.length)}function We(t,n,r,e){for(var i=-1,u=t.length,o=r.length,a=-1,f=n.length,c=_c(u-o,0),s=Array(f+c),h=!e;++a<f;)s[a]=n[a];for(;++i<o;)(h||u>i)&&(s[r[i]]=t[i]);for(;c--;)s[a++]=t[i++];return s}function Re(t,n,r,e){for(var i=-1,u=t.length,o=-1,a=r.length,f=-1,c=n.length,s=_c(u-a,0),h=Array(s+c),l=!e;++i<s;)h[i]=t[i];for(var p=i;++f<c;)h[p+f]=n[f];for(;++o<a;)(l||u>i)&&(h[p+r[o]]=t[i++]);return h}function Le(t,n){var r=-1,e=t.length;for(n||(n=Array(e));++r<e;)n[r]=t[r];return n}function Ge(t,n,r){return He(t,n,r)}function He(t,n,r,e){r||(r={});for(var i=-1,u=n.length;++i<u;){var o=n[i],a=e?e(r[o],t[o],o,r,t):t[o];ar(r,o,a)}return r}function Me(t,n){return Ge(t,Hc(t),n)}function Pe(t,n){return function(r,e){var i=xs(r)?o:fr,u=n?n():{};return i(r,t,hi(e),u)}}function Ke(t){return co(function(n,r){var e=-1,i=r.length,u=i>1?r[i-1]:Z,o=i>2?r[2]:Z;for(u="function"==typeof u?(i--,u):Z,o&&xi(r[0],r[1],o)&&(u=3>i?Z:u,i=1),n=Object(n);++e<i;){var a=r[e];a&&t(n,a,e,u)}return n})}function Fe(t,n){return function(r,e){if(null==r)return r;if(!So(r))return t(r,e);for(var i=r.length,u=n?i:-1,o=Object(r);(n?u--:++u<i)&&e(o[u],u,o)!==!1;);return r}}function $e(t){return function(n,r,e){for(var i=-1,u=Object(n),o=e(n),a=o.length;a--;){var f=o[t?a:++i];if(r(u[f],f,u)===!1)break}return n}}function ze(t,n,r){function e(){var n=this&&this!==Cr&&this instanceof e?u:t;return n.apply(i?r:this,arguments)}var i=n&V,u=Xe(t);return e}function qe(t){return function(n){n=la(n);var r=pr.test(n)?q(n):Z,e=r?r[0]:n.charAt(0),i=r?r.slice(1).join(""):n.slice(1);return e[t]()+i}}function Ye(t){return function(n){return v(hf(Fa(n)),t,"")}}function Xe(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var r=Ar(t.prototype),e=t.apply(r,n);return Lo(e)?e:r}}function Ze(t,n,r){function e(){for(var o=arguments.length,a=Array(o),f=o,c=gi(e);f--;)a[f]=arguments[f];var s=3>o&&a[0]!==c&&a[o-1]!==c?[]:F(a,c);if(o-=s.length,r>o)return ii(t,n,Ve,e.placeholder,Z,a,s,Z,Z,r-o);var h=this&&this!==Cr&&this instanceof e?i:t;return u(h,this,a)}var i=Xe(t);return e}function Je(t){return co(function(n){n=Rr(n,1);var r=n.length,e=r,i=k.prototype.thru;for(t&&n.reverse();e--;){var u=n[e];if("function"!=typeof u)throw new Mf(dt);if(i&&!o&&"wrapper"==si(u))var o=new k([],!0)}for(e=o?e:r;++e<r;){u=n[e];var a=si(u),f="wrapper"==a?Lc(u):Z;o=f&&Si(f[0])&&f[1]==(ut|nt|et|ot)&&!f[4].length&&1==f[9]?o[si(f[0])].apply(o,f[3]):1==u.length&&Si(u)?o[a]():o.thru(u)}return function(){var t=arguments,e=t[0];if(o&&1==t.length&&xs(e)&&e.length>=gt)return o.plant(e).value();for(var i=0,u=r?n[i].apply(this,t):e;++i<r;)u=n[i].call(this,u);return u}})}function Ve(t,n,r,e,i,u,o,a,f,c){function s(){for(var y=arguments.length,d=y,m=Array(y);d--;)m[d]=arguments[d];if(g)var w=gi(s),b=C(m,w);if(e&&(m=We(m,e,i,g)),u&&(m=Re(m,u,o,g)),y-=b,g&&c>y){var x=F(m,w);return ii(t,n,Ve,s.placeholder,r,m,x,a,f,c-y)}var T=l?r:this,O=p?T[t]:t;return y=m.length,a?m=Di(m,a):_&&y>1&&m.reverse(),h&&y>f&&(m.length=f),this&&this!==Cr&&this instanceof s&&(O=v||Xe(O)),O.apply(T,m)}var h=n&ut,l=n&V,p=n&Q,g=n&(nt|rt),_=n&at,v=p?Z:Xe(t);return s}function Qe(t,n){return function(r,e){return qr(r,t,n(e),{})}}function ti(t){return co(function(n){return n=g(Rr(n,1),hi()),co(function(r){var e=this;return t(n,function(t){return u(t,e,r)})})})}function ni(t,n,r){n=aa(n);var e=z(t);if(!n||e>=n)return"";var i=n-e;r=r===Z?" ":r+"";var u=Va(r,sc(i/z(r)));return pr.test(r)?q(u).slice(0,i).join(""):u.slice(0,i)}function ri(t,n,r,e){function i(){for(var n=-1,f=arguments.length,c=-1,s=e.length,h=Array(s+f),l=this&&this!==Cr&&this instanceof i?a:t;++c<s;)h[c]=e[c];for(;f--;)h[c++]=arguments[++n];return u(l,o?r:this,h)}var o=n&V,a=Xe(t);return i}function ei(t){return function(n,r,e){return e&&"number"!=typeof e&&xi(n,r,e)&&(r=e=Z),n=ca(n),n=n===n?n:0,r===Z?(r=n,n=0):r=ca(r)||0,e=e===Z?r>n?1:-1:ca(e)||0,_e(n,r,e,t)}}function ii(t,n,r,e,i,u,o,a,f,c){var s=n&nt,h=a?Le(a):Z,l=s?o:Z,p=s?Z:o,g=s?u:Z,_=s?Z:u;n|=s?et:it,n&=~(s?it:et),n&tt||(n&=~(V|Q));var v=[t,n,i,g,l,_,p,h,f,c],y=r.apply(Z,v);return Si(t)&&Mc(y,v),y.placeholder=e,y}function ui(t){var n=Gf[t];return function(t,r){if(t=ca(t),r=aa(r)){var e=(la(t)+"e").split("e"),i=n(e[0]+"e"+(+e[1]+r));return e=(la(i)+"e").split("e"),+(e[0]+"e"+(+e[1]-r))}return n(t)}}function oi(t,n,r,e,i,u,o,a){var f=n&Q;if(!f&&"function"!=typeof t)throw new Mf(dt);var c=e?e.length:0;if(c||(n&=~(et|it),e=i=Z),o=o===Z?o:_c(aa(o),0),a=a===Z?a:aa(a),c-=i?i.length:0,n&it){var s=e,h=i;e=i=Z}var l=f?Z:Lc(t),p=[t,n,r,e,i,s,h,u,o,a];if(l&&Ai(p,l),t=p[0],n=p[1],r=p[2],e=p[3],i=p[4],a=p[9]=null==p[9]?f?0:t.length:_c(p[9]-c,0),!a&&n&(nt|rt)&&(n&=~(nt|rt)),n&&n!=V)g=n==nt||n==rt?Ze(t,n,a):n!=et&&n!=(V|et)||i.length?Ve.apply(Z,p):ri(t,n,r,e);else var g=ze(t,n,r);var _=l?Wc:Mc;return _(g,p)}function ai(t,n,r,e,i,u){var o=-1,a=i&ct,f=i&ft,c=t.length,s=n.length;if(c!=s&&!(a&&s>c))return!1;var h=u.get(t);if(h)return h==n;var l=!0;for(u.set(t,n);++o<c;){var p=t[o],g=n[o];if(e)var _=a?e(g,p,o,n,t,u):e(p,g,o,t,n,u);if(_!==Z){if(_)continue;l=!1;break}if(f){if(!d(n,function(t){return p===t||r(p,t,e,i,u)})){l=!1;break}}else if(p!==g&&!r(p,g,e,i,u)){l=!1;break}}return u["delete"](t),l}function fi(t,n,r,e,i,u){switch(r){case Ft:return!(t.byteLength!=n.byteLength||!e(new tc(t),new tc(n)));case jt:case Dt:return+t==+n;case kt:return t.name==n.name&&t.message==n.message;case Wt:return t!=+t?n!=+n:t==+n;case Lt:case Ht:return t==n+"";case Ct:var o=K;case Gt:var a=u&ct;return o||(o=$),(a||t.size==n.size)&&e(o(t),o(n),i,u|ft);case Mt:return!!Qf&&Nc.call(t)==Nc.call(n)}return!1}function ci(t,n,r,e,i,u){var o=i&ct,a=Sa(t),f=a.length,c=Sa(n),s=c.length;if(f!=s&&!o)return!1;for(var h=f;h--;){var l=a[h];if(!(o?l in n:Kr(n,l)))return!1}var p=u.get(t);if(p)return p==n;var g=!0;u.set(t,n);for(var _=o;++h<f;){l=a[h];var v=t[l],y=n[l];if(e)var d=o?e(y,v,l,n,t,u):e(v,y,l,t,n,u);if(!(d===Z?v===y||r(v,y,e,i,u):d)){g=!1;break}_||(_="constructor"==l)}if(g&&!_){var m=t.constructor,w=n.constructor;m!=w&&"constructor"in t&&"constructor"in n&&!("function"==typeof m&&m instanceof m&&"function"==typeof w&&w instanceof w)&&(g=!1)}return u["delete"](t),g}function si(t){for(var n=t.name+"",r=Dc[n],e=$f.call(Dc,n)?r.length:0;e--;){var i=r[e],u=i.func;if(null==u||u==t)return i.name}return n}function hi(){var t=n.iteratee||vf;return t=t===vf?Vr:t,arguments.length?t(arguments[0],arguments[1]):t}function li(t){for(var n=Ua(t),r=n.length;r--;)n[r][2]=Ii(n[r][1]);return n}function pi(t,n){var r=null==t?Z:t[n];return Fo(r)?r:Z}function gi(t){var r=$f.call(n,"placeholder")?n:t;return r.placeholder}function _i(t){return Yf.call(t)}function vi(t,n,r){for(var e=-1,i=r.length;++e<i;){var u=r[e],o=u.size;switch(u.type){case"drop":t+=o;break;case"dropRight":n-=o;break;case"take":n=vc(n,t+o);break;case"takeRight":t=_c(t,n-o)}}return{start:t,end:n}}function yi(t,n,r){if(null==t)return!1;var e=r(t,n);e||Ti(n)||(n=xr(n),t=ji(t,n),null!=t&&(n=Ji(n),e=r(t,n)));var i=t?t.length:Z;return e||!!i&&Ro(i)&&M(n,i)&&(xs(t)||Vo(t)||To(t))}function di(t){var n=t.length,r=t.constructor(n);return n&&"string"==typeof t[0]&&$f.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function mi(t){return Co(t.constructor)&&!Ei(t)?Ar(ec(t)):{}}function wi(t,n,r){var e=t.constructor;switch(n){case Ft:return je(t);case jt:case Dt:return new e(+t);case $t:case zt:case qt:case Yt:case Xt:case Zt:case Jt:case Vt:case Qt:return Ce(t,r);case Ct:return De(t);case Wt:case Ht:return new e(t);case Lt:return ke(t);case Gt:return Be(t);case Mt:return Ue(t)}}function bi(t){var n=t?t.length:Z;return Ro(n)&&(xs(t)||Vo(t)||To(t))?E(n,String):null}function xi(t,n,r){if(!Lo(r))return!1;var e=typeof n;return("number"==e?So(r)&&M(n,r.length):"string"==e&&n in r)?wo(r[n],t):!1}function Ti(t,n){return"number"==typeof t?!0:!xs(t)&&(ln.test(t)||!hn.test(t)||null!=n&&t in Object(n))}function Oi(t){var n=typeof t;return"number"==n||"boolean"==n||"string"==n&&"__proto__"!=t||null==t}function Si(t){var r=si(t),e=n[r];if("function"!=typeof e||!(r in In.prototype))return!1;if(t===e)return!0;var i=Lc(e);return!!i&&t===i[0]}function Ei(t){var n=t&&t.constructor,r=Co(n)&&n.prototype||Kf;return t===r}function Ii(t){return t===t&&!Lo(t)}function Ai(t,n){var r=t[1],e=n[1],i=r|e,u=(V|Q|ut)>i,o=e==ut&&r==nt||e==ut&&r==ot&&t[7].length<=n[8]||e==(ut|ot)&&n[7].length<=n[8]&&r==nt;if(!u&&!o)return t;e&V&&(t[2]=n[2],i|=r&V?0:tt);var a=n[3];if(a){var f=t[3];t[3]=f?We(f,a,n[4]):Le(a),t[4]=f?F(t[3],It):Le(n[4])}return a=n[5],a&&(f=t[5],t[5]=f?Re(f,a,n[6]):Le(a),t[6]=f?F(t[5],It):Le(n[6])),a=n[7],a&&(t[7]=Le(a)),e&ut&&(t[8]=null==t[8]?n[8]:vc(t[8],n[8])),null==t[9]&&(t[9]=n[9]),t[0]=n[0],t[1]=i,t}function Ni(t,n,r,e,i,u){return Lo(t)&&Lo(n)&&(u.set(n,t),ie(t,n,Z,Ni,u)),t}function ji(t,n){return 1==n.length?t:xa(t,ye(n,0,-1))}function Di(t,n){for(var r=t.length,e=vc(n.length,r),i=Le(t);e--;){var u=n[e];t[e]=M(u,r)?i[u]:Z}return t}function ki(t){var n=[];return la(t).replace(pn,function(t,r,e,i){n.push(e?i.replace(mn,"$1"):r||t)}),n}function Bi(t){if(t instanceof In)return t.clone();var n=new k(t.__wrapped__,t.__chain__);return n.__actions__=Le(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}function Ui(t,n){n=_c(aa(n),0);var r=t?t.length:0;if(!r||1>n)return[];for(var e=0,i=-1,u=Array(sc(r/n));r>e;)u[++i]=ye(t,e,e+=n);return u}function Ci(t){for(var n=-1,r=t?t.length:0,e=-1,i=[];++n<r;){var u=t[n];u&&(i[++e]=u)}return i}function Wi(t,n,r){var e=t?t.length:0;return e?(n=r||n===Z?1:aa(n),ye(t,0>n?0:n,e)):[]}function Ri(t,n,r){var e=t?t.length:0;return e?(n=r||n===Z?1:aa(n),n=e-n,ye(t,0,0>n?0:n)):[]}function Li(t,n){return t&&t.length?Se(t,hi(n,3),!0,!0):[]}function Gi(t,n){return t&&t.length?Se(t,hi(n,3),!0):[]}function Hi(t,n,r,e){var i=t?t.length:0;return i?(r&&"number"!=typeof r&&xi(t,n,r)&&(r=0,e=i),Br(t,n,r,e)):[]}function Mi(t,n){return t&&t.length?b(t,hi(n,3)):-1}function Pi(t,n){return t&&t.length?b(t,hi(n,3),!0):-1}function Ki(t){var n=t?t.length:0;return n?Rr(t,1):[]}function Fi(t){var n=t?t.length:0;return n?Rr(t,wt):[]}function $i(t,n){var r=t?t.length:0;return r?(n=n===Z?1:aa(n),Rr(t,n)):[]}function zi(t){for(var n=-1,r=t?t.length:0,e={};++n<r;){var i=t[n];e[i[0]]=i[1]}return e}function qi(t){return t?t[0]:Z}function Yi(t,n,r){var e=t?t.length:0;return e?(r=aa(r),0>r&&(r=_c(e+r,0)),x(t,n,r)):-1}function Xi(t){return Ri(t,1)}function Zi(t,n){return t?pc.call(t,n):""}function Ji(t){var n=t?t.length:0;return n?t[n-1]:Z}function Vi(t,n,r){var e=t?t.length:0;if(!e)return-1;var i=e;if(r!==Z&&(i=aa(r),i=(0>i?_c(e+i,0):vc(i,e-1))+1),n!==n)return G(t,i,!0);for(;i--;)if(t[i]===n)return i;return-1}function Qi(t,n){return t&&t.length&&n&&n.length?he(t,n):t}function tu(t,n,r){return t&&t.length&&n&&n.length?le(t,n,hi(r)):t}function nu(t,n){var r=[];if(!t||!t.length)return r;var e=-1,i=[],u=t.length;for(n=hi(n,3);++e<u;){var o=t[e];n(o,e,t)&&(r.push(o),i.push(e))}return pe(t,i),r}function ru(t){return t?mc.call(t):t}function eu(t,n,r){var e=t?t.length:0;return e?(r&&"number"!=typeof r&&xi(t,n,r)?(n=0,r=e):(n=null==n?0:aa(n),r=r===Z?e:aa(r)),ye(t,n,r)):[]}function iu(t,n){return me(t,n)}function uu(t,n,r){return we(t,n,hi(r))}function ou(t,n){var r=t?t.length:0;if(r){var e=me(t,n);if(r>e&&wo(t[e],n))return e}return-1}function au(t,n){return me(t,n,!0)}function fu(t,n,r){return we(t,n,hi(r),!0)}function cu(t,n){var r=t?t.length:0;if(r){var e=me(t,n,!0)-1;if(wo(t[e],n))return e}return-1}function su(t){return t&&t.length?be(t):[]}function hu(t,n){return t&&t.length?xe(t,hi(n)):[]}function lu(t){return Wi(t,1)}function pu(t,n,r){return t&&t.length?(n=r||n===Z?1:aa(n),ye(t,0,0>n?0:n)):[]}function gu(t,n,r){var e=t?t.length:0;return e?(n=r||n===Z?1:aa(n),n=e-n,ye(t,0>n?0:n,e)):[]}function _u(t,n){return t&&t.length?Se(t,hi(n,3),!1,!0):[]}function vu(t,n){return t&&t.length?Se(t,hi(n,3)):[]}function yu(t){return t&&t.length?Te(t):[]}function du(t,n){return t&&t.length?Te(t,hi(n)):[]}function mu(t,n){return t&&t.length?Te(t,Z,n):[]}function wu(t){if(!t||!t.length)return[];var n=0;return t=h(t,function(t){return Eo(t)?(n=_c(t.length,n),!0):void 0}),E(n,function(n){return g(t,ce(n))})}function bu(t,n){if(!t||!t.length)return[];var r=wu(t);return null==n?r:g(r,function(t){return u(n,Z,t)})}function xu(t,n){return Ae(t||[],n||[],ar)}function Tu(t,n){return Ae(t||[],n||[],ve)}function Ou(t){var r=n(t);return r.__chain__=!0,r}function Su(t,n){return n(t),t}function Eu(t,n){return n(t)}function Iu(){return Ou(this)}function Au(){return new k(this.value(),this.__chain__)}function Nu(t){return this.map(t).flatten()}function ju(){this.__values__===Z&&(this.__values__=oa(this.value()));var t=this.__index__>=this.__values__.length,n=t?Z:this.__values__[this.__index__++];return{done:t,value:n}}function Du(){return this}function ku(t){for(var n,e=this;e instanceof r;){var i=Bi(e);i.__index__=0,i.__values__=Z,n?u.__wrapped__=i:n=i;var u=i;e=e.__wrapped__}return u.__wrapped__=t,n}function Bu(){var t=this.__wrapped__;if(t instanceof In){var n=t;return this.__actions__.length&&(n=new In(this)),n=n.reverse(),n.__actions__.push({func:Eu,args:[ru],thisArg:Z}),new k(n,this.__chain__)}return this.thru(ru)}function Uu(){return Ee(this.__wrapped__,this.__actions__)}function Cu(t,n,r){var e=xs(t)?s:kr;return r&&xi(t,n,r)&&(n=Z),e(t,hi(n,3))}function Wu(t,n){var r=xs(t)?h:Ur;return r(t,hi(n,3))}function Ru(t,n){if(n=hi(n,3),xs(t)){var r=b(t,n);return r>-1?t[r]:Z}return w(t,n,kc)}function Lu(t,n){if(n=hi(n,3),xs(t)){var r=b(t,n,!0);return r>-1?t[r]:Z}return w(t,n,Bc)}function Gu(t,n){return Rr(Ku(t,n),1)}function Hu(t,n){return"function"==typeof n&&xs(t)?f(t,n):kc(t,br(n))}function Mu(t,n){return"function"==typeof n&&xs(t)?c(t,n):Bc(t,br(n))}function Pu(t,n,r,e){t=So(t)?t:La(t),r=r&&!e?aa(r):0;var i=t.length;return 0>r&&(r=_c(i+r,0)),Vo(t)?i>=r&&t.indexOf(n,r)>-1:!!i&&x(t,n,r)>-1}function Ku(t,n){var r=xs(t)?g:ne;return r(t,hi(n,3))}function Fu(t,n,r,e){return null==t?[]:(xs(n)||(n=null==n?[]:[n]),r=e?Z:r,xs(r)||(r=null==r?[]:[r]),oe(t,n,r))}function $u(t,n,r){var e=xs(t)?v:T,i=arguments.length<3;return e(t,hi(n,4),r,i,kc)}function zu(t,n,r){var e=xs(t)?y:T,i=arguments.length<3;return e(t,hi(n,4),r,i,Bc)}function qu(t,n){var r=xs(t)?h:Ur;return n=hi(n,3),r(t,function(t,r,e){return!n(t,r,e)})}function Yu(t){var n=So(t)?t:La(t),r=n.length;return r>0?n[ge(0,r-1)]:Z}function Xu(t,n){var r=-1,e=oa(t),i=e.length,u=i-1;for(n=Tr(aa(n),0,i);++r<n;){var o=ge(r,u),a=e[o];e[o]=e[r],e[r]=a}return e.length=n,e}function Zu(t){return Xu(t,Ot)}function Ju(t){if(null==t)return 0;if(So(t)){var n=t.length;return n&&Vo(t)?z(t):n}return Sa(t).length}function Vu(t,n,r){var e=xs(t)?d:de;return r&&xi(t,n,r)&&(n=Z),e(t,hi(n,3))}function Qu(t,n){if("function"!=typeof n)throw new Mf(dt);return t=aa(t),function(){return--t<1?n.apply(this,arguments):void 0}}function to(t,n,r){return n=r?Z:n,n=t&&null==n?t.length:n,oi(t,ut,Z,Z,Z,Z,n)}function no(t,n){var r;if("function"!=typeof n)throw new Mf(dt);return t=aa(t),function(){return--t>0&&(r=n.apply(this,arguments)),1>=t&&(n=Z),r}}function ro(t,n,r){n=r?Z:n;var e=oi(t,nt,Z,Z,Z,Z,Z,n);return e.placeholder=ro.placeholder,e}function eo(t,n,r){n=r?Z:n;var e=oi(t,rt,Z,Z,Z,Z,Z,n);return e.placeholder=eo.placeholder,e}function io(t,n,r){function e(){g&&nc(g),s&&nc(s),v=0,c=s=p=g=_=Z}function i(n,r){r&&nc(r),s=g=_=Z,n&&(v=ps(),h=t.apply(p,c),g||s||(c=p=Z))}function u(){var t=n-(ps()-l);0>=t||t>n?i(_,s):g=fc(u,t)}function o(){return(g&&_||s&&m)&&(h=t.apply(p,c)),e(),h}function a(){i(m,g)}function f(){if(c=arguments,l=ps(),p=this,_=m&&(g||!y),d===!1)var r=y&&!g;else{v||s||y||(v=l);var e=d-(l-v),i=(0>=e||e>d)&&(y||s);i?(s&&(s=nc(s)),v=l,h=t.apply(p,c)):s||(s=fc(a,e))}return i&&g?g=nc(g):g||n===d||(g=fc(u,n)),
r&&(i=!0,h=t.apply(p,c)),!i||g||s||(c=p=Z),h}var c,s,h,l,p,g,_,v=0,y=!1,d=!1,m=!0;if("function"!=typeof t)throw new Mf(dt);return n=ca(n)||0,Lo(r)&&(y=!!r.leading,d="maxWait"in r&&_c(ca(r.maxWait)||0,n),m="trailing"in r?!!r.trailing:m),f.cancel=e,f.flush=o,f}function uo(t){return oi(t,at)}function oo(t,n){if("function"!=typeof t||n&&"function"!=typeof n)throw new Mf(dt);var r=function(){var e=arguments,i=n?n.apply(this,e):e[0],u=r.cache;if(u.has(i))return u.get(i);var o=t.apply(this,e);return r.cache=u.set(i,o),o};return r.cache=new oo.Cache,r}function ao(t){if("function"!=typeof t)throw new Mf(dt);return function(){return!t.apply(this,arguments)}}function fo(t){return no(2,t)}function co(t,n){if("function"!=typeof t)throw new Mf(dt);return n=_c(n===Z?t.length-1:aa(n),0),function(){for(var r=arguments,e=-1,i=_c(r.length-n,0),o=Array(i);++e<i;)o[e]=r[n+e];switch(n){case 0:return t.call(this,o);case 1:return t.call(this,r[0],o);case 2:return t.call(this,r[0],r[1],o)}var a=Array(n+1);for(e=-1;++e<n;)a[e]=r[e];return a[n]=o,u(t,this,a)}}function so(t,n){if("function"!=typeof t)throw new Mf(dt);return n=n===Z?0:_c(aa(n),0),co(function(r){var e=r[n],i=r.slice(0,n);return e&&_(i,e),u(t,this,i)})}function ho(t,n,r){var e=!0,i=!0;if("function"!=typeof t)throw new Mf(dt);return Lo(r)&&(e="leading"in r?!!r.leading:e,i="trailing"in r?!!r.trailing:i),io(t,n,{leading:e,maxWait:n,trailing:i})}function lo(t){return to(t,1)}function po(t,n){return n=null==n?_f:n,ms(n,t)}function go(){if(!arguments.length)return[];var t=arguments[0];return xs(t)?t:[t]}function _o(t){return Or(t)}function vo(t,n){return Or(t,!1,n)}function yo(t){return Or(t,!0)}function mo(t,n){return Or(t,!0,n)}function wo(t,n){return t===n||t!==t&&n!==n}function bo(t,n){return t>n}function xo(t,n){return t>=n}function To(t){return Eo(t)&&$f.call(t,"callee")&&(!ac.call(t,"callee")||Yf.call(t)==At)}function Oo(t){return Go(t)&&Yf.call(t)==Ft}function So(t){return null!=t&&!("function"==typeof t&&Co(t))&&Ro(Gc(t))}function Eo(t){return Go(t)&&So(t)}function Io(t){return t===!0||t===!1||Go(t)&&Yf.call(t)==jt}function Ao(t){return Go(t)&&Yf.call(t)==Dt}function No(t){return!!t&&1===t.nodeType&&Go(t)&&!Yo(t)}function jo(t){if(So(t)&&(xs(t)||Vo(t)||Co(t.splice)||To(t)))return!t.length;for(var n in t)if($f.call(t,n))return!1;return!0}function Do(t,n){return Xr(t,n)}function ko(t,n,r){r="function"==typeof r?r:Z;var e=r?r(t,n):Z;return e===Z?Xr(t,n,r):!!e}function Bo(t){return Go(t)?Yf.call(t)==kt||"string"==typeof t.message&&"string"==typeof t.name:!1}function Uo(t){return"number"==typeof t&&lc(t)}function Co(t){var n=Lo(t)?Yf.call(t):"";return n==Bt||n==Ut}function Wo(t){return"number"==typeof t&&t==aa(t)}function Ro(t){return"number"==typeof t&&t>-1&&t%1==0&&bt>=t}function Lo(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function Go(t){return!!t&&"object"==typeof t}function Ho(t){return Go(t)&&_i(t)==Ct}function Mo(t,n){return t===n||Jr(t,n,li(n))}function Po(t,n,r){return r="function"==typeof r?r:Z,Jr(t,n,li(n),r)}function Ko(t){return qo(t)&&t!=+t}function Fo(t){return null==t?!1:Co(t)?Zf.test(Ff.call(t)):Go(t)&&(H(t)?Zf:Sn).test(t)}function $o(t){return null===t}function zo(t){return null==t}function qo(t){return"number"==typeof t||Go(t)&&Yf.call(t)==Wt}function Yo(t){if(!Go(t)||Yf.call(t)!=Rt||H(t))return!1;var n=ec(t);if(null===n)return!0;var r=n.constructor;return"function"==typeof r&&r instanceof r&&Ff.call(r)==qf}function Xo(t){return Lo(t)&&Yf.call(t)==Lt}function Zo(t){return Wo(t)&&t>=-bt&&bt>=t}function Jo(t){return Go(t)&&_i(t)==Gt}function Vo(t){return"string"==typeof t||!xs(t)&&Go(t)&&Yf.call(t)==Ht}function Qo(t){return"symbol"==typeof t||Go(t)&&Yf.call(t)==Mt}function ta(t){return Go(t)&&Ro(t.length)&&!!mr[Yf.call(t)]}function na(t){return t===Z}function ra(t){return Go(t)&&_i(t)==Pt}function ea(t){return Go(t)&&Yf.call(t)==Kt}function ia(t,n){return n>t}function ua(t,n){return n>=t}function oa(t){if(!t)return[];if(So(t))return Vo(t)?q(t):Le(t);if(uc&&t[uc])return P(t[uc]());var n=_i(t),r=n==Ct?K:n==Gt?$:La;return r(t)}function aa(t){if(!t)return 0===t?t:0;if(t=ca(t),t===wt||t===-wt){var n=0>t?-1:1;return n*xt}var r=t%1;return t===t?r?t-r:t:0}function fa(t){return t?Tr(aa(t),0,Ot):0}function ca(t){if(Lo(t)){var n=Co(t.valueOf)?t.valueOf():t;t=Lo(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(vn,"");var r=On.test(t);return r||En.test(t)?Ir(t.slice(2),r?2:8):Tn.test(t)?Tt:+t}function sa(t){return Ge(t,Ea(t))}function ha(t){return Tr(aa(t),-bt,bt)}function la(t){if("string"==typeof t)return t;if(null==t)return"";if(Qo(t))return Qf?jc.call(t):"";var n=t+"";return"0"==n&&1/t==-wt?"-0":n}function pa(t,n){var r=Ar(t);return n?cr(r,n):r}function ga(t,n){return w(t,hi(n,3),Gr,!0)}function _a(t,n){return w(t,hi(n,3),Hr,!0)}function va(t,n){return null==t?t:Uc(t,br(n),Ea)}function ya(t,n){return null==t?t:Cc(t,br(n),Ea)}function da(t,n){return t&&Gr(t,br(n))}function ma(t,n){return t&&Hr(t,br(n))}function wa(t){return null==t?[]:Mr(t,Sa(t))}function ba(t){return null==t?[]:Mr(t,Ea(t))}function xa(t,n,r){var e=null==t?Z:Pr(t,n);return e===Z?r:e}function Ta(t,n){return yi(t,n,Kr)}function Oa(t,n){return yi(t,n,Fr)}function Sa(t){var n=Ei(t);if(!n&&!So(t))return Qr(t);var r=bi(t),e=!!r,i=r||[],u=i.length;for(var o in t)!Kr(t,o)||e&&("length"==o||M(o,u))||n&&"constructor"==o||i.push(o);return i}function Ea(t){for(var n=-1,r=Ei(t),e=te(t),i=e.length,u=bi(t),o=!!u,a=u||[],f=a.length;++n<i;){var c=e[n];o&&("length"==c||M(c,f))||"constructor"==c&&(r||!$f.call(t,c))||a.push(c)}return a}function Ia(t,n){var r={};return n=hi(n,3),Gr(t,function(t,e,i){r[n(t,e,i)]=t}),r}function Aa(t,n){var r={};return n=hi(n,3),Gr(t,function(t,e,i){r[e]=n(t,e,i)}),r}function Na(t,n){return n=hi(n),fe(t,function(t,r){return!n(t,r)})}function ja(t,n){return null==t?{}:fe(t,hi(n))}function Da(t,n,r){if(Ti(n,t))e=null==t?Z:t[n];else{n=xr(n);var e=xa(t,n);t=ji(t,n)}return e===Z&&(e=r),Co(e)?e.call(t):e}function ka(t,n,r){return null==t?t:ve(t,n,r)}function Ba(t,n,r,e){return e="function"==typeof e?e:Z,null==t?t:ve(t,n,r,e)}function Ua(t){return I(t,Sa(t))}function Ca(t){return I(t,Ea(t))}function Wa(t,n,r){var e=xs(t)||ta(t);if(n=hi(n,4),null==r)if(e||Lo(t)){var i=t.constructor;r=e?xs(t)?new i:[]:Co(i)?Ar(ec(t)):{}}else r={};return(e?f:Gr)(t,function(t,e,i){return n(r,t,e,i)}),r}function Ra(t,n){return null==t?!0:Oe(t,n)}function La(t){return t?N(t,Sa(t)):[]}function Ga(t){return null==t?[]:N(t,Ea(t))}function Ha(t,n,r){return r===Z&&(r=n,n=Z),r!==Z&&(r=ca(r),r=r===r?r:0),n!==Z&&(n=ca(n),n=n===n?n:0),Tr(ca(t),n,r)}function Ma(t,n,r){return n=ca(n)||0,r===Z?(r=n,n=0):r=ca(r)||0,t=ca(t),$r(t,n,r)}function Pa(t,n,r){if(r&&"boolean"!=typeof r&&xi(t,n,r)&&(n=r=Z),r===Z&&("boolean"==typeof n?(r=n,n=Z):"boolean"==typeof t&&(r=t,t=Z)),t===Z&&n===Z?(t=0,n=1):(t=ca(t)||0,n===Z?(n=t,t=0):n=ca(n)||0),t>n){var e=t;t=n,n=e}if(r||t%1||n%1){var i=dc();return vc(t+i*(n-t+Er("1e-"+((i+"").length-1))),n)}return ge(t,n)}function Ka(t){return Ps(la(t).toLowerCase())}function Fa(t){return t=la(t),t&&t.replace(An,W).replace(hr,"")}function $a(t,n,r){t=la(t),n="string"==typeof n?n:n+"";var e=t.length;return r=r===Z?e:Tr(aa(r),0,e),r-=n.length,r>=0&&t.indexOf(n,r)==r}function za(t){return t=la(t),t&&an.test(t)?t.replace(un,R):t}function qa(t){return t=la(t),t&&_n.test(t)?t.replace(gn,"\\$&"):t}function Ya(t,n,r){t=la(t),n=aa(n);var e=z(t);if(!n||e>=n)return t;var i=(n-e)/2,u=hc(i),o=sc(i);return ni("",u,r)+t+ni("",o,r)}function Xa(t,n,r){return t=la(t),t+ni(t,n,r)}function Za(t,n,r){return t=la(t),ni(t,n,r)+t}function Ja(t,n,r){return r||null==n?n=0:n&&(n=+n),t=la(t).replace(vn,""),yc(t,n||(xn.test(t)?16:10))}function Va(t,n){t=la(t),n=aa(n);var r="";if(!t||1>n||n>bt)return r;do n%2&&(r+=t),n=hc(n/2),t+=t;while(n);return r}function Qa(){var t=arguments,n=la(t[0]);return t.length<3?n:n.replace(t[1],t[2])}function tf(t,n,r){return la(t).split(n,r)}function nf(t,n,r){return t=la(t),r=Tr(aa(r),0,t.length),t.lastIndexOf(n,r)==r}function rf(t,r,e){var i=n.templateSettings;e&&xi(t,r,e)&&(r=Z),t=la(t),r=Es({},r,i,ur);var u,o,a=Es({},r.imports,i.imports,ur),f=Sa(a),c=N(a,f),s=0,h=r.interpolate||Nn,l="__p += '",p=Hf((r.escape||Nn).source+"|"+h.source+"|"+(h===sn?wn:Nn).source+"|"+(r.evaluate||Nn).source+"|$","g"),g="//# sourceURL="+("sourceURL"in r?r.sourceURL:"lodash.templateSources["+ ++dr+"]")+"\n";t.replace(p,function(n,r,e,i,a,f){return e||(e=i),l+=t.slice(s,f).replace(jn,L),r&&(u=!0,l+="' +\n__e("+r+") +\n'"),a&&(o=!0,l+="';\n"+a+";\n__p += '"),e&&(l+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),s=f+n.length,n}),l+="';\n";var _=r.variable;_||(l="with (obj) {\n"+l+"\n}\n"),l=(o?l.replace(tn,""):l).replace(nn,"$1").replace(rn,"$1;"),l="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var v=zs(function(){return Function(f,g+"return "+l).apply(Z,c)});if(v.source=l,Bo(v))throw v;return v}function ef(t){return la(t).toLowerCase()}function uf(t){return la(t).toUpperCase()}function of(t,n,r){if(t=la(t),!t)return t;if(r||n===Z)return t.replace(vn,"");if(n+="",!n)return t;var e=q(t),i=q(n);return e.slice(j(e,i),D(e,i)+1).join("")}function af(t,n,r){if(t=la(t),!t)return t;if(r||n===Z)return t.replace(dn,"");if(n+="",!n)return t;var e=q(t);return e.slice(0,D(e,q(n))+1).join("")}function ff(t,n,r){if(t=la(t),!t)return t;if(r||n===Z)return t.replace(yn,"");if(n+="",!n)return t;var e=q(t);return e.slice(j(e,q(n))).join("")}function cf(t,n){var r=st,e=ht;if(Lo(n)){var i="separator"in n?n.separator:i;r="length"in n?aa(n.length):r,e="omission"in n?la(n.omission):e}t=la(t);var u=t.length;if(pr.test(t)){var o=q(t);u=o.length}if(r>=u)return t;var a=r-z(e);if(1>a)return e;var f=o?o.slice(0,a).join(""):t.slice(0,a);if(i===Z)return f+e;if(o&&(a+=f.length-a),Xo(i)){if(t.slice(a).search(i)){var c,s=f;for(i.global||(i=Hf(i.source,la(bn.exec(i))+"g")),i.lastIndex=0;c=i.exec(s);)var h=c.index;f=f.slice(0,h===Z?a:h)}}else if(t.indexOf(i,a)!=a){var l=f.lastIndexOf(i);l>-1&&(f=f.slice(0,l))}return f+e}function sf(t){return t=la(t),t&&on.test(t)?t.replace(en,Y):t}function hf(t,n,r){return t=la(t),n=r?Z:n,n===Z&&(n=vr.test(t)?_r:gr),t.match(n)||[]}function lf(t){var n=t?t.length:0,r=hi();return t=n?g(t,function(t){if("function"!=typeof t[1])throw new Mf(dt);return[r(t[0]),t[1]]}):[],co(function(r){for(var e=-1;++e<n;){var i=t[e];if(u(i[0],this,r))return u(i[1],this,r)}})}function pf(t){return Sr(Or(t,!0))}function gf(t){return function(){return t}}function _f(t){return t}function vf(t){return Vr("function"==typeof t?t:Or(t,!0))}function yf(t){return re(Or(t,!0))}function df(t,n){return ee(t,Or(n,!0))}function mf(t,n,r){var e=Sa(n),i=Mr(n,e);null!=r||Lo(n)&&(i.length||!e.length)||(r=n,n=t,t=this,i=Mr(n,Sa(n)));var u=Lo(r)&&"chain"in r?r.chain:!0,o=Co(t);return f(i,function(r){var e=n[r];t[r]=e,o&&(t.prototype[r]=function(){var n=this.__chain__;if(u||n){var r=t(this.__wrapped__),i=r.__actions__=Le(this.__actions__);return i.push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return e.apply(t,_([this.value()],arguments))})}),t}function wf(){return Cr._===this&&(Cr._=Xf),this}function bf(){}function xf(t){return t=aa(t),function(){return arguments[t]}}function Tf(t){return Ti(t)?ce(t):se(t)}function Of(t){return function(n){return null==t?Z:Pr(t,n)}}function Sf(t,n){if(t=aa(t),1>t||t>bt)return[];var r=Ot,e=vc(t,Ot);n=br(n),t-=Ot;for(var i=E(e,n);++r<t;)n(r);return i}function Ef(t){return xs(t)?g(t,String):ki(t)}function If(t){var n=++zf;return la(t)+n}function Af(t,n){var r;return t===Z&&n===Z?0:(t!==Z&&(r=t),n!==Z&&(r=r===Z?n:r+n),r)}function Nf(t){return t&&t.length?m(t,_f,bo):Z}function jf(t,n){return t&&t.length?m(t,hi(n),bo):Z}function Df(t){return Cf(t)/(t?t.length:0)}function kf(t){return t&&t.length?m(t,_f,ia):Z}function Bf(t,n){return t&&t.length?m(t,hi(n),ia):Z}function Uf(t,n){var r;return t===Z&&n===Z?0:(t!==Z&&(r=t),n!==Z&&(r=r===Z?n:r-n),r)}function Cf(t){return t&&t.length?S(t,_f):0}function Wf(t,n){return t&&t.length?S(t,hi(n)):0}t=t?Wr.defaults({},t,Wr.pick(Cr,yr)):Cr;var Rf=t.Date,Lf=t.Error,Gf=t.Math,Hf=t.RegExp,Mf=t.TypeError,Pf=t.Array.prototype,Kf=t.Object.prototype,Ff=t.Function.prototype.toString,$f=Kf.hasOwnProperty,zf=0,qf=Ff.call(Object),Yf=Kf.toString,Xf=Cr._,Zf=Hf("^"+Ff.call($f).replace(gn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jf=jr?t.Buffer:Z,Vf=t.Reflect,Qf=t.Symbol,tc=t.Uint8Array,nc=t.clearTimeout,rc=Vf?Vf.enumerate:Z,ec=Object.getPrototypeOf,ic=Object.getOwnPropertySymbols,uc="symbol"==typeof(uc=Qf&&Qf.iterator)?uc:Z,oc=Object.create,ac=Kf.propertyIsEnumerable,fc=t.setTimeout,cc=Pf.splice,sc=Gf.ceil,hc=Gf.floor,lc=t.isFinite,pc=Pf.join,gc=Object.keys,_c=Gf.max,vc=Gf.min,yc=t.parseInt,dc=Gf.random,mc=Pf.reverse,wc=pi(t,"Map"),bc=pi(t,"Set"),xc=pi(t,"WeakMap"),Tc=pi(Object,"create"),Oc=xc&&new xc,Sc=wc?Ff.call(wc):"",Ec=bc?Ff.call(bc):"",Ic=xc?Ff.call(xc):"",Ac=Qf?Qf.prototype:Z,Nc=Qf?Ac.valueOf:Z,jc=Qf?Ac.toString:Z,Dc={};n.templateSettings={escape:fn,evaluate:cn,interpolate:sn,variable:"",imports:{_:n}};var kc=Fe(Gr),Bc=Fe(Hr,!0),Uc=$e(),Cc=$e(!0);rc&&!ac.call({valueOf:1},"valueOf")&&(te=function(t){return P(rc(t))});var Wc=Oc?function(t,n){return Oc.set(t,n),t}:_f,Rc=bc&&2===new bc([1,2]).size?function(t){return new bc(t)}:bf,Lc=Oc?function(t){return Oc.get(t)}:bf,Gc=ce("length"),Hc=ic||function(){return[]};(wc&&_i(new wc)!=Ct||bc&&_i(new bc)!=Gt||xc&&_i(new xc)!=Pt)&&(_i=function(t){var n=Yf.call(t),r=n==Rt?t.constructor:null,e="function"==typeof r?Ff.call(r):"";if(e)switch(e){case Sc:return Ct;case Ec:return Gt;case Ic:return Pt}return n});var Mc=function(){var t=0,n=0;return function(r,e){var i=ps(),u=pt-(i-n);if(n=i,u>0){if(++t>=lt)return r}else t=0;return Wc(r,e)}}(),Pc=co(function(t,n){return xs(t)||(t=null==t?[]:[Object(t)]),n=Rr(n,1),a(t,n)}),Kc=co(function(t,n){return Eo(t)?Dr(t,Rr(n,1,!0)):[]}),Fc=co(function(t,n){var r=Ji(n);return Eo(r)&&(r=Z),Eo(t)?Dr(t,Rr(n,1,!0),hi(r)):[]}),$c=co(function(t,n){var r=Ji(n);return Eo(r)&&(r=Z),Eo(t)?Dr(t,Rr(n,1,!0),Z,r):[]}),zc=co(function(t){var n=g(t,lr);return n.length&&n[0]===t[0]?zr(n):[]}),qc=co(function(t){var n=Ji(t),r=g(t,lr);return n===Ji(r)?n=Z:r.pop(),r.length&&r[0]===t[0]?zr(r,hi(n)):[]}),Yc=co(function(t){var n=Ji(t),r=g(t,lr);return n===Ji(r)?n=Z:r.pop(),r.length&&r[0]===t[0]?zr(r,Z,n):[]}),Xc=co(Qi),Zc=co(function(t,n){n=g(Rr(n,1),String);var r=sr(t,n);return pe(t,n.sort(B)),r}),Jc=co(function(t){return Te(Rr(t,1,!0))}),Vc=co(function(t){var n=Ji(t);return Eo(n)&&(n=Z),Te(Rr(t,1,!0),hi(n))}),Qc=co(function(t){var n=Ji(t);return Eo(n)&&(n=Z),Te(Rr(t,1,!0),Z,n)}),ts=co(function(t,n){return Eo(t)?Dr(t,n):[]}),ns=co(function(t){return Ie(h(t,Eo))}),rs=co(function(t){var n=Ji(t);return Eo(n)&&(n=Z),Ie(h(t,Eo),hi(n))}),es=co(function(t){var n=Ji(t);return Eo(n)&&(n=Z),Ie(h(t,Eo),Z,n)}),is=co(wu),us=co(function(t){var n=t.length,r=n>1?t[n-1]:Z;return r="function"==typeof r?(t.pop(),r):Z,bu(t,r)}),os=co(function(t){t=Rr(t,1);var n=t.length,r=n?t[0]:0,e=this.__wrapped__,i=function(n){return sr(n,t)};return!(n>1||this.__actions__.length)&&e instanceof In&&M(r)?(e=e.slice(r,+r+(n?1:0)),e.__actions__.push({func:Eu,args:[i],thisArg:Z}),new k(e,this.__chain__).thru(function(t){return n&&!t.length&&t.push(Z),t})):this.thru(i)}),as=Pe(function(t,n,r){$f.call(t,r)?++t[r]:t[r]=1}),fs=Pe(function(t,n,r){$f.call(t,r)?t[r].push(n):t[r]=[n]}),cs=co(function(t,n,r){var e=-1,i="function"==typeof n,o=Ti(n),a=So(t)?Array(t.length):[];return kc(t,function(t){var f=i?n:o&&null!=t?t[n]:Z;a[++e]=f?u(f,t,r):Yr(t,n,r)}),a}),ss=Pe(function(t,n,r){t[r]=n}),hs=Pe(function(t,n,r){t[r?0:1].push(n)},function(){return[[],[]]}),ls=co(function(t,n){if(null==t)return[];var r=n.length;return r>1&&xi(t,n[0],n[1])?n=[]:r>2&&xi(n[0],n[1],n[2])&&(n.length=1),oe(t,Rr(n,1),[])}),ps=Rf.now,gs=co(function(t,n,r){var e=V;if(r.length){var i=F(r,gi(gs));e|=et}return oi(t,e,n,r,i)}),_s=co(function(t,n,r){var e=V|Q;if(r.length){var i=F(r,gi(_s));e|=et}return oi(n,e,t,r,i)}),vs=co(function(t,n){return Nr(t,1,n)}),ys=co(function(t,n,r){return Nr(t,ca(n)||0,r)}),ds=co(function(t,n){n=g(Rr(n,1),hi());var r=n.length;return co(function(e){for(var i=-1,o=vc(e.length,r);++i<o;)e[i]=n[i].call(this,e[i]);return u(t,this,e)})}),ms=co(function(t,n){var r=F(n,gi(ms));return oi(t,et,Z,n,r)}),ws=co(function(t,n){var r=F(n,gi(ws));return oi(t,it,Z,n,r)}),bs=co(function(t,n){return oi(t,ot,Z,Z,Z,Rr(n,1))}),xs=Array.isArray,Ts=Jf?function(t){return t instanceof Jf}:gf(!1),Os=Ke(function(t,n){Ge(n,Sa(n),t)}),Ss=Ke(function(t,n){Ge(n,Ea(n),t)}),Es=Ke(function(t,n,r,e){He(n,Ea(n),t,e)}),Is=Ke(function(t,n,r,e){He(n,Sa(n),t,e)}),As=co(function(t,n){return sr(t,Rr(n,1))}),Ns=co(function(t){return t.push(Z,ur),u(Es,Z,t)}),js=co(function(t){return t.push(Z,Ni),u(Cs,Z,t)}),Ds=Qe(function(t,n,r){t[n]=r},gf(_f)),ks=Qe(function(t,n,r){$f.call(t,n)?t[n].push(r):t[n]=[r]},hi),Bs=co(Yr),Us=Ke(function(t,n,r){ie(t,n,r)}),Cs=Ke(function(t,n,r,e){ie(t,n,r,e)}),Ws=co(function(t,n){return null==t?{}:(n=g(Rr(n,1),String),ae(t,Dr(Ea(t),n)))}),Rs=co(function(t,n){return null==t?{}:ae(t,Rr(n,1))}),Ls=Ye(function(t,n,r){return n=n.toLowerCase(),t+(r?Ka(n):n)}),Gs=Ye(function(t,n,r){return t+(r?"-":"")+n.toLowerCase()}),Hs=Ye(function(t,n,r){return t+(r?" ":"")+n.toLowerCase()}),Ms=qe("toLowerCase"),Ps=qe("toUpperCase"),Ks=Ye(function(t,n,r){return t+(r?"_":"")+n.toLowerCase()}),Fs=Ye(function(t,n,r){return t+(r?" ":"")+Ka(n)}),$s=Ye(function(t,n,r){return t+(r?" ":"")+n.toUpperCase()}),zs=co(function(t,n){try{return u(t,Z,n)}catch(r){return Bo(r)?r:new Lf(r)}}),qs=co(function(t,n){return f(Rr(n,1),function(n){t[n]=gs(t[n],t)}),t}),Ys=Je(),Xs=Je(!0),Zs=co(function(t,n){return function(r){return Yr(r,t,n)}}),Js=co(function(t,n){return function(r){return Yr(t,r,n)}}),Vs=ti(g),Qs=ti(s),th=ti(d),nh=ei(),rh=ei(!0),eh=ui("ceil"),ih=ui("floor"),uh=ui("round");return n.prototype=r.prototype,k.prototype=Ar(r.prototype),k.prototype.constructor=k,In.prototype=Ar(r.prototype),In.prototype.constructor=In,Un.prototype=Tc?Tc(null):Kf,Gn.prototype.clear=Hn,Gn.prototype["delete"]=Mn,Gn.prototype.get=Pn,Gn.prototype.has=Kn,Gn.prototype.set=Fn,$n.prototype.push=qn,Yn.prototype.clear=Xn,Yn.prototype["delete"]=Zn,Yn.prototype.get=Jn,Yn.prototype.has=Vn,Yn.prototype.set=Qn,oo.Cache=Gn,n.after=Qu,n.ary=to,n.assign=Os,n.assignIn=Ss,n.assignInWith=Es,n.assignWith=Is,n.at=As,n.before=no,n.bind=gs,n.bindAll=qs,n.bindKey=_s,n.castArray=go,n.chain=Ou,n.chunk=Ui,n.compact=Ci,n.concat=Pc,n.cond=lf,n.conforms=pf,n.constant=gf,n.countBy=as,n.create=pa,n.curry=ro,n.curryRight=eo,n.debounce=io,n.defaults=Ns,n.defaultsDeep=js,n.defer=vs,n.delay=ys,n.difference=Kc,n.differenceBy=Fc,n.differenceWith=$c,n.drop=Wi,n.dropRight=Ri,n.dropRightWhile=Li,n.dropWhile=Gi,n.fill=Hi,n.filter=Wu,n.flatMap=Gu,n.flatten=Ki,n.flattenDeep=Fi,n.flattenDepth=$i,n.flip=uo,n.flow=Ys,n.flowRight=Xs,n.fromPairs=zi,n.functions=wa,n.functionsIn=ba,n.groupBy=fs,n.initial=Xi,n.intersection=zc,n.intersectionBy=qc,n.intersectionWith=Yc,n.invert=Ds,n.invertBy=ks,n.invokeMap=cs,n.iteratee=vf,n.keyBy=ss,n.keys=Sa,n.keysIn=Ea,n.map=Ku,n.mapKeys=Ia,n.mapValues=Aa,n.matches=yf,n.matchesProperty=df,n.memoize=oo,n.merge=Us,n.mergeWith=Cs,n.method=Zs,n.methodOf=Js,n.mixin=mf,n.negate=ao,n.nthArg=xf,n.omit=Ws,n.omitBy=Na,n.once=fo,n.orderBy=Fu,n.over=Vs,n.overArgs=ds,n.overEvery=Qs,n.overSome=th,n.partial=ms,n.partialRight=ws,n.partition=hs,n.pick=Rs,n.pickBy=ja,n.property=Tf,n.propertyOf=Of,n.pull=Xc,n.pullAll=Qi,n.pullAllBy=tu,n.pullAt=Zc,n.range=nh,n.rangeRight=rh,n.rearg=bs,n.reject=qu,n.remove=nu,n.rest=co,n.reverse=ru,n.sampleSize=Xu,n.set=ka,n.setWith=Ba,n.shuffle=Zu,n.slice=eu,n.sortBy=ls,n.sortedUniq=su,n.sortedUniqBy=hu,n.split=tf,n.spread=so,n.tail=lu,n.take=pu,n.takeRight=gu,n.takeRightWhile=_u,n.takeWhile=vu,n.tap=Su,n.throttle=ho,n.thru=Eu,n.toArray=oa,n.toPairs=Ua,n.toPairsIn=Ca,n.toPath=Ef,n.toPlainObject=sa,n.transform=Wa,n.unary=lo,n.union=Jc,n.unionBy=Vc,n.unionWith=Qc,n.uniq=yu,n.uniqBy=du,n.uniqWith=mu,n.unset=Ra,n.unzip=wu,n.unzipWith=bu,n.values=La,n.valuesIn=Ga,n.without=ts,n.words=hf,n.wrap=po,n.xor=ns,n.xorBy=rs,n.xorWith=es,n.zip=is,n.zipObject=xu,n.zipObjectDeep=Tu,n.zipWith=us,n.extend=Ss,n.extendWith=Es,mf(n,n),n.add=Af,n.attempt=zs,n.camelCase=Ls,n.capitalize=Ka,n.ceil=eh,n.clamp=Ha,n.clone=_o,n.cloneDeep=yo,n.cloneDeepWith=mo,n.cloneWith=vo,n.deburr=Fa,n.endsWith=$a,n.eq=wo,n.escape=za,n.escapeRegExp=qa,n.every=Cu,n.find=Ru,n.findIndex=Mi,n.findKey=ga,n.findLast=Lu,n.findLastIndex=Pi,n.findLastKey=_a,n.floor=ih,n.forEach=Hu,n.forEachRight=Mu,n.forIn=va,n.forInRight=ya,n.forOwn=da,n.forOwnRight=ma,n.get=xa,n.gt=bo,n.gte=xo,n.has=Ta,n.hasIn=Oa,n.head=qi,n.identity=_f,n.includes=Pu,n.indexOf=Yi,n.inRange=Ma,n.invoke=Bs,n.isArguments=To,n.isArray=xs,n.isArrayBuffer=Oo,n.isArrayLike=So,n.isArrayLikeObject=Eo,n.isBoolean=Io,n.isBuffer=Ts,n.isDate=Ao,n.isElement=No,n.isEmpty=jo,n.isEqual=Do,n.isEqualWith=ko,n.isError=Bo,n.isFinite=Uo,n.isFunction=Co,n.isInteger=Wo,n.isLength=Ro,n.isMap=Ho,n.isMatch=Mo,n.isMatchWith=Po,n.isNaN=Ko,n.isNative=Fo,n.isNil=zo,n.isNull=$o,n.isNumber=qo,n.isObject=Lo,n.isObjectLike=Go,n.isPlainObject=Yo,n.isRegExp=Xo,n.isSafeInteger=Zo,n.isSet=Jo,n.isString=Vo,n.isSymbol=Qo,n.isTypedArray=ta,n.isUndefined=na,n.isWeakMap=ra,n.isWeakSet=ea,n.join=Zi,n.kebabCase=Gs,n.last=Ji,n.lastIndexOf=Vi,n.lowerCase=Hs,n.lowerFirst=Ms,n.lt=ia,n.lte=ua,n.max=Nf,n.maxBy=jf,n.mean=Df,n.min=kf,n.minBy=Bf,n.noConflict=wf,n.noop=bf,n.now=ps,n.pad=Ya,n.padEnd=Xa,n.padStart=Za,n.parseInt=Ja,n.random=Pa,n.reduce=$u,n.reduceRight=zu,n.repeat=Va,n.replace=Qa,n.result=Da,n.round=uh,n.runInContext=X,n.sample=Yu,n.size=Ju,n.snakeCase=Ks,n.some=Vu,n.sortedIndex=iu,n.sortedIndexBy=uu,n.sortedIndexOf=ou,n.sortedLastIndex=au,n.sortedLastIndexBy=fu,n.sortedLastIndexOf=cu,n.startCase=Fs,n.startsWith=nf,n.subtract=Uf,n.sum=Cf,n.sumBy=Wf,n.template=rf,n.times=Sf,n.toInteger=aa,n.toLength=fa,n.toLower=ef,n.toNumber=ca,n.toSafeInteger=ha,n.toString=la,n.toUpper=uf,n.trim=of,n.trimEnd=af,n.trimStart=ff,n.truncate=cf,n.unescape=sf,n.uniqueId=If,n.upperCase=$s,n.upperFirst=Ps,n.each=Hu,n.eachRight=Mu,n.first=qi,mf(n,function(){var t={};return Gr(n,function(r,e){$f.call(n.prototype,e)||(t[e]=r)}),t}(),{chain:!1}),n.VERSION=J,f(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),f(["drop","take"],function(t,n){In.prototype[t]=function(r){var e=this.__filtered__;if(e&&!n)return new In(this);r=r===Z?1:_c(aa(r),0);var i=this.clone();return e?i.__takeCount__=vc(r,i.__takeCount__):i.__views__.push({size:vc(r,Ot),type:t+(i.__dir__<0?"Right":"")}),i},In.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),f(["filter","map","takeWhile"],function(t,n){var r=n+1,e=r==_t||r==yt;In.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:hi(t,3),type:r}),n.__filtered__=n.__filtered__||e,n}}),f(["head","last"],function(t,n){var r="take"+(n?"Right":"");In.prototype[t]=function(){return this[r](1).value()[0]}}),f(["initial","tail"],function(t,n){var r="drop"+(n?"":"Right");In.prototype[t]=function(){return this.__filtered__?new In(this):this[r](1)}}),In.prototype.compact=function(){return this.filter(_f)},In.prototype.find=function(t){return this.filter(t).head()},In.prototype.findLast=function(t){return this.reverse().find(t)},In.prototype.invokeMap=co(function(t,n){return"function"==typeof t?new In(this):this.map(function(r){return Yr(r,t,n)})}),In.prototype.reject=function(t){return t=hi(t,3),this.filter(function(n){return!t(n)})},In.prototype.slice=function(t,n){t=aa(t);var r=this;return r.__filtered__&&(t>0||0>n)?new In(r):(0>t?r=r.takeRight(-t):t&&(r=r.drop(t)),n!==Z&&(n=aa(n),r=0>n?r.dropRight(-n):r.take(n-t)),r)},In.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},In.prototype.toArray=function(){return this.take(Ot)},Gr(In.prototype,function(t,r){var e=/^(?:filter|find|map|reject)|While$/.test(r),i=/^(?:head|last)$/.test(r),u=n[i?"take"+("last"==r?"Right":""):r],o=i||/^find/.test(r);u&&(n.prototype[r]=function(){var r=this.__wrapped__,a=i?[1]:arguments,f=r instanceof In,c=a[0],s=f||xs(r),h=function(t){var r=u.apply(n,_([t],a));return i&&l?r[0]:r};s&&e&&"function"==typeof c&&1!=c.length&&(f=s=!1);var l=this.__chain__,p=!!this.__actions__.length,g=o&&!l,v=f&&!p;if(!o&&s){r=v?r:new In(this);var y=t.apply(r,a);return y.__actions__.push({func:Eu,args:[h],thisArg:Z}),new k(y,l)}return g&&v?t.apply(this,a):(y=this.thru(h),g?i?y.value()[0]:y.value():y)})}),f(["pop","push","shift","sort","splice","unshift"],function(t){var r=Pf[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?r.apply(this.value(),t):this[e](function(n){return r.apply(n,t)})}}),Gr(In.prototype,function(t,r){var e=n[r];if(e){var i=e.name+"",u=Dc[i]||(Dc[i]=[]);u.push({name:r,func:e})}}),Dc[Ve(Z,Q).name]=[{name:"wrapper",func:Z}],In.prototype.clone=Dn,In.prototype.reverse=kn,In.prototype.value=Bn,n.prototype.at=os,n.prototype.chain=Iu,n.prototype.commit=Au,n.prototype.flatMap=Nu,n.prototype.next=ju,n.prototype.plant=ku,n.prototype.reverse=Bu,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=Uu,uc&&(n.prototype[uc]=Du),n}var Z,J="4.5.1",V=1,Q=2,tt=4,nt=8,rt=16,et=32,it=64,ut=128,ot=256,at=512,ft=1,ct=2,st=30,ht="...",lt=150,pt=16,gt=200,_t=1,vt=2,yt=3,dt="Expected a function",mt="__lodash_hash_undefined__",wt=1/0,bt=9007199254740991,xt=1.7976931348623157e308,Tt=NaN,Ot=4294967295,St=Ot-1,Et=Ot>>>1,It="__lodash_placeholder__",At="[object Arguments]",Nt="[object Array]",jt="[object Boolean]",Dt="[object Date]",kt="[object Error]",Bt="[object Function]",Ut="[object GeneratorFunction]",Ct="[object Map]",Wt="[object Number]",Rt="[object Object]",Lt="[object RegExp]",Gt="[object Set]",Ht="[object String]",Mt="[object Symbol]",Pt="[object WeakMap]",Kt="[object WeakSet]",Ft="[object ArrayBuffer]",$t="[object Float32Array]",zt="[object Float64Array]",qt="[object Int8Array]",Yt="[object Int16Array]",Xt="[object Int32Array]",Zt="[object Uint8Array]",Jt="[object Uint8ClampedArray]",Vt="[object Uint16Array]",Qt="[object Uint32Array]",tn=/\b__p \+= '';/g,nn=/\b(__p \+=) '' \+/g,rn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,en=/&(?:amp|lt|gt|quot|#39|#96);/g,un=/[&<>"'`]/g,on=RegExp(en.source),an=RegExp(un.source),fn=/<%-([\s\S]+?)%>/g,cn=/<%([\s\S]+?)%>/g,sn=/<%=([\s\S]+?)%>/g,hn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ln=/^\w*$/,pn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,gn=/[\\^$.*+?()[\]{}|]/g,_n=RegExp(gn.source),vn=/^\s+|\s+$/g,yn=/^\s+/,dn=/\s+$/,mn=/\\(\\)?/g,wn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,bn=/\w*$/,xn=/^0x/i,Tn=/^[-+]0x[0-9a-f]+$/i,On=/^0b[01]+$/i,Sn=/^\[object .+?Constructor\]$/,En=/^0o[0-7]+$/i,In=/^(?:0|[1-9]\d*)$/,An=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Nn=/($^)/,jn=/['\n\r\u2028\u2029\\]/g,Dn="\\ud800-\\udfff",kn="\\u0300-\\u036f\\ufe20-\\ufe23",Bn="\\u20d0-\\u20f0",Un="\\u2700-\\u27bf",Cn="a-z\\xdf-\\xf6\\xf8-\\xff",Wn="\\xac\\xb1\\xd7\\xf7",Rn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ln="\\u2018\\u2019\\u201c\\u201d",Gn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Hn="A-Z\\xc0-\\xd6\\xd8-\\xde",Mn="\\ufe0e\\ufe0f",Pn=Wn+Rn+Ln+Gn,Kn="["+Dn+"]",Fn="["+Pn+"]",$n="["+kn+Bn+"]",zn="\\d+",qn="["+Un+"]",Yn="["+Cn+"]",Xn="[^"+Dn+Pn+zn+Un+Cn+Hn+"]",Zn="\\ud83c[\\udffb-\\udfff]",Jn="(?:"+$n+"|"+Zn+")",Vn="[^"+Dn+"]",Qn="(?:\\ud83c[\\udde6-\\uddff]){2}",tr="[\\ud800-\\udbff][\\udc00-\\udfff]",nr="["+Hn+"]",rr="\\u200d",er="(?:"+Yn+"|"+Xn+")",ir="(?:"+nr+"|"+Xn+")",ur=Jn+"?",or="["+Mn+"]?",ar="(?:"+rr+"(?:"+[Vn,Qn,tr].join("|")+")"+or+ur+")*",fr=or+ur+ar,cr="(?:"+[qn,Qn,tr].join("|")+")"+fr,sr="(?:"+[Vn+$n+"?",$n,Qn,tr,Kn].join("|")+")",hr=RegExp($n,"g"),lr=RegExp(Zn+"(?="+Zn+")|"+sr+fr,"g"),pr=RegExp("["+rr+Dn+kn+Bn+Mn+"]"),gr=/[a-zA-Z0-9]+/g,_r=RegExp([nr+"?"+Yn+"+(?="+[Fn,nr,"$"].join("|")+")",ir+"+(?="+[Fn,nr+er,"$"].join("|")+")",nr+"?"+er+"+",nr+"+",zn,cr].join("|"),"g"),vr=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,yr=["Array","Buffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],dr=-1,mr={};mr[$t]=mr[zt]=mr[qt]=mr[Yt]=mr[Xt]=mr[Zt]=mr[Jt]=mr[Vt]=mr[Qt]=!0,mr[At]=mr[Nt]=mr[Ft]=mr[jt]=mr[Dt]=mr[kt]=mr[Bt]=mr[Ct]=mr[Wt]=mr[Rt]=mr[Lt]=mr[Gt]=mr[Ht]=mr[Pt]=!1;var wr={};wr[At]=wr[Nt]=wr[Ft]=wr[jt]=wr[Dt]=wr[$t]=wr[zt]=wr[qt]=wr[Yt]=wr[Xt]=wr[Ct]=wr[Wt]=wr[Rt]=wr[Lt]=wr[Gt]=wr[Ht]=wr[Mt]=wr[Zt]=wr[Jt]=wr[Vt]=wr[Qt]=!0,wr[kt]=wr[Bt]=wr[Pt]=!1;var br={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},xr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Tr={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Or={"function":!0,object:!0},Sr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Er=parseFloat,Ir=parseInt,Ar=Or[typeof r]&&r&&!r.nodeType?r:Z,Nr=Or[typeof n]&&n&&!n.nodeType?n:Z,jr=Nr&&Nr.exports===Ar?Ar:Z,Dr=k(Ar&&Nr&&"object"==typeof t&&t),kr=k(Or[typeof self]&&self),Br=k(Or[typeof window]&&window),Ur=k(Or[typeof this]&&this),Cr=Dr||Br!==(Ur&&Ur.window)&&Br||kr||Ur||Function("return this")(),Wr=X();(Br||kr||{})._=Wr,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return Wr}):Ar&&Nr?(jr&&((Nr.exports=Wr)._=Wr),Ar._=Wr):Cr._=Wr}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,n,r){"use strict";var e=t("./scene/loading"),i=t("./scene/opening"),u=t("./scene/stage"),o=function(t){this.surface=t.getContext("2d"),this.width=Number(t.getAttribute("width")),this.height=Number(t.getAttribute("height")),this.state=null,this.scenes=[],this.scenes[this.LOADING_SCENE]=new e(this),this.scenes[this.OPENING_SCENE]=new i(this),this.scenes[this.STAGE_SCENE]=new u(this),this.scenes[this.ENDING_SCENE]=null,this.images={},this.sounds={},this.bgms={},this.frame_count=0};o.prototype.DEBUG=!0,o.prototype.LOADING_SCENE=0,o.prototype.OPENING_SCENE=1,o.prototype.STAGE_SCENE=2,o.prototype.ENDING_SCENE=3,o.prototype.IMAGES={title_bg:"image/title_bg.png",stage1_bg:"image/stage1_bg.jpg",reimu:"image/reimu.png",shot:"image/shot.png"},o.prototype.SOUNDS={select:"sound/select.wav",shot:"sound/shot.wav"},o.prototype.BGMS={title:"bgm/title.mp3",stage1:"bgm/stage1.mp3"},o.prototype.handleKeyDown=function(t){this.scenes[this.state].handleKeyDown(t),t.preventDefault()},o.prototype.handleKeyUp=function(t){this.scenes[this.state].handleKeyUp(t),t.preventDefault()},o.prototype.init=function(){this.frame_count=0,this.changeScene(this.LOADING_SCENE)},o.prototype.run=function(){this.scenes[this.state].run(),this.scenes[this.state].updateDisplay(),this.frame_count++,requestAnimationFrame(this.run.bind(this))},o.prototype.changeScene=function(t){this.state=t,this.scenes[this.state].init()},o.prototype.getImage=function(t){return this.images[t]},o.prototype.playBGM=function(t){for(var n in this.bgms)this.bgms[n].pause(),this.bgms[n].currentTime=0;this.bgms[t].loop=!0,this.bgms[t].play();
},o.prototype.playSound=function(t){this.sounds[t].pause(),this.sounds[t].currentTime=0,this.sounds[t].play()},o.prototype.notifyLoadingDone=function(){this.changeScene(this.OPENING_SCENE)},o.prototype.notifyOpeningDone=function(){this.changeScene(this.STAGE_SCENE)},n.exports=o},{"./scene/loading":9,"./scene/opening":10,"./scene/stage":11}],3:[function(t,n,r){"use strict";var e=t("./game");window.onload=function(){var t=document.getElementById("mainCanvas"),n=new e(t);n.init(),window.onkeydown=function(t){n.handleKeyDown(t)},window.onkeyup=function(t){n.handleKeyUp(t)},n.run()}},{"./game":2}],4:[function(t,n,r){"use strict";var e=(t("lodash"),t("../object/shot")),i=function(t){this.stage=t,this.game=t.game,this.factory=new u(this),this.objects={},this.frame_count=0,this.x=0,this.y=0};i.prototype.WIDTH=32,i.prototype.HEIGHT=48,i.prototype.SPEED=4,i.prototype.ANIMATION_SPAN=2,i.prototype.init=function(){},i.prototype.create=function(t){var n=this.factory.get();this.objects[n.id]=n},i.prototype.run=function(){this.frame_count++;for(var t in this.objects)this.objects[t].run()},i.prototype.updateDisplay=function(){for(var t in this.objects)this.objects[t].updateDisplay()},n.exports=i;var u=(t("lodash"),function(t){this.stage=t.stage,this.pool=[]});u.prototype.get=function(){var t=new e(this.stage);return t.init(),t}},{"../object/shot":7,lodash:1}],5:[function(t,n,r){"use strict";var e=(t("lodash"),function(t){this.frame_count=0,this.stage=t,this.game=t.game,this.x=0,this.y=0,this.indexX=0,this.indexY=0});e.prototype.init=function(){this.frame_count=0},e.prototype.run=function(){this.frame_count++},e.prototype.updateDisplay=function(){var t=Math.round(this.x-this.WIDTH/2),n=Math.round(this.y-this.HEIGHT/2),r=this.game.getImage(this.IMAGE_KEY);this.game.surface.save(),this.game.surface.drawImage(r,this.WIDTH*this.indexX,this.HEIGHT*this.indexY,this.WIDTH,this.HEIGHT,t,n,this.WIDTH,this.HEIGHT),this.game.surface.restore()},n.exports=e},{lodash:1}],6:[function(t,n,r){"use strict";var e=t("lodash"),i=t("./base"),u=function(t){i.apply(this,arguments)};e.extend(u.prototype,i.prototype),e.extend(u,i),u.prototype.WIDTH=32,u.prototype.HEIGHT=48,u.prototype.IMAGE_KEY="reimu",u.prototype.SPEED=4,u.prototype.ANIMATION_SPAN=2,u.prototype.init=function(){i.prototype.init.apply(this,arguments),this.x=this.stage.width/2,this.y=this.stage.height-100},u.prototype.run=function(){i.prototype.run.apply(this,arguments),this.stage.isKeyDown(this.stage.BUTTON_Z)&&this.frame_count%5==0&&(this.stage.shotmanager.create(),this.game.playSound("shot")),this.stage.isKeyDown(this.stage.BUTTON_LEFT)&&(this.x-=this.SPEED),this.stage.isKeyDown(this.stage.BUTTON_RIGHT)&&(this.x+=this.SPEED),this.stage.isKeyDown(this.stage.BUTTON_DOWN)&&(this.y+=this.SPEED),this.stage.isKeyDown(this.stage.BUTTON_UP)&&(this.y-=this.SPEED),this.x<0&&(this.x=0),this.x>this.stage.width&&(this.x=this.stage.width),this.y<0&&(this.y=0),this.y>this.stage.height&&(this.y=this.stage.height),this.stage.isKeyDown(this.stage.BUTTON_LEFT)&&!this.stage.isKeyDown(this.stage.BUTTON_RIGHT)?this.indexY=1:this.stage.isKeyDown(this.stage.BUTTON_RIGHT)&&!this.stage.isKeyDown(this.stage.BUTTON_LEFT)?this.indexY=2:this.indexY=0,this.frame_count%this.ANIMATION_SPAN===0&&(this.indexX++,0===this.indexY&&this.indexX>7?this.indexX=0:(1===this.indexY||2===this.indexY)&&this.indexX>7&&(this.indexX=4))},n.exports=u},{"./base":5,lodash:1}],7:[function(t,n,r){"use strict";var e=t("lodash"),i=t("./base"),u=function(t){i.apply(this,arguments),this.id=1e3*Math.random(),this.indexX=3,this.indexY=3};e.extend(u.prototype,i.prototype),e.extend(u,i),u.prototype.WIDTH=16,u.prototype.HEIGHT=48,u.prototype.IMAGE_KEY="shot",u.prototype.SPEED=8,u.prototype.init=function(){i.prototype.init.apply(this,arguments),this.x=this.stage.character.x,this.y=this.stage.character.y},u.prototype.run=function(){i.prototype.run.apply(this,arguments),this.y-=this.SPEED},n.exports=u},{"./base":5,lodash:1}],8:[function(t,n,r){"use strict";var e=function(t){this.game=t,this.frame_count=0};e.prototype.init=function(){this.frame_count=0},e.prototype.run=function(){this.frame_count++},e.prototype.updateDisplay=function(){console.error("updateDisplay method must be overridden")},n.exports=e},{}],9:[function(t,n,r){"use strict";var e=t("lodash"),i=t("./base"),u=function(t){i.apply(this,arguments),this.loadedImageNum=0,this.loadedSoundNum=0,this.loadedBGMNum=0};e.extend(u.prototype,i.prototype),e.extend(u,i),u.prototype.init=function(){this._loadImages(),this._loadSounds(),this._loadBGMs()},u.prototype.run=function(){var t=Object.keys(this.game.images).length+Object.keys(this.game.sounds).length+Object.keys(this.game.bgms).length,n=this.loadedImageNum+this.loadedSoundNum+this.loadedBGMNum;n>=t&&this.game.notifyLoadingDone()},u.prototype.updateDisplay=function(){var t=Object.keys(this.game.images).length+Object.keys(this.game.sounds).length+Object.keys(this.game.bgms).length,n=this.loadedImageNum+this.loadedSoundNum+this.loadedBGMNum;this.game.surface.save(),this.game.surface.clearRect(0,0,this.game.width,this.game.height),this.game.surface.fillStyle="rgb( 0, 0, 0 )",this.game.surface.textAlign="right",this.game.surface.fillText("loading...",180,200),this.game.surface.fillText(n+"/"+t,200,240),this.game.surface.restore()},u.prototype._loadImages=function(){var t=this,n=function(){t.loadedImageNum++};for(var r in this.game.IMAGES)this.game.images[r]=new Image,this.game.images[r].src=this.game.IMAGES[r],this.game.images[r].onload=n},u.prototype._loadSounds=function(){var t=this,n=function(n){t.loadedBGMNum++};for(var r in this.game.SOUNDS)this.game.sounds[r]=new Audio(this.game.SOUNDS[r]),this.game.sounds[r].addEventListener("canplay",n),this.game.sounds[r].load()},u.prototype._loadBGMs=function(){var t=this,n=function(n){t.loadedBGMNum++};for(var r in this.game.BGMS)this.game.bgms[r]=new Audio(this.game.BGMS[r]),this.game.bgms[r].addEventListener("canplay",n),this.game.bgms[r].load()},n.exports=u},{"./base":8,lodash:1}],10:[function(t,n,r){"use strict";var e=t("lodash"),i=t("./base"),u=function(t){i.apply(this,arguments)};e.extend(u.prototype,i.prototype),e.extend(u,i),u.prototype.SHOW_TRANSITION_COUNT=100,u.prototype.init=function(){i.prototype.init.apply(this,arguments),this.game.playBGM("title")},u.prototype.handleKeyDown=function(t){switch(t.keyCode){case 90:this.game.playSound("select"),this.game.notifyOpeningDone()}},u.prototype.run=function(){i.prototype.run.apply(this,arguments)},u.prototype.updateDisplay=function(){this.game.surface.clearRect(0,0,this.game.width,this.game.height),this.game.surface.save(),this.frame_count<this.SHOW_TRANSITION_COUNT?this.game.surface.globalAlpha=this.frame_count/this.SHOW_TRANSITION_COUNT:this.game.surface.globalAlpha=1;var t=this.game.getImage("title_bg");this.game.surface.drawImage(t,0,0,t.width,t.height,0,0,this.game.width,this.game.height),this.game.surface.font="24px 'Comic Sans MS'",this.game.surface.textAlign="center",this.game.surface.textBaseAlign="middle",this.game.surface.fillStyle="rgb( 0, 0, 0 )",this.game.surface.fillText("Touhou Project",120,200),this.game.surface.fillText("on Javascript",120,250),this.game.surface.fillText("Press Z to Start",120,350),this.game.surface.restore()},n.exports=u},{"./base":8,lodash:1}],11:[function(t,n,r){"use strict";var e=t("lodash"),i=t("./base"),u=t("../object/character"),o=t("../manager/shot"),a=function(t){i.apply(this,arguments),this.score=0,this.character=new u(this),this.shotmanager=new o(this),this.keyflag=0,this.width=this.game.width-this.SIDE_WIDTH,this.height=this.game.height};e.extend(a.prototype,i.prototype),e.extend(a,i),a.prototype.BUTTON_LEFT=1,a.prototype.BUTTON_UP=2,a.prototype.BUTTON_RIGHT=4,a.prototype.BUTTON_DOWN=8,a.prototype.BUTTON_Z=16,a.prototype.BUTTON_X=32,a.prototype.BUTTON_SHIFT=64,a.prototype.BUTTON_SPACE=128,a.prototype.SIDE_WIDTH=160,a.prototype.BACKGROUND_SCROLL_SPEED=3,a.prototype.SHOW_TITLE_COUNT=300,a.prototype.init=function(){i.prototype.init.apply(this,arguments),this.character.init(),this.shotmanager.init(),this.game.playBGM("stage1")},a.prototype.handleKeyDown=function(t){this.keyflag|=this._keyCodeToBitCode(t.keyCode)},a.prototype.handleKeyUp=function(t){this.keyflag&=~this._keyCodeToBitCode(t.keyCode)},a.prototype.isKeyDown=function(t){return this.keyflag&t},a.prototype._keyCodeToBitCode=function(t){var n;switch(t){case 16:n=this.BUTTON_SHIFT;break;case 32:n=this.BUTTON_SPACE;break;case 37:n=this.BUTTON_LEFT;break;case 38:n=this.BUTTON_UP;break;case 39:n=this.BUTTON_RIGHT;break;case 40:n=this.BUTTON_DOWN;break;case 88:n=this.BUTTON_X;break;case 90:n=this.BUTTON_Z}return n},a.prototype.run=function(){i.prototype.run.apply(this,arguments),this.character.run(),this.shotmanager.run()},a.prototype.updateDisplay=function(){this.game.surface.clearRect(0,0,this.game.width,this.game.height),this._showBackground(),this.character.updateDisplay(),this.shotmanager.updateDisplay(),this._showSidebar(),this._showStageTitle()},a.prototype._showSidebar=function(){var t=this.game.width-this.SIDE_WIDTH,n=0;this.game.surface.save(),this.game.surface.fillStyle="rgb(0, 0, 0)",this.game.surface.fillRect(t,n,this.SIDE_WIDTH,this.game.height),this.game.surface.fillStyle="rgb(255, 255, 255)",this.game.surface.font="16px 'Comic Sans MS'",this.game.surface.textAlign="right",this.game.surface.fillText("Score:",t+70,n+100),this.game.surface.fillText(this.score,t+140,n+100),this.game.surface.fillText("Player:",t+70,n+140),this.game.surface.fillText("0",t+140,n+140),this.game.surface.fillText("Bomb:",t+70,n+180),this.game.surface.fillText("0",t+140,n+180),this.game.surface.restore()},a.prototype._showBackground=function(){var t=0,n=this.frame_count*this.BACKGROUND_SCROLL_SPEED%this.game.height;this.game.surface.save();var r=this.game.getImage("stage1_bg");this.game.surface.drawImage(r,0,0,r.width,r.height,t,n,this.game.width-this.SIDE_WIDTH,this.game.height),this.game.surface.drawImage(r,0,0,r.width,r.height,t,n-this.game.height,this.game.width-this.SIDE_WIDTH,this.game.height),this.game.surface.restore()},a.prototype._showStageTitle=function(){if(!(this.frame_count>this.SHOW_TITLE_COUNT)){this.game.surface.save();var t=1;this.frame_count<this.SHOW_TITLE_COUNT/3?t=3*this.frame_count/this.SHOW_TITLE_COUNT:this.SHOW_TITLE_COUNT/3<this.frame_count&&this.frame_count<2*this.SHOW_TITLE_COUNT/3?t=1:2*this.SHOW_TITLE_COUNT/3<this.frame_count&&(t=3*(this.SHOW_TITLE_COUNT-this.frame_count)/this.SHOW_TITLE_COUNT),this.game.surface.fillStyle="rgb( 0, 0, 0 )",this.game.surface.globalAlpha=.5*t,this.game.surface.fillRect(0,170,480,100),this.game.surface.globalAlpha=t,this.game.surface.fillStyle="rgb( 255, 255, 255 )",this.game.surface.textAlign="left",this.game.surface.font="16px Arial",this.game.surface.fillText("Stage 1",100,210),this.game.surface.textAlign="right",this.game.surface.fillText("夢幻夜行絵巻 ～ Mystic Flier",380,250),this.game.surface.fillRect(100,225,280,1),this.game.surface.restore()}},n.exports=a},{"../manager/shot":4,"../object/character":6,"./base":8,lodash:1}]},{},[3]);