!function t(r,n,e){function a(i,u){if(!n[i]){if(!r[i]){var c="function"==typeof require&&require;if(!u&&c)return c(i,!0);if(o)return o(i,!0);var s=new Error("Cannot find module '"+i+"'");throw s.code="MODULE_NOT_FOUND",s}var h=n[i]={exports:{}};r[i][0].call(h.exports,function(t){var n=r[i][1][t];return a(n?n:t)},h,h.exports,t,r,n,e)}return n[i].exports}for(var o="function"==typeof require&&require,i=0;i<e.length;i++)a(e[i]);return a}({1:[function(t,r,n){(function(t){(function(){function e(t,r){return t.set(r[0],r[1]),t}function a(t,r){return t.add(r),t}function o(t,r,n){var e=n.length;switch(e){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}function i(t,r,n,e){for(var a=-1,o=t.length;++a<o;){var i=t[a];r(e,i,n(i),t)}return e}function u(t,r){for(var n=-1,e=t.length,a=-1,o=r.length,i=Array(e+o);++n<e;)i[n]=t[n];for(;++a<o;)i[n++]=r[a];return i}function c(t,r){for(var n=-1,e=t.length;++n<e&&r(t[n],n,t)!==!1;);return t}function s(t,r){for(var n=t.length;n--&&r(t[n],n,t)!==!1;);return t}function h(t,r){for(var n=-1,e=t.length;++n<e;)if(!r(t[n],n,t))return!1;return!0}function f(t,r){for(var n=-1,e=t.length,a=-1,o=[];++n<e;){var i=t[n];r(i,n,t)&&(o[++a]=i)}return o}function l(t,r){return!!t.length&&b(t,r,0)>-1}function p(t,r,n){for(var e=-1,a=t.length;++e<a;)if(n(r,t[e]))return!0;return!1}function v(t,r){for(var n=-1,e=t.length,a=Array(e);++n<e;)a[n]=r(t[n],n,t);return a}function g(t,r){for(var n=-1,e=r.length,a=t.length;++n<e;)t[a+n]=r[n];return t}function w(t,r,n,e){var a=-1,o=t.length;for(e&&o&&(n=t[++a]);++a<o;)n=r(n,t[a],a,t);return n}function m(t,r,n,e){var a=t.length;for(e&&a&&(n=t[--a]);a--;)n=r(n,t[a],a,t);return n}function _(t,r){for(var n=-1,e=t.length;++n<e;)if(r(t[n],n,t))return!0;return!1}function y(t,r,n){for(var e=-1,a=t.length;++e<a;){var o=t[e],i=r(o);if(null!=i&&(u===Z?i===i:n(i,u)))var u=i,c=o}return c}function d(t,r,n,e){var a;return n(t,function(t,n,o){return r(t,n,o)?(a=e?n:t,!1):void 0}),a}function x(t,r,n){for(var e=t.length,a=n?e:-1;n?a--:++a<e;)if(r(t[a],a,t))return a;return-1}function b(t,r,n){if(r!==r)return L(t,n);for(var e=n-1,a=t.length;++e<a;)if(t[e]===r)return e;return-1}function I(t,r,n,e,a){return a(t,function(t,a,o){n=e?(e=!1,t):r(n,t,a,o)}),n}function T(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}function O(t,r){for(var n,e=-1,a=t.length;++e<a;){var o=r(t[e]);o!==Z&&(n=n===Z?o:n+o)}return n}function A(t,r){for(var n=-1,e=Array(t);++n<t;)e[n]=r(n);return e}function C(t,r){return v(r,function(r){return[r,t[r]]})}function E(t){return function(r){return t(r)}}function S(t,r){return v(r,function(r){return t[r]})}function j(t,r){for(var n=-1,e=t.length;++n<e&&b(r,t[n],0)>-1;);return n}function N(t,r){for(var n=t.length;n--&&b(r,t[n],0)>-1;);return n}function D(t){return t&&t.Object===Object?t:null}function k(t,r){if(t!==r){var n=null===t,e=t===Z,a=t===t,o=null===r,i=r===Z,u=r===r;if(t>r&&!o||!a||n&&!i&&u||e&&u)return 1;if(r>t&&!n||!u||o&&!e&&a||i&&a)return-1}return 0}function R(t,r,n){for(var e=-1,a=t.criteria,o=r.criteria,i=a.length,u=n.length;++e<i;){var c=k(a[e],o[e]);if(c){if(e>=u)return c;var s=n[e];return c*("desc"==s?-1:1)}}return t.index-r.index}function B(t,r){for(var n=t.length,e=0;n--;)t[n]===r&&e++;return e}function U(t){return xn[t]}function W(t){return bn[t]}function M(t){return"\\"+On[t]}function L(t,r,n){for(var e=t.length,a=r+(n?0:-1);n?a--:++a<e;){var o=t[a];if(o!==o)return a}return-1}function H(t){var r=!1;if(null!=t&&"function"!=typeof t.toString)try{r=!!(t+"")}catch(n){}return r}function G(t,r){return t="number"==typeof t||Ar.test(t)?+t:-1,r=null==r?xt:r,t>-1&&t%1==0&&r>t}function P(t){for(var r,n=[];!(r=t.next()).done;)n.push(r.value);return n}function K(t){var r=-1,n=Array(t.size);return t.forEach(function(t,e){n[++r]=[e,t]}),n}function Y(t,r){for(var n=-1,e=t.length,a=-1,o=[];++n<e;){var i=t[n];i!==r&&i!==Ct||(t[n]=Ct,o[++a]=n)}return o}function F(t){var r=-1,n=Array(t.size);return t.forEach(function(t){n[++r]=t}),n}function $(t){if(!t||!pn.test(t))return t.length;for(var r=ln.lastIndex=0;ln.test(t);)r++;return r}function X(t){return t.match(ln)}function z(t){return In[t]}function q(t){function r(t){if(Li(t)&&!xh(t)&&!(t instanceof Ar)){if(t instanceof D)return t;if(Yc.call(t,"__wrapped__"))return ka(t)}return new D(t)}function n(){}function D(t,r){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=Z}function Ar(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Tt,this.__views__=[]}function jr(){var t=new Ar(this.__wrapped__);return t.__actions__=Me(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Me(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Me(this.__views__),t}function Nr(){if(this.__filtered__){var t=new Ar(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Dr(){var t=this.__wrapped__.value(),r=this.__dir__,n=xh(t),e=0>r,a=n?t.length:0,o=wa(0,a,this.__views__),i=o.start,u=o.end,c=u-i,s=e?u:i-1,h=this.__iteratees__,f=h.length,l=0,p=gs(c,this.__takeCount__);if(!n||vt>a||a==c&&p==c)return Ae(t,this.__actions__);var v=[];t:for(;c--&&p>l;){s+=r;for(var g=-1,w=t[s];++g<f;){var m=h[g],_=m.iteratee,y=m.type,d=_(w);if(y==wt)w=d;else if(!d){if(y==gt)continue t;break t}}v[l++]=w}return v}function kr(){}function Rr(t,r){return Ur(t,r)&&delete t[r]}function Br(t,r){if(bs){var n=t[r];return n===yt?Z:n}return Yc.call(t,r)?t[r]:Z}function Ur(t,r){return bs?t[r]!==Z:Yc.call(t,r)}function Wr(t,r,n){t[r]=bs&&n===Z?yt:n}function Mr(t){var r=-1,n=t?t.length:0;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}function Lr(){this.__data__={hash:new kr,map:ys?new ys:[],string:new kr}}function Hr(t){var r=this.__data__;return Ta(t)?Rr("string"==typeof t?r.string:r.hash,t):ys?r.map["delete"](t):Qr(r.map,t)}function Gr(t){var r=this.__data__;return Ta(t)?Br("string"==typeof t?r.string:r.hash,t):ys?r.map.get(t):tn(r.map,t)}function Pr(t){var r=this.__data__;return Ta(t)?Ur("string"==typeof t?r.string:r.hash,t):ys?r.map.has(t):rn(r.map,t)}function Kr(t,r){var n=this.__data__;return Ta(t)?Wr("string"==typeof t?n.string:n.hash,t,r):ys?n.map.set(t,r):en(n.map,t,r),this}function Yr(t){var r=-1,n=t?t.length:0;for(this.__data__=new Mr;++r<n;)this.push(t[r])}function Fr(t,r){var n=t.__data__;if(Ta(r)){var e=n.__data__,a="string"==typeof r?e.string:e.hash;return a[r]===yt}return n.has(r)}function $r(t){var r=this.__data__;if(Ta(t)){var n=r.__data__,e="string"==typeof t?n.string:n.hash;e[t]=yt}else r.set(t,yt)}function Xr(t){var r=-1,n=t?t.length:0;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}function zr(){this.__data__={array:[],map:null}}function qr(t){var r=this.__data__,n=r.array;return n?Qr(n,t):r.map["delete"](t)}function Zr(t){var r=this.__data__,n=r.array;return n?tn(n,t):r.map.get(t)}function Jr(t){var r=this.__data__,n=r.array;return n?rn(n,t):r.map.has(t)}function Vr(t,r){var n=this.__data__,e=n.array;e&&(e.length<vt-1?en(e,t,r):(n.array=null,n.map=new Mr(e)));var a=n.map;return a&&a.set(t,r),this}function Qr(t,r){var n=nn(t,r);if(0>n)return!1;var e=t.length-1;return n==e?t.pop():cs.call(t,n,1),!0}function tn(t,r){var n=nn(t,r);return 0>n?Z:t[n][1]}function rn(t,r){return nn(t,r)>-1}function nn(t,r){for(var n=t.length;n--;)if(di(t[n][0],r))return n;return-1}function en(t,r,n){var e=nn(t,r);0>e?t.push([r,n]):t[e][1]=n}function an(t,r,n,e){return t===Z||di(t,Pc[n])&&!Yc.call(e,n)?r:t}function on(t,r,n){(n===Z||di(t[r],n))&&("number"!=typeof r||n!==Z||r in t)||(t[r]=n)}function un(t,r,n){var e=t[r];Yc.call(t,r)&&di(e,n)&&(n!==Z||r in t)||(t[r]=n)}function cn(t,r,n,e){return Ns(t,function(t,a,o){r(e,t,n(t),o)}),e}function sn(t,r){return t&&Le(r,Ou(r),t)}function hn(t,r){for(var n=-1,e=null==t,a=r.length,o=Array(a);++n<a;)o[n]=e?Z:bu(t,r[n]);return o}function ln(t){return Ai(t)?t:[]}function xn(t){return"function"==typeof t?t:vc}function bn(t){return xh(t)?t:Da(t)}function In(t,r,n){return t===t&&(n!==Z&&(t=n>=t?t:n),r!==Z&&(t=t>=r?t:r)),t}function Tn(t,r,n,e,a,o){var i;if(n&&(i=a?n(t,e,a,o):n(t)),i!==Z)return i;if(!Mi(t))return t;var u=xh(t);if(u){if(i=_a(t),!r)return Me(t,i)}else{var s=ga(t),h=s==kt||s==Rt;if(bh(t))return Se(t,r);if(s==Wt||s==Et||h&&!a){if(H(t))return a?t:{};if(i=ya(h?{}:t),!r)return Ge(t,sn(i,t))}else{if(!dn[s])return a?t:{};i=da(t,s,r)}}o||(o=new Xr);var f=o.get(t);return f?f:(o.set(t,i),(u?c:Ln)(t,function(e,a){un(i,a,Tn(e,r,n,a,t,o))}),u?i:Ge(t,i))}function On(t){var r=Ou(t),n=r.length;return function(e){if(null==e)return!n;for(var a=n;a--;){var o=r[a],i=t[o],u=e[o];if(u===Z&&!(o in Object(e))||!i(u))return!1}return!0}}function En(t){return Mi(t)?os(t):{}}function Sn(t,r,n){if("function"!=typeof t)throw new Hc(_t);return us(function(){t.apply(Z,n)},r)}function Nn(t,r,n,e){var a=-1,o=l,i=!0,u=t.length,c=[],s=r.length;if(!u)return c;n&&(r=v(r,E(n))),e?(o=p,i=!1):r.length>=vt&&(o=Fr,i=!1,r=new Yr(r));t:for(;++a<u;){var h=t[a],f=n?n(h):h;if(i&&f===f){for(var g=s;g--;)if(r[g]===f)continue t;c.push(h)}else o(r,f,e)||c.push(h)}return c}function Dn(t,r){var n=!0;return Ns(t,function(t,e,a){return n=!!r(t,e,a)}),n}function kn(t,r,n,e){var a=t.length;for(n=uu(n),0>n&&(n=-n>a?0:a+n),e=e===Z||e>a?a:uu(e),0>e&&(e+=a),e=n>e?0:cu(e);e>n;)t[n++]=r;return t}function Rn(t,r){var n=[];return Ns(t,function(t,e,a){r(t,e,a)&&n.push(t)}),n}function Wn(t,r,n,e){e||(e=[]);for(var a=-1,o=t.length;++a<o;){var i=t[a];r>0&&Ai(i)&&(n||xh(i)||Ii(i))?r>1?Wn(i,r-1,n,e):g(e,i):n||(e[e.length]=i)}return e}function Mn(t,r){return null==t?t:ks(t,r,Au)}function Ln(t,r){return t&&ks(t,r,Ou)}function Hn(t,r){return t&&Rs(t,r,Ou)}function Gn(t,r){return f(r,function(r){return Bi(t[r])})}function Pn(t,r){r=Ia(r,t)?[r+""]:bn(r);for(var n=0,e=r.length;null!=t&&e>n;)t=t[r[n++]];return n&&n==e?t:Z}function Kn(t,r){return Yc.call(t,r)||"object"==typeof t&&r in t&&null===ns(t)}function Yn(t,r){return r in Object(t)}function Fn(t,r,n){return t>=gs(r,n)&&t<vs(r,n)}function $n(t,r,n){for(var e=n?p:l,a=t.length,o=a,i=Array(a),u=[];o--;){var c=t[o];o&&r&&(c=v(c,E(r))),i[o]=!n&&(r||c.length>=120)?new Yr(o&&c):Z}c=t[0];var s=-1,h=c.length,f=i[0];t:for(;++s<h;){var g=c[s],w=r?r(g):g;if(!(f?Fr(f,w):e(u,w,n))){for(var o=a;--o;){var m=i[o];if(!(m?Fr(m,w):e(t[o],w,n)))continue t}f&&f.push(w),u.push(g)}}return u}function Xn(t,r,n,e){return Ln(t,function(t,a,o){r(e,n(t),a,o)}),e}function zn(t,r,n){Ia(r,t)||(r=bn(r),t=ja(t,r),r=Ja(r));var e=null==t?t:t[r];return null==e?Z:o(e,t,n)}function qn(t,r,n,e,a){return t===r?!0:null==t||null==r||!Mi(t)&&!Li(r)?t!==t&&r!==r:Zn(t,r,qn,n,e,a)}function Zn(t,r,n,e,a,o){var i=xh(t),u=xh(r),c=St,s=St;i||(c=ga(t),c==Et?c=Wt:c!=Wt&&(i=tu(t))),u||(s=ga(r),s==Et?s=Wt:s!=Wt&&(u=tu(r)));var h=c==Wt&&!H(t),f=s==Wt&&!H(r),l=c==s;if(l&&!i&&!h)return ca(t,r,c,n,e,a);var p=a&st;if(!p){var v=h&&Yc.call(t,"__wrapped__"),g=f&&Yc.call(r,"__wrapped__");if(v||g)return n(v?t.value():t,g?r.value():r,e,a,o)}return l?(o||(o=new Xr),(i?ua:sa)(t,r,n,e,a,o)):!1}function Jn(t,r,n,e){var a=n.length,o=a,i=!e;if(null==t)return!o;for(t=Object(t);a--;){var u=n[a];if(i&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++a<o;){u=n[a];var c=u[0],s=t[c],h=u[1];if(i&&u[2]){if(s===Z&&!(c in t))return!1}else{var f=new Xr,l=e?e(s,h,c,t,r,f):Z;if(!(l===Z?qn(h,s,e,ct|st,f):l))return!1}}return!0}function Vn(t){var r=typeof t;return"function"==r?t:null==t?vc:"object"==r?xh(t)?ee(t[0],t[1]):ne(t):bc(t)}function Qn(t){return ps(Object(t))}function te(t){t=null==t?t:Object(t);var r=[];for(var n in t)r.push(n);return r}function re(t,r){var n=-1,e=Oi(t)?Array(t.length):[];return Ns(t,function(t,a,o){e[++n]=r(t,a,o)}),e}function ne(t){var r=la(t);if(1==r.length&&r[0][2]){var n=r[0][0],e=r[0][1];return function(t){return null==t?!1:t[n]===e&&(e!==Z||n in Object(t))}}return function(n){return n===t||Jn(n,t,r)}}function ee(t,r){return function(n){var e=bu(n,t);return e===Z&&e===r?Tu(n,t):qn(r,e,Z,ct|st)}}function ae(t,r,n,e,a){if(t!==r){var o=xh(r)||tu(r)?Z:Au(r);c(o||r,function(i,u){if(o&&(u=i,i=r[u]),Mi(i))a||(a=new Xr),oe(t,r,u,n,ae,e,a);else{var c=e?e(t[u],i,u+"",t,r,a):Z;c===Z&&(c=i),on(t,u,c)}})}}function oe(t,r,n,e,a,o,i){var u=t[n],c=r[n],s=i.get(c);if(s)return void on(t,n,s);var h=o?o(u,c,n+"",t,r,i):Z,f=h===Z;f&&(h=c,xh(c)||tu(c)?xh(u)?h=u:Ai(u)?h=Me(u):(f=!1,h=Tn(c,!0)):zi(c)||Ii(c)?Ii(u)?h=hu(u):!Mi(u)||e&&Bi(u)?(f=!1,h=Tn(c,!0)):h=u:f=!1),i.set(c,h),f&&a(h,c,e,o,i),on(t,n,h)}function ie(t,r,n){var e=-1,a=fa();r=v(r.length?r:Array(1),function(t){return a(t)});var o=re(t,function(t,n,a){var o=v(r,function(r){return r(t)});return{criteria:o,index:++e,value:t}});return T(o,function(t,r){return R(t,r,n)})}function ue(t,r){return t=Object(t),w(r,function(r,n){return n in t&&(r[n]=t[n]),r},{})}function ce(t,r){var n={};return Mn(t,function(t,e){r(t,e)&&(n[e]=t)}),n}function se(t){return function(r){return null==r?Z:r[t]}}function he(t){return function(r){return Pn(r,t)}}function fe(t,r){return le(t,r)}function le(t,r,n){var e=-1,a=r.length,o=t;for(n&&(o=v(t,function(t){return n(t)}));++e<a;)for(var i=0,u=r[e],c=n?n(u):u;(i=b(o,c,i))>-1;)o!==t&&cs.call(o,i,1),cs.call(t,i,1);return t}function pe(t,r){for(var n=t?r.length:0,e=n-1;n--;){var a=r[n];if(e==n||a!=o){var o=a;if(G(a))cs.call(t,a,1);else if(Ia(a,t))delete t[a];else{var i=bn(a),u=ja(t,i);null!=u&&delete u[Ja(i)]}}}return t}function ve(t,r){return t+hs(ms()*(r-t+1))}function ge(t,r,n,e){for(var a=-1,o=vs(ss((r-t)/(n||1)),0),i=Array(o);o--;)i[e?o:++a]=t,t+=n;return i}function we(t,r,n,e){r=Ia(r,t)?[r+""]:bn(r);for(var a=-1,o=r.length,i=o-1,u=t;null!=u&&++a<o;){var c=r[a];if(Mi(u)){var s=n;if(a!=i){var h=u[c];s=e?e(h,c,u):Z,s===Z&&(s=null==h?G(r[a+1])?[]:{}:h)}un(u,c,s)}u=u[c]}return t}function me(t,r,n){var e=-1,a=t.length;0>r&&(r=-r>a?0:a+r),n=n>a?a:n,0>n&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++e<a;)o[e]=t[e+r];return o}function _e(t,r){var n;return Ns(t,function(t,e,a){return n=r(t,e,a),!n}),!!n}function ye(t,r,n){var e=0,a=t?t.length:e;if("number"==typeof r&&r===r&&At>=a){for(;a>e;){var o=e+a>>>1,i=t[o];(n?r>=i:r>i)&&null!==i?e=o+1:a=o}return a}return de(t,r,vc,n)}function de(t,r,n,e){r=n(r);for(var a=0,o=t?t.length:0,i=r!==r,u=null===r,c=r===Z;o>a;){var s=hs((a+o)/2),h=n(t[s]),f=h!==Z,l=h===h;if(i)var p=l||e;else p=u?l&&f&&(e||null!=h):c?l&&(e||f):null==h?!1:e?r>=h:r>h;p?a=s+1:o=s}return gs(o,Ot)}function xe(t){return be(t)}function be(t,r){for(var n=0,e=t.length,a=t[0],o=r?r(a):a,i=o,u=0,c=[a];++n<e;)a=t[n],o=r?r(a):a,di(o,i)||(i=o,c[++u]=a);return c}function Ie(t,r,n){var e=-1,a=l,o=t.length,i=!0,u=[],c=u;if(n)i=!1,a=p;else if(o>=vt){var s=r?null:Us(t);if(s)return F(s);i=!1,a=Fr,c=new Yr}else c=r?[]:u;t:for(;++e<o;){var h=t[e],f=r?r(h):h;if(i&&f===f){for(var v=c.length;v--;)if(c[v]===f)continue t;r&&c.push(f),u.push(h)}else a(c,f,n)||(c!==u&&c.push(f),u.push(h))}return u}function Te(t,r){r=Ia(r,t)?[r+""]:bn(r),t=ja(t,r);var n=Ja(r);return null!=t&&Iu(t,n)?delete t[n]:!0}function Oe(t,r,n,e){for(var a=t.length,o=e?a:-1;(e?o--:++o<a)&&r(t[o],o,t););return n?me(t,e?0:o,e?o+1:a):me(t,e?o+1:0,e?a:o)}function Ae(t,r){var n=t;return n instanceof Ar&&(n=n.value()),w(r,function(t,r){return r.func.apply(r.thisArg,g([t],r.args))},n)}function Ce(t,r,n){for(var e=-1,a=t.length;++e<a;)var o=o?g(Nn(o,t[e],r,n),Nn(t[e],o,r,n)):t[e];return o&&o.length?Ie(o,r,n):[]}function Ee(t,r,n){for(var e=-1,a=t.length,o=r.length,i={};++e<a;)n(i,t[e],o>e?r[e]:Z);return i}function Se(t,r){if(r)return t.slice();var n=t.constructor,e=new n(t.length);return t.copy(e),e}function je(t){var r=t.constructor,n=new r(t.byteLength),e=new Qc(n);return e.set(new Qc(t)),n}function Ne(t){var r=t.constructor;return w(K(t),e,new r)}function De(t){var r=t.constructor,n=new r(t.source,dr.exec(t));return n.lastIndex=t.lastIndex,n}function ke(t){var r=t.constructor;return w(F(t),a,new r)}function Re(t){return Vc?Object(Es.call(t)):{}}function Be(t,r){var n=t.buffer,e=r?je(n):n,a=t.constructor;return new a(e,t.byteOffset,t.length)}function Ue(t,r,n,e){for(var a=-1,o=t.length,i=n.length,u=-1,c=r.length,s=vs(o-i,0),h=Array(c+s),f=!e;++u<c;)h[u]=r[u];for(;++a<i;)(f||o>a)&&(h[n[a]]=t[a]);for(;s--;)h[u++]=t[a++];return h}function We(t,r,n,e){for(var a=-1,o=t.length,i=-1,u=n.length,c=-1,s=r.length,h=vs(o-u,0),f=Array(h+s),l=!e;++a<h;)f[a]=t[a];for(var p=a;++c<s;)f[p+c]=r[c];for(;++i<u;)(l||o>a)&&(f[p+n[i]]=t[a++]);return f}function Me(t,r){var n=-1,e=t.length;for(r||(r=Array(e));++n<e;)r[n]=t[n];return r}function Le(t,r,n){return He(t,r,n)}function He(t,r,n,e){n||(n={});for(var a=-1,o=r.length;++a<o;){var i=r[a],u=e?e(n[i],t[i],i,n,t):t[i];un(n,i,u)}return n}function Ge(t,r){return Le(t,Ls(t),r)}function Pe(t,r){return function(n,e){var a=xh(n)?i:cn,o=r?r():{};return a(n,t,fa(e),o)}}function Ke(t){return hi(function(r,n){var e=-1,a=n.length,o=a>1?n[a-1]:Z,i=a>2?n[2]:Z;for(o="function"==typeof o?(a--,o):Z,i&&ba(n[0],n[1],i)&&(o=3>a?Z:o,a=1),r=Object(r);++e<a;){var u=n[e];u&&t(r,u,e,o)}return r})}function Ye(t,r){return function(n,e){if(null==n)return n;if(!Oi(n))return t(n,e);for(var a=n.length,o=r?a:-1,i=Object(n);(r?o--:++o<a)&&e(i[o],o,i)!==!1;);return n}}function Fe(t){return function(r,n,e){for(var a=-1,o=Object(r),i=e(r),u=i.length;u--;){var c=i[t?u:++a];if(n(o[c],c,o)===!1)break}return r}}function $e(t,r,n){function e(){var r=this&&this!==Bn&&this instanceof e?o:t;return r.apply(a?n:this,arguments)}var a=r&V,o=qe(t);return e}function Xe(t){return function(r){r=lu(r);var n=pn.test(r)?X(r):Z,e=n?n[0]:r.charAt(0),a=n?n.slice(1).join(""):r.slice(1);return e[t]()+a}}function ze(t){return function(r){return w(hc(Yu(r)),t,"")}}function qe(t){return function(){var r=arguments;switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);case 5:return new t(r[0],r[1],r[2],r[3],r[4]);case 6:return new t(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new t(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var n=En(t.prototype),e=t.apply(n,r);return Mi(e)?e:n}}function Ze(t,r,n){function e(){for(var i=arguments.length,u=Array(i),c=i,s=va(e);c--;)u[c]=arguments[c];var h=3>i&&u[0]!==s&&u[i-1]!==s?[]:Y(u,s);if(i-=h.length,n>i)return aa(t,r,Ve,e.placeholder,Z,u,h,Z,Z,n-i);var f=this&&this!==Bn&&this instanceof e?a:t;return o(f,this,u)}var a=qe(t);return e}function Je(t){return hi(function(r){r=Wn(r,1);var n=r.length,e=n,a=D.prototype.thru;for(t&&r.reverse();e--;){var o=r[e];if("function"!=typeof o)throw new Hc(_t);if(a&&!i&&"wrapper"==ha(o))var i=new D([],!0)}for(e=i?e:n;++e<n;){o=r[e];var u=ha(o),c="wrapper"==u?Ws(o):Z;i=c&&Oa(c[0])&&c[1]==(ot|rt|et|it)&&!c[4].length&&1==c[9]?i[ha(c[0])].apply(i,c[3]):1==o.length&&Oa(o)?i[u]():i.thru(o)}return function(){var t=arguments,e=t[0];if(i&&1==t.length&&xh(e)&&e.length>=vt)return i.plant(e).value();for(var a=0,o=n?r[a].apply(this,t):e;++a<n;)o=r[a].call(this,o);return o}})}function Ve(t,r,n,e,a,o,i,u,c,s){function h(){for(var m=arguments.length,_=m,y=Array(m);_--;)y[_]=arguments[_];if(v)var d=va(h),x=B(y,d);if(e&&(y=Ue(y,e,a,v)),o&&(y=We(y,o,i,v)),m-=x,v&&s>m){var b=Y(y,d);return aa(t,r,Ve,h.placeholder,n,y,b,u,c,s-m)}var I=l?n:this,T=p?I[t]:t;return m=y.length,u?y=Na(y,u):g&&m>1&&y.reverse(),f&&m>c&&(y.length=c),this&&this!==Bn&&this instanceof h&&(T=w||qe(T)),T.apply(I,y)}var f=r&ot,l=r&V,p=r&Q,v=r&(rt|nt),g=r&ut,w=p?Z:qe(t);return h}function Qe(t,r){return function(n,e){return Xn(n,t,r(e),{})}}function ta(t){return hi(function(r){return r=v(Wn(r,1),fa()),hi(function(n){var e=this;return t(r,function(t){return o(t,e,n)})})})}function ra(t,r,n){r=uu(r);var e=$(t);if(!r||e>=r)return"";var a=r-e;n=n===Z?" ":n+"";var o=Vu(n,ss(a/$(n)));return pn.test(n)?X(o).slice(0,a).join(""):o.slice(0,a)}function na(t,r,n,e){function a(){for(var r=-1,c=arguments.length,s=-1,h=e.length,f=Array(h+c),l=this&&this!==Bn&&this instanceof a?u:t;++s<h;)f[s]=e[s];for(;c--;)f[s++]=arguments[++r];return o(l,i?n:this,f)}var i=r&V,u=qe(t);return a}function ea(t){return function(r,n,e){return e&&"number"!=typeof e&&ba(r,n,e)&&(n=e=Z),r=su(r),r=r===r?r:0,n===Z?(n=r,r=0):n=su(n)||0,e=e===Z?n>r?1:-1:su(e)||0,ge(r,n,e,t)}}function aa(t,r,n,e,a,o,i,u,c,s){var h=r&rt,f=u?Me(u):Z,l=h?i:Z,p=h?Z:i,v=h?o:Z,g=h?Z:o;r|=h?et:at,r&=~(h?at:et),r&tt||(r&=~(V|Q));var w=[t,r,a,v,l,g,p,f,c,s],m=n.apply(Z,w);return Oa(t)&&Hs(m,w),m.placeholder=e,m}function oa(t){var r=Mc[t];return function(t,n){if(t=su(t),n=uu(n)){var e=(lu(t)+"e").split("e"),a=r(e[0]+"e"+(+e[1]+n));return e=(lu(a)+"e").split("e"),+(e[0]+"e"+(+e[1]-n))}return r(t)}}function ia(t,r,n,e,a,o,i,u){var c=r&Q;if(!c&&"function"!=typeof t)throw new Hc(_t);var s=e?e.length:0;if(s||(r&=~(et|at),e=a=Z),i=i===Z?i:vs(uu(i),0),u=u===Z?u:uu(u),s-=a?a.length:0,r&at){var h=e,f=a;e=a=Z}var l=c?Z:Ws(t),p=[t,r,n,e,a,h,f,o,i,u];if(l&&Ea(p,l),t=p[0],r=p[1],n=p[2],e=p[3],a=p[4],u=p[9]=null==p[9]?c?0:t.length:vs(p[9]-s,0),!u&&r&(rt|nt)&&(r&=~(rt|nt)),r&&r!=V)v=r==rt||r==nt?Ze(t,r,u):r!=et&&r!=(V|et)||a.length?Ve.apply(Z,p):na(t,r,n,e);else var v=$e(t,r,n);var g=l?Bs:Hs;return g(v,p)}function ua(t,r,n,e,a,o){var i=-1,u=a&st,c=a&ct,s=t.length,h=r.length;if(s!=h&&!(u&&h>s))return!1;var f=o.get(t);if(f)return f==r;var l=!0;for(o.set(t,r);++i<s;){var p=t[i],v=r[i];if(e)var g=u?e(v,p,i,r,t,o):e(p,v,i,t,r,o);if(g!==Z){if(g)continue;l=!1;break}if(c){if(!_(r,function(t){return p===t||n(p,t,e,a,o)})){l=!1;break}}else if(p!==v&&!n(p,v,e,a,o)){l=!1;break}}return o["delete"](t),l}function ca(t,r,n,e,a,o){switch(n){case Yt:return!(t.byteLength!=r.byteLength||!e(new Qc(t),new Qc(r)));case jt:case Nt:return+t==+r;case Dt:return t.name==r.name&&t.message==r.message;case Ut:return t!=+t?r!=+r:t==+r;case Mt:case Ht:return t==r+"";case Bt:var i=K;case Lt:var u=o&st;return i||(i=F),(u||t.size==r.size)&&e(i(t),i(r),a,o|ct);case Gt:return!!Vc&&Es.call(t)==Es.call(r)}return!1}function sa(t,r,n,e,a,o){var i=a&st,u=Ou(t),c=u.length,s=Ou(r),h=s.length;if(c!=h&&!i)return!1;for(var f=c;f--;){var l=u[f];if(!(i?l in r:Kn(r,l)))return!1}var p=o.get(t);if(p)return p==r;var v=!0;o.set(t,r);for(var g=i;++f<c;){l=u[f];var w=t[l],m=r[l];if(e)var _=i?e(m,w,l,r,t,o):e(w,m,l,t,r,o);if(!(_===Z?w===m||n(w,m,e,a,o):_)){v=!1;break}g||(g="constructor"==l)}if(v&&!g){var y=t.constructor,d=r.constructor;y!=d&&"constructor"in t&&"constructor"in r&&!("function"==typeof y&&y instanceof y&&"function"==typeof d&&d instanceof d)&&(v=!1)}return o["delete"](t),v}function ha(t){for(var r=t.name+"",n=js[r],e=Yc.call(js,r)?n.length:0;e--;){var a=n[e],o=a.func;if(null==o||o==t)return a.name}return r}function fa(){var t=r.iteratee||gc;return t=t===gc?Vn:t,arguments.length?t(arguments[0],arguments[1]):t}function la(t){for(var r=Ru(t),n=r.length;n--;)r[n][2]=Ca(r[n][1]);return r}function pa(t,r){var n=null==t?Z:t[r];return Yi(n)?n:Z}function va(t){var n=Yc.call(r,"placeholder")?r:t;return n.placeholder}function ga(t){return Xc.call(t)}function wa(t,r,n){for(var e=-1,a=n.length;++e<a;){var o=n[e],i=o.size;switch(o.type){case"drop":t+=i;break;case"dropRight":r-=i;break;case"take":r=gs(r,t+i);break;case"takeRight":t=vs(t,r-i)}}return{start:t,end:r}}function ma(t,r,n){if(null==t)return!1;var e=n(t,r);e||Ia(r)||(r=bn(r),t=ja(t,r),null!=t&&(r=Ja(r),e=n(t,r)));var a=t?t.length:Z;return e||!!a&&Wi(a)&&G(r,a)&&(xh(t)||Vi(t)||Ii(t))}function _a(t){var r=t.length,n=t.constructor(r);return r&&"string"==typeof t[0]&&Yc.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function ya(t){return Bi(t.constructor)&&!Aa(t)?En(ns(t)):{}}function da(t,r,n){var e=t.constructor;switch(r){case Yt:return je(t);case jt:case Nt:return new e(+t);case Ft:case $t:case Xt:case zt:case qt:case Zt:case Jt:case Vt:case Qt:return Be(t,n);case Bt:return Ne(t);case Ut:case Ht:return new e(t);case Mt:return De(t);case Lt:return ke(t);case Gt:return Re(t)}}function xa(t){var r=t?t.length:Z;return Wi(r)&&(xh(t)||Vi(t)||Ii(t))?A(r,String):null}function ba(t,r,n){if(!Mi(n))return!1;var e=typeof r;return("number"==e?Oi(n)&&G(r,n.length):"string"==e&&r in n)?di(n[r],t):!1}function Ia(t,r){return"number"==typeof t?!0:!xh(t)&&(fr.test(t)||!hr.test(t)||null!=r&&t in Object(r))}function Ta(t){var r=typeof t;return"number"==r||"boolean"==r||"string"==r&&"__proto__"!=t||null==t}function Oa(t){var n=ha(t),e=r[n];if("function"!=typeof e||!(n in Ar.prototype))return!1;if(t===e)return!0;var a=Ws(e);return!!a&&t===a[0]}function Aa(t){var r=t&&t.constructor,n=Bi(r)&&r.prototype||Pc;return t===n}function Ca(t){return t===t&&!Mi(t)}function Ea(t,r){var n=t[1],e=r[1],a=n|e,o=(V|Q|ot)>a,i=e==ot&&n==rt||e==ot&&n==it&&t[7].length<=r[8]||e==(ot|it)&&r[7].length<=r[8]&&n==rt;if(!o&&!i)return t;e&V&&(t[2]=r[2],a|=n&V?0:tt);var u=r[3];if(u){var c=t[3];t[3]=c?Ue(c,u,r[4]):Me(u),t[4]=c?Y(t[3],Ct):Me(r[4])}return u=r[5],u&&(c=t[5],t[5]=c?We(c,u,r[6]):Me(u),t[6]=c?Y(t[5],Ct):Me(r[6])),u=r[7],u&&(t[7]=Me(u)),e&ot&&(t[8]=null==t[8]?r[8]:gs(t[8],r[8])),null==t[9]&&(t[9]=r[9]),t[0]=r[0],t[1]=a,t}function Sa(t,r,n,e,a,o){return Mi(t)&&Mi(r)&&(o.set(r,t),ae(t,r,Z,Sa,o)),t}function ja(t,r){return 1==r.length?t:bu(t,me(r,0,-1))}function Na(t,r){for(var n=t.length,e=gs(r.length,n),a=Me(t);e--;){var o=r[e];t[e]=G(o,n)?a[o]:Z}return t}function Da(t){var r=[];return lu(t).replace(lr,function(t,n,e,a){r.push(e?a.replace(_r,"$1"):n||t)}),r}function ka(t){if(t instanceof Ar)return t.clone();var r=new D(t.__wrapped__,t.__chain__);return r.__actions__=Me(t.__actions__),r.__index__=t.__index__,r.__values__=t.__values__,r}function Ra(t,r){r=vs(uu(r),0);var n=t?t.length:0;if(!n||1>r)return[];for(var e=0,a=-1,o=Array(ss(n/r));n>e;)o[++a]=me(t,e,e+=r);return o}function Ba(t){for(var r=-1,n=t?t.length:0,e=-1,a=[];++r<n;){var o=t[r];o&&(a[++e]=o)}return a}function Ua(t,r,n){var e=t?t.length:0;return e?(r=n||r===Z?1:uu(r),me(t,0>r?0:r,e)):[]}function Wa(t,r,n){var e=t?t.length:0;return e?(r=n||r===Z?1:uu(r),r=e-r,me(t,0,0>r?0:r)):[]}function Ma(t,r){return t&&t.length?Oe(t,fa(r,3),!0,!0):[]}function La(t,r){return t&&t.length?Oe(t,fa(r,3),!0):[]}function Ha(t,r,n,e){var a=t?t.length:0;return a?(n&&"number"!=typeof n&&ba(t,r,n)&&(n=0,e=a),kn(t,r,n,e)):[]}function Ga(t,r){return t&&t.length?x(t,fa(r,3)):-1}function Pa(t,r){return t&&t.length?x(t,fa(r,3),!0):-1}function Ka(t){var r=t?t.length:0;return r?Wn(t,1):[]}function Ya(t){var r=t?t.length:0;return r?Wn(t,dt):[]}function Fa(t,r){var n=t?t.length:0;return n?(r=r===Z?1:uu(r),Wn(t,r)):[]}function $a(t){for(var r=-1,n=t?t.length:0,e={};++r<n;){var a=t[r];e[a[0]]=a[1]}return e}function Xa(t){return t?t[0]:Z}function za(t,r,n){var e=t?t.length:0;return e?(n=uu(n),0>n&&(n=vs(e+n,0)),b(t,r,n)):-1}function qa(t){return Wa(t,1)}function Za(t,r){return t?ls.call(t,r):""}function Ja(t){var r=t?t.length:0;return r?t[r-1]:Z}function Va(t,r,n){var e=t?t.length:0;if(!e)return-1;var a=e;if(n!==Z&&(a=uu(n),a=(0>a?vs(e+a,0):gs(a,e-1))+1),r!==r)return L(t,a,!0);for(;a--;)if(t[a]===r)return a;return-1}function Qa(t,r){return t&&t.length&&r&&r.length?fe(t,r):t}function to(t,r,n){return t&&t.length&&r&&r.length?le(t,r,fa(n)):t}function ro(t,r){var n=[];if(!t||!t.length)return n;var e=-1,a=[],o=t.length;for(r=fa(r,3);++e<o;){var i=t[e];r(i,e,t)&&(n.push(i),a.push(e))}return pe(t,a),n}function no(t){return t?_s.call(t):t}function eo(t,r,n){var e=t?t.length:0;return e?(n&&"number"!=typeof n&&ba(t,r,n)?(r=0,n=e):(r=null==r?0:uu(r),n=n===Z?e:uu(n)),me(t,r,n)):[]}function ao(t,r){return ye(t,r)}function oo(t,r,n){return de(t,r,fa(n))}function io(t,r){var n=t?t.length:0;if(n){var e=ye(t,r);if(n>e&&di(t[e],r))return e}return-1}function uo(t,r){return ye(t,r,!0)}function co(t,r,n){return de(t,r,fa(n),!0)}function so(t,r){var n=t?t.length:0;if(n){var e=ye(t,r,!0)-1;if(di(t[e],r))return e}return-1}function ho(t){return t&&t.length?xe(t):[]}function fo(t,r){return t&&t.length?be(t,fa(r)):[]}function lo(t){return Ua(t,1)}function po(t,r,n){return t&&t.length?(r=n||r===Z?1:uu(r),me(t,0,0>r?0:r)):[]}function vo(t,r,n){var e=t?t.length:0;return e?(r=n||r===Z?1:uu(r),r=e-r,me(t,0>r?0:r,e)):[]}function go(t,r){return t&&t.length?Oe(t,fa(r,3),!1,!0):[]}function wo(t,r){return t&&t.length?Oe(t,fa(r,3)):[]}function mo(t){return t&&t.length?Ie(t):[]}function _o(t,r){return t&&t.length?Ie(t,fa(r)):[]}function yo(t,r){return t&&t.length?Ie(t,Z,r):[]}function xo(t){if(!t||!t.length)return[];var r=0;return t=f(t,function(t){return Ai(t)?(r=vs(t.length,r),!0):void 0}),A(r,function(r){return v(t,se(r))})}function bo(t,r){if(!t||!t.length)return[];var n=xo(t);return null==r?n:v(n,function(t){return o(r,Z,t)})}function Io(t,r){return Ee(t||[],r||[],un)}function To(t,r){return Ee(t||[],r||[],we)}function Oo(t){var n=r(t);return n.__chain__=!0,n}function Ao(t,r){return r(t),t}function Co(t,r){return r(t)}function Eo(){return Oo(this)}function So(){return new D(this.value(),this.__chain__)}function jo(t){return this.map(t).flatten()}function No(){this.__values__===Z&&(this.__values__=iu(this.value()));var t=this.__index__>=this.__values__.length,r=t?Z:this.__values__[this.__index__++];return{done:t,value:r}}function Do(){return this}function ko(t){for(var r,e=this;e instanceof n;){var a=ka(e);a.__index__=0,a.__values__=Z,r?o.__wrapped__=a:r=a;var o=a;e=e.__wrapped__}return o.__wrapped__=t,r}function Ro(){var t=this.__wrapped__;if(t instanceof Ar){var r=t;return this.__actions__.length&&(r=new Ar(this)),r=r.reverse(),r.__actions__.push({func:Co,args:[no],thisArg:Z}),new D(r,this.__chain__)}return this.thru(no)}function Bo(){return Ae(this.__wrapped__,this.__actions__)}function Uo(t,r,n){var e=xh(t)?h:Dn;return n&&ba(t,r,n)&&(r=Z),e(t,fa(r,3))}function Wo(t,r){var n=xh(t)?f:Rn;return n(t,fa(r,3))}function Mo(t,r){if(r=fa(r,3),xh(t)){var n=x(t,r);return n>-1?t[n]:Z}return d(t,r,Ns)}function Lo(t,r){if(r=fa(r,3),xh(t)){var n=x(t,r,!0);return n>-1?t[n]:Z}return d(t,r,Ds)}function Ho(t,r){return Wn(Yo(t,r),1)}function Go(t,r){return"function"==typeof r&&xh(t)?c(t,r):Ns(t,xn(r))}function Po(t,r){return"function"==typeof r&&xh(t)?s(t,r):Ds(t,xn(r))}function Ko(t,r,n,e){t=Oi(t)?t:Mu(t),n=n&&!e?uu(n):0;var a=t.length;return 0>n&&(n=vs(a+n,0)),Vi(t)?a>=n&&t.indexOf(r,n)>-1:!!a&&b(t,r,n)>-1}function Yo(t,r){var n=xh(t)?v:re;return n(t,fa(r,3))}function Fo(t,r,n,e){return null==t?[]:(xh(r)||(r=null==r?[]:[r]),n=e?Z:n,xh(n)||(n=null==n?[]:[n]),ie(t,r,n))}function $o(t,r,n){var e=xh(t)?w:I,a=arguments.length<3;return e(t,fa(r,4),n,a,Ns)}function Xo(t,r,n){var e=xh(t)?m:I,a=arguments.length<3;return e(t,fa(r,4),n,a,Ds)}function zo(t,r){var n=xh(t)?f:Rn;return r=fa(r,3),n(t,function(t,n,e){return!r(t,n,e)})}function qo(t){var r=Oi(t)?t:Mu(t),n=r.length;return n>0?r[ve(0,n-1)]:Z}function Zo(t,r){var n=-1,e=iu(t),a=e.length,o=a-1;for(r=In(uu(r),0,a);++n<r;){var i=ve(n,o),u=e[i];e[i]=e[n],e[n]=u}return e.length=r,e}function Jo(t){return Zo(t,Tt)}function Vo(t){if(null==t)return 0;if(Oi(t)){var r=t.length;return r&&Vi(t)?$(t):r}return Ou(t).length}function Qo(t,r,n){var e=xh(t)?_:_e;return n&&ba(t,r,n)&&(r=Z),e(t,fa(r,3))}function ti(t,r){if("function"!=typeof r)throw new Hc(_t);return t=uu(t),function(){return--t<1?r.apply(this,arguments):void 0}}function ri(t,r,n){return r=n?Z:r,r=t&&null==r?t.length:r,ia(t,ot,Z,Z,Z,Z,r)}function ni(t,r){var n;if("function"!=typeof r)throw new Hc(_t);return t=uu(t),function(){return--t>0&&(n=r.apply(this,arguments)),1>=t&&(r=Z),n}}function ei(t,r,n){r=n?Z:r;var e=ia(t,rt,Z,Z,Z,Z,Z,r);return e.placeholder=ei.placeholder,e}function ai(t,r,n){r=n?Z:r;var e=ia(t,nt,Z,Z,Z,Z,Z,r);return e.placeholder=ai.placeholder,e}function oi(t,r,n){function e(){v&&ts(v),h&&ts(h),w=0,s=h=p=v=g=Z}function a(r,n){n&&ts(n),h=v=g=Z,r&&(w=lh(),f=t.apply(p,s),v||h||(s=p=Z))}function o(){var t=r-(lh()-l);0>=t||t>r?a(g,h):v=us(o,t)}function i(){return(v&&g||h&&y)&&(f=t.apply(p,s)),e(),f}function u(){a(y,v)}function c(){if(s=arguments,l=lh(),p=this,g=y&&(v||!m),_===!1)var n=m&&!v;else{w||h||m||(w=l);var e=_-(l-w),a=(0>=e||e>_)&&(m||h);a?(h&&(h=ts(h)),w=l,f=t.apply(p,s)):h||(h=us(u,e))}return a&&v?v=ts(v):v||r===_||(v=us(o,r)),
n&&(a=!0,f=t.apply(p,s)),!a||v||h||(s=p=Z),f}var s,h,f,l,p,v,g,w=0,m=!1,_=!1,y=!0;if("function"!=typeof t)throw new Hc(_t);return r=su(r)||0,Mi(n)&&(m=!!n.leading,_="maxWait"in n&&vs(su(n.maxWait)||0,r),y="trailing"in n?!!n.trailing:y),c.cancel=e,c.flush=i,c}function ii(t){return ia(t,ut)}function ui(t,r){if("function"!=typeof t||r&&"function"!=typeof r)throw new Hc(_t);var n=function(){var e=arguments,a=r?r.apply(this,e):e[0],o=n.cache;if(o.has(a))return o.get(a);var i=t.apply(this,e);return n.cache=o.set(a,i),i};return n.cache=new ui.Cache,n}function ci(t){if("function"!=typeof t)throw new Hc(_t);return function(){return!t.apply(this,arguments)}}function si(t){return ni(2,t)}function hi(t,r){if("function"!=typeof t)throw new Hc(_t);return r=vs(r===Z?t.length-1:uu(r),0),function(){for(var n=arguments,e=-1,a=vs(n.length-r,0),i=Array(a);++e<a;)i[e]=n[r+e];switch(r){case 0:return t.call(this,i);case 1:return t.call(this,n[0],i);case 2:return t.call(this,n[0],n[1],i)}var u=Array(r+1);for(e=-1;++e<r;)u[e]=n[e];return u[r]=i,o(t,this,u)}}function fi(t,r){if("function"!=typeof t)throw new Hc(_t);return r=r===Z?0:vs(uu(r),0),hi(function(n){var e=n[r],a=n.slice(0,r);return e&&g(a,e),o(t,this,a)})}function li(t,r,n){var e=!0,a=!0;if("function"!=typeof t)throw new Hc(_t);return Mi(n)&&(e="leading"in n?!!n.leading:e,a="trailing"in n?!!n.trailing:a),oi(t,r,{leading:e,maxWait:r,trailing:a})}function pi(t){return ri(t,1)}function vi(t,r){return r=null==r?vc:r,_h(r,t)}function gi(){if(!arguments.length)return[];var t=arguments[0];return xh(t)?t:[t]}function wi(t){return Tn(t)}function mi(t,r){return Tn(t,!1,r)}function _i(t){return Tn(t,!0)}function yi(t,r){return Tn(t,!0,r)}function di(t,r){return t===r||t!==t&&r!==r}function xi(t,r){return t>r}function bi(t,r){return t>=r}function Ii(t){return Ai(t)&&Yc.call(t,"callee")&&(!is.call(t,"callee")||Xc.call(t)==Et)}function Ti(t){return Li(t)&&Xc.call(t)==Yt}function Oi(t){return null!=t&&!("function"==typeof t&&Bi(t))&&Wi(Ms(t))}function Ai(t){return Li(t)&&Oi(t)}function Ci(t){return t===!0||t===!1||Li(t)&&Xc.call(t)==jt}function Ei(t){return Li(t)&&Xc.call(t)==Nt}function Si(t){return!!t&&1===t.nodeType&&Li(t)&&!zi(t)}function ji(t){if(Oi(t)&&(xh(t)||Vi(t)||Bi(t.splice)||Ii(t)))return!t.length;for(var r in t)if(Yc.call(t,r))return!1;return!0}function Ni(t,r){return qn(t,r)}function Di(t,r,n){n="function"==typeof n?n:Z;var e=n?n(t,r):Z;return e===Z?qn(t,r,n):!!e}function ki(t){return Li(t)?Xc.call(t)==Dt||"string"==typeof t.message&&"string"==typeof t.name:!1}function Ri(t){return"number"==typeof t&&fs(t)}function Bi(t){var r=Mi(t)?Xc.call(t):"";return r==kt||r==Rt}function Ui(t){return"number"==typeof t&&t==uu(t)}function Wi(t){return"number"==typeof t&&t>-1&&t%1==0&&xt>=t}function Mi(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}function Li(t){return!!t&&"object"==typeof t}function Hi(t){return Li(t)&&ga(t)==Bt}function Gi(t,r){return t===r||Jn(t,r,la(r))}function Pi(t,r,n){return n="function"==typeof n?n:Z,Jn(t,r,la(r),n)}function Ki(t){return Xi(t)&&t!=+t}function Yi(t){return null==t?!1:Bi(t)?qc.test(Kc.call(t)):Li(t)&&(H(t)?qc:Tr).test(t)}function Fi(t){return null===t}function $i(t){return null==t}function Xi(t){return"number"==typeof t||Li(t)&&Xc.call(t)==Ut}function zi(t){if(!Li(t)||Xc.call(t)!=Wt||H(t))return!1;var r=ns(t);if(null===r)return!0;var n=r.constructor;return"function"==typeof n&&n instanceof n&&Kc.call(n)==$c}function qi(t){return Mi(t)&&Xc.call(t)==Mt}function Zi(t){return Ui(t)&&t>=-xt&&xt>=t}function Ji(t){return Li(t)&&ga(t)==Lt}function Vi(t){return"string"==typeof t||!xh(t)&&Li(t)&&Xc.call(t)==Ht}function Qi(t){return"symbol"==typeof t||Li(t)&&Xc.call(t)==Gt}function tu(t){return Li(t)&&Wi(t.length)&&!!yn[Xc.call(t)]}function ru(t){return t===Z}function nu(t){return Li(t)&&ga(t)==Pt}function eu(t){return Li(t)&&Xc.call(t)==Kt}function au(t,r){return r>t}function ou(t,r){return r>=t}function iu(t){if(!t)return[];if(Oi(t))return Vi(t)?X(t):Me(t);if(as&&t[as])return P(t[as]());var r=ga(t),n=r==Bt?K:r==Lt?F:Mu;return n(t)}function uu(t){if(!t)return 0===t?t:0;if(t=su(t),t===dt||t===-dt){var r=0>t?-1:1;return r*bt}var n=t%1;return t===t?n?t-n:t:0}function cu(t){return t?In(uu(t),0,Tt):0}function su(t){if(Mi(t)){var r=Bi(t.valueOf)?t.valueOf():t;t=Mi(r)?r+"":r}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(gr,"");var n=Ir.test(t);return n||Or.test(t)?Cn(t.slice(2),n?2:8):br.test(t)?It:+t}function hu(t){return Le(t,Au(t))}function fu(t){return In(uu(t),-xt,xt)}function lu(t){if("string"==typeof t)return t;if(null==t)return"";if(Qi(t))return Vc?Ss.call(t):"";var r=t+"";return"0"==r&&1/t==-dt?"-0":r}function pu(t,r){var n=En(t);return r?sn(n,r):n}function vu(t,r){return d(t,fa(r,3),Ln,!0)}function gu(t,r){return d(t,fa(r,3),Hn,!0)}function wu(t,r){return null==t?t:ks(t,xn(r),Au)}function mu(t,r){return null==t?t:Rs(t,xn(r),Au)}function _u(t,r){return t&&Ln(t,xn(r))}function yu(t,r){return t&&Hn(t,xn(r))}function du(t){return null==t?[]:Gn(t,Ou(t))}function xu(t){return null==t?[]:Gn(t,Au(t))}function bu(t,r,n){var e=null==t?Z:Pn(t,r);return e===Z?n:e}function Iu(t,r){return ma(t,r,Kn)}function Tu(t,r){return ma(t,r,Yn)}function Ou(t){var r=Aa(t);if(!r&&!Oi(t))return Qn(t);var n=xa(t),e=!!n,a=n||[],o=a.length;for(var i in t)!Kn(t,i)||e&&("length"==i||G(i,o))||r&&"constructor"==i||a.push(i);return a}function Au(t){for(var r=-1,n=Aa(t),e=te(t),a=e.length,o=xa(t),i=!!o,u=o||[],c=u.length;++r<a;){var s=e[r];i&&("length"==s||G(s,c))||"constructor"==s&&(n||!Yc.call(t,s))||u.push(s)}return u}function Cu(t,r){var n={};return r=fa(r,3),Ln(t,function(t,e,a){n[r(t,e,a)]=t}),n}function Eu(t,r){var n={};return r=fa(r,3),Ln(t,function(t,e,a){n[e]=r(t,e,a)}),n}function Su(t,r){return r=fa(r),ce(t,function(t,n){return!r(t,n)})}function ju(t,r){return null==t?{}:ce(t,fa(r))}function Nu(t,r,n){if(Ia(r,t))e=null==t?Z:t[r];else{r=bn(r);var e=bu(t,r);t=ja(t,r)}return e===Z&&(e=n),Bi(e)?e.call(t):e}function Du(t,r,n){return null==t?t:we(t,r,n)}function ku(t,r,n,e){return e="function"==typeof e?e:Z,null==t?t:we(t,r,n,e)}function Ru(t){return C(t,Ou(t))}function Bu(t){return C(t,Au(t))}function Uu(t,r,n){var e=xh(t)||tu(t);if(r=fa(r,4),null==n)if(e||Mi(t)){var a=t.constructor;n=e?xh(t)?new a:[]:Bi(a)?En(ns(t)):{}}else n={};return(e?c:Ln)(t,function(t,e,a){return r(n,t,e,a)}),n}function Wu(t,r){return null==t?!0:Te(t,r)}function Mu(t){return t?S(t,Ou(t)):[]}function Lu(t){return null==t?[]:S(t,Au(t))}function Hu(t,r,n){return n===Z&&(n=r,r=Z),n!==Z&&(n=su(n),n=n===n?n:0),r!==Z&&(r=su(r),r=r===r?r:0),In(su(t),r,n)}function Gu(t,r,n){return r=su(r)||0,n===Z?(n=r,r=0):n=su(n)||0,t=su(t),Fn(t,r,n)}function Pu(t,r,n){if(n&&"boolean"!=typeof n&&ba(t,r,n)&&(r=n=Z),n===Z&&("boolean"==typeof r?(n=r,r=Z):"boolean"==typeof t&&(n=t,t=Z)),t===Z&&r===Z?(t=0,r=1):(t=su(t)||0,r===Z?(r=t,t=0):r=su(r)||0),t>r){var e=t;t=r,r=e}if(n||t%1||r%1){var a=ms();return gs(t+a*(r-t+An("1e-"+((a+"").length-1))),r)}return ve(t,r)}function Ku(t){return Gh(lu(t).toLowerCase())}function Yu(t){return t=lu(t),t&&t.replace(Cr,U).replace(fn,"")}function Fu(t,r,n){t=lu(t),r="string"==typeof r?r:r+"";var e=t.length;return n=n===Z?e:In(uu(n),0,e),n-=r.length,n>=0&&t.indexOf(r,n)==n}function $u(t){return t=lu(t),t&&ir.test(t)?t.replace(ar,W):t}function Xu(t){return t=lu(t),t&&vr.test(t)?t.replace(pr,"\\$&"):t}function zu(t,r,n){t=lu(t),r=uu(r);var e=$(t);if(!r||e>=r)return t;var a=(r-e)/2,o=hs(a),i=ss(a);return ra("",o,n)+t+ra("",i,n)}function qu(t,r,n){return t=lu(t),t+ra(t,r,n)}function Zu(t,r,n){return t=lu(t),ra(t,r,n)+t}function Ju(t,r,n){return n||null==r?r=0:r&&(r=+r),t=lu(t).replace(gr,""),ws(t,r||(xr.test(t)?16:10))}function Vu(t,r){t=lu(t),r=uu(r);var n="";if(!t||1>r||r>xt)return n;do r%2&&(n+=t),r=hs(r/2),t+=t;while(r);return n}function Qu(){var t=arguments,r=lu(t[0]);return t.length<3?r:r.replace(t[1],t[2])}function tc(t,r,n){return lu(t).split(r,n)}function rc(t,r,n){return t=lu(t),n=In(uu(n),0,t.length),t.lastIndexOf(r,n)==n}function nc(t,n,e){var a=r.templateSettings;e&&ba(t,n,e)&&(n=Z),t=lu(t),n=Oh({},n,a,an);var o,i,u=Oh({},n.imports,a.imports,an),c=Ou(u),s=S(u,c),h=0,f=n.interpolate||Er,l="__p += '",p=Lc((n.escape||Er).source+"|"+f.source+"|"+(f===sr?yr:Er).source+"|"+(n.evaluate||Er).source+"|$","g"),v="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++_n+"]")+"\n";t.replace(p,function(r,n,e,a,u,c){return e||(e=a),l+=t.slice(h,c).replace(Sr,M),n&&(o=!0,l+="' +\n__e("+n+") +\n'"),u&&(i=!0,l+="';\n"+u+";\n__p += '"),e&&(l+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),h=c+r.length,r}),l+="';\n";var g=n.variable;g||(l="with (obj) {\n"+l+"\n}\n"),l=(i?l.replace(tr,""):l).replace(rr,"$1").replace(nr,"$1;"),l="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var w=Fh(function(){return Function(c,v+"return "+l).apply(Z,s)});if(w.source=l,ki(w))throw w;return w}function ec(t){return lu(t).toLowerCase()}function ac(t){return lu(t).toUpperCase()}function oc(t,r,n){if(t=lu(t),!t)return t;if(n||r===Z)return t.replace(gr,"");if(r+="",!r)return t;var e=X(t),a=X(r);return e.slice(j(e,a),N(e,a)+1).join("")}function ic(t,r,n){if(t=lu(t),!t)return t;if(n||r===Z)return t.replace(mr,"");if(r+="",!r)return t;var e=X(t);return e.slice(0,N(e,X(r))+1).join("")}function uc(t,r,n){if(t=lu(t),!t)return t;if(n||r===Z)return t.replace(wr,"");if(r+="",!r)return t;var e=X(t);return e.slice(j(e,X(r))).join("")}function cc(t,r){var n=ht,e=ft;if(Mi(r)){var a="separator"in r?r.separator:a;n="length"in r?uu(r.length):n,e="omission"in r?lu(r.omission):e}t=lu(t);var o=t.length;if(pn.test(t)){var i=X(t);o=i.length}if(n>=o)return t;var u=n-$(e);if(1>u)return e;var c=i?i.slice(0,u).join(""):t.slice(0,u);if(a===Z)return c+e;if(i&&(u+=c.length-u),qi(a)){if(t.slice(u).search(a)){var s,h=c;for(a.global||(a=Lc(a.source,lu(dr.exec(a))+"g")),a.lastIndex=0;s=a.exec(h);)var f=s.index;c=c.slice(0,f===Z?u:f)}}else if(t.indexOf(a,u)!=u){var l=c.lastIndexOf(a);l>-1&&(c=c.slice(0,l))}return c+e}function sc(t){return t=lu(t),t&&or.test(t)?t.replace(er,z):t}function hc(t,r,n){return t=lu(t),r=n?Z:r,r===Z&&(r=wn.test(t)?gn:vn),t.match(r)||[]}function fc(t){var r=t?t.length:0,n=fa();return t=r?v(t,function(t){if("function"!=typeof t[1])throw new Hc(_t);return[n(t[0]),t[1]]}):[],hi(function(n){for(var e=-1;++e<r;){var a=t[e];if(o(a[0],this,n))return o(a[1],this,n)}})}function lc(t){return On(Tn(t,!0))}function pc(t){return function(){return t}}function vc(t){return t}function gc(t){return Vn("function"==typeof t?t:Tn(t,!0))}function wc(t){return ne(Tn(t,!0))}function mc(t,r){return ee(t,Tn(r,!0))}function _c(t,r,n){var e=Ou(r),a=Gn(r,e);null!=n||Mi(r)&&(a.length||!e.length)||(n=r,r=t,t=this,a=Gn(r,Ou(r)));var o=Mi(n)&&"chain"in n?n.chain:!0,i=Bi(t);return c(a,function(n){var e=r[n];t[n]=e,i&&(t.prototype[n]=function(){var r=this.__chain__;if(o||r){var n=t(this.__wrapped__),a=n.__actions__=Me(this.__actions__);return a.push({func:e,args:arguments,thisArg:t}),n.__chain__=r,n}return e.apply(t,g([this.value()],arguments))})}),t}function yc(){return Bn._===this&&(Bn._=zc),this}function dc(){}function xc(t){return t=uu(t),function(){return arguments[t]}}function bc(t){return Ia(t)?se(t):he(t)}function Ic(t){return function(r){return null==t?Z:Pn(t,r)}}function Tc(t,r){if(t=uu(t),1>t||t>xt)return[];var n=Tt,e=gs(t,Tt);r=xn(r),t-=Tt;for(var a=A(e,r);++n<t;)r(n);return a}function Oc(t){return xh(t)?v(t,String):Da(t)}function Ac(t){var r=++Fc;return lu(t)+r}function Cc(t,r){var n;return t===Z&&r===Z?0:(t!==Z&&(n=t),r!==Z&&(n=n===Z?r:n+r),n)}function Ec(t){return t&&t.length?y(t,vc,xi):Z}function Sc(t,r){return t&&t.length?y(t,fa(r),xi):Z}function jc(t){return Rc(t)/(t?t.length:0)}function Nc(t){return t&&t.length?y(t,vc,au):Z}function Dc(t,r){return t&&t.length?y(t,fa(r),au):Z}function kc(t,r){var n;return t===Z&&r===Z?0:(t!==Z&&(n=t),r!==Z&&(n=n===Z?r:n-r),n)}function Rc(t){return t&&t.length?O(t,vc):0}function Bc(t,r){return t&&t.length?O(t,fa(r)):0}t=t?Un.defaults({},t,Un.pick(Bn,mn)):Bn;var Uc=t.Date,Wc=t.Error,Mc=t.Math,Lc=t.RegExp,Hc=t.TypeError,Gc=t.Array.prototype,Pc=t.Object.prototype,Kc=t.Function.prototype.toString,Yc=Pc.hasOwnProperty,Fc=0,$c=Kc.call(Object),Xc=Pc.toString,zc=Bn._,qc=Lc("^"+Kc.call(Yc).replace(pr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zc=jn?t.Buffer:Z,Jc=t.Reflect,Vc=t.Symbol,Qc=t.Uint8Array,ts=t.clearTimeout,rs=Jc?Jc.enumerate:Z,ns=Object.getPrototypeOf,es=Object.getOwnPropertySymbols,as="symbol"==typeof(as=Vc&&Vc.iterator)?as:Z,os=Object.create,is=Pc.propertyIsEnumerable,us=t.setTimeout,cs=Gc.splice,ss=Mc.ceil,hs=Mc.floor,fs=t.isFinite,ls=Gc.join,ps=Object.keys,vs=Mc.max,gs=Mc.min,ws=t.parseInt,ms=Mc.random,_s=Gc.reverse,ys=pa(t,"Map"),ds=pa(t,"Set"),xs=pa(t,"WeakMap"),bs=pa(Object,"create"),Is=xs&&new xs,Ts=ys?Kc.call(ys):"",Os=ds?Kc.call(ds):"",As=xs?Kc.call(xs):"",Cs=Vc?Vc.prototype:Z,Es=Vc?Cs.valueOf:Z,Ss=Vc?Cs.toString:Z,js={};r.templateSettings={escape:ur,evaluate:cr,interpolate:sr,variable:"",imports:{_:r}};var Ns=Ye(Ln),Ds=Ye(Hn,!0),ks=Fe(),Rs=Fe(!0);rs&&!is.call({valueOf:1},"valueOf")&&(te=function(t){return P(rs(t))});var Bs=Is?function(t,r){return Is.set(t,r),t}:vc,Us=ds&&2===new ds([1,2]).size?function(t){return new ds(t)}:dc,Ws=Is?function(t){return Is.get(t)}:dc,Ms=se("length"),Ls=es||function(){return[]};(ys&&ga(new ys)!=Bt||ds&&ga(new ds)!=Lt||xs&&ga(new xs)!=Pt)&&(ga=function(t){var r=Xc.call(t),n=r==Wt?t.constructor:null,e="function"==typeof n?Kc.call(n):"";if(e)switch(e){case Ts:return Bt;case Os:return Lt;case As:return Pt}return r});var Hs=function(){var t=0,r=0;return function(n,e){var a=lh(),o=pt-(a-r);if(r=a,o>0){if(++t>=lt)return n}else t=0;return Bs(n,e)}}(),Gs=hi(function(t,r){return xh(t)||(t=null==t?[]:[Object(t)]),r=Wn(r,1),u(t,r)}),Ps=hi(function(t,r){return Ai(t)?Nn(t,Wn(r,1,!0)):[]}),Ks=hi(function(t,r){var n=Ja(r);return Ai(n)&&(n=Z),Ai(t)?Nn(t,Wn(r,1,!0),fa(n)):[]}),Ys=hi(function(t,r){var n=Ja(r);return Ai(n)&&(n=Z),Ai(t)?Nn(t,Wn(r,1,!0),Z,n):[]}),Fs=hi(function(t){var r=v(t,ln);return r.length&&r[0]===t[0]?$n(r):[]}),$s=hi(function(t){var r=Ja(t),n=v(t,ln);return r===Ja(n)?r=Z:n.pop(),n.length&&n[0]===t[0]?$n(n,fa(r)):[]}),Xs=hi(function(t){var r=Ja(t),n=v(t,ln);return r===Ja(n)?r=Z:n.pop(),n.length&&n[0]===t[0]?$n(n,Z,r):[]}),zs=hi(Qa),qs=hi(function(t,r){r=v(Wn(r,1),String);var n=hn(t,r);return pe(t,r.sort(k)),n}),Zs=hi(function(t){return Ie(Wn(t,1,!0))}),Js=hi(function(t){var r=Ja(t);return Ai(r)&&(r=Z),Ie(Wn(t,1,!0),fa(r))}),Vs=hi(function(t){var r=Ja(t);return Ai(r)&&(r=Z),Ie(Wn(t,1,!0),Z,r)}),Qs=hi(function(t,r){return Ai(t)?Nn(t,r):[]}),th=hi(function(t){return Ce(f(t,Ai))}),rh=hi(function(t){var r=Ja(t);return Ai(r)&&(r=Z),Ce(f(t,Ai),fa(r))}),nh=hi(function(t){var r=Ja(t);return Ai(r)&&(r=Z),Ce(f(t,Ai),Z,r)}),eh=hi(xo),ah=hi(function(t){var r=t.length,n=r>1?t[r-1]:Z;return n="function"==typeof n?(t.pop(),n):Z,bo(t,n)}),oh=hi(function(t){t=Wn(t,1);var r=t.length,n=r?t[0]:0,e=this.__wrapped__,a=function(r){return hn(r,t)};return!(r>1||this.__actions__.length)&&e instanceof Ar&&G(n)?(e=e.slice(n,+n+(r?1:0)),e.__actions__.push({func:Co,args:[a],thisArg:Z}),new D(e,this.__chain__).thru(function(t){return r&&!t.length&&t.push(Z),t})):this.thru(a)}),ih=Pe(function(t,r,n){Yc.call(t,n)?++t[n]:t[n]=1}),uh=Pe(function(t,r,n){Yc.call(t,n)?t[n].push(r):t[n]=[r]}),ch=hi(function(t,r,n){var e=-1,a="function"==typeof r,i=Ia(r),u=Oi(t)?Array(t.length):[];return Ns(t,function(t){var c=a?r:i&&null!=t?t[r]:Z;u[++e]=c?o(c,t,n):zn(t,r,n)}),u}),sh=Pe(function(t,r,n){t[n]=r}),hh=Pe(function(t,r,n){t[n?0:1].push(r)},function(){return[[],[]]}),fh=hi(function(t,r){if(null==t)return[];var n=r.length;return n>1&&ba(t,r[0],r[1])?r=[]:n>2&&ba(r[0],r[1],r[2])&&(r.length=1),ie(t,Wn(r,1),[])}),lh=Uc.now,ph=hi(function(t,r,n){var e=V;if(n.length){var a=Y(n,va(ph));e|=et}return ia(t,e,r,n,a)}),vh=hi(function(t,r,n){var e=V|Q;if(n.length){var a=Y(n,va(vh));e|=et}return ia(r,e,t,n,a)}),gh=hi(function(t,r){return Sn(t,1,r)}),wh=hi(function(t,r,n){return Sn(t,su(r)||0,n)}),mh=hi(function(t,r){r=v(Wn(r,1),fa());var n=r.length;return hi(function(e){for(var a=-1,i=gs(e.length,n);++a<i;)e[a]=r[a].call(this,e[a]);return o(t,this,e)})}),_h=hi(function(t,r){var n=Y(r,va(_h));return ia(t,et,Z,r,n)}),yh=hi(function(t,r){var n=Y(r,va(yh));return ia(t,at,Z,r,n)}),dh=hi(function(t,r){return ia(t,it,Z,Z,Z,Wn(r,1))}),xh=Array.isArray,bh=Zc?function(t){return t instanceof Zc}:pc(!1),Ih=Ke(function(t,r){Le(r,Ou(r),t)}),Th=Ke(function(t,r){Le(r,Au(r),t)}),Oh=Ke(function(t,r,n,e){He(r,Au(r),t,e)}),Ah=Ke(function(t,r,n,e){He(r,Ou(r),t,e)}),Ch=hi(function(t,r){return hn(t,Wn(r,1))}),Eh=hi(function(t){return t.push(Z,an),o(Oh,Z,t)}),Sh=hi(function(t){return t.push(Z,Sa),o(Rh,Z,t)}),jh=Qe(function(t,r,n){t[r]=n},pc(vc)),Nh=Qe(function(t,r,n){Yc.call(t,r)?t[r].push(n):t[r]=[n]},fa),Dh=hi(zn),kh=Ke(function(t,r,n){ae(t,r,n)}),Rh=Ke(function(t,r,n,e){ae(t,r,n,e)}),Bh=hi(function(t,r){return null==t?{}:(r=v(Wn(r,1),String),ue(t,Nn(Au(t),r)))}),Uh=hi(function(t,r){return null==t?{}:ue(t,Wn(r,1))}),Wh=ze(function(t,r,n){return r=r.toLowerCase(),t+(n?Ku(r):r)}),Mh=ze(function(t,r,n){return t+(n?"-":"")+r.toLowerCase()}),Lh=ze(function(t,r,n){return t+(n?" ":"")+r.toLowerCase()}),Hh=Xe("toLowerCase"),Gh=Xe("toUpperCase"),Ph=ze(function(t,r,n){return t+(n?"_":"")+r.toLowerCase()}),Kh=ze(function(t,r,n){return t+(n?" ":"")+Ku(r)}),Yh=ze(function(t,r,n){return t+(n?" ":"")+r.toUpperCase()}),Fh=hi(function(t,r){try{return o(t,Z,r)}catch(n){return ki(n)?n:new Wc(n)}}),$h=hi(function(t,r){return c(Wn(r,1),function(r){t[r]=ph(t[r],t)}),t}),Xh=Je(),zh=Je(!0),qh=hi(function(t,r){return function(n){return zn(n,t,r)}}),Zh=hi(function(t,r){return function(n){return zn(t,n,r)}}),Jh=ta(v),Vh=ta(h),Qh=ta(_),tf=ea(),rf=ea(!0),nf=oa("ceil"),ef=oa("floor"),af=oa("round");return r.prototype=n.prototype,D.prototype=En(n.prototype),D.prototype.constructor=D,Ar.prototype=En(n.prototype),Ar.prototype.constructor=Ar,kr.prototype=bs?bs(null):Pc,Mr.prototype.clear=Lr,Mr.prototype["delete"]=Hr,Mr.prototype.get=Gr,Mr.prototype.has=Pr,Mr.prototype.set=Kr,Yr.prototype.push=$r,Xr.prototype.clear=zr,Xr.prototype["delete"]=qr,Xr.prototype.get=Zr,Xr.prototype.has=Jr,Xr.prototype.set=Vr,ui.Cache=Mr,r.after=ti,r.ary=ri,r.assign=Ih,r.assignIn=Th,r.assignInWith=Oh,r.assignWith=Ah,r.at=Ch,r.before=ni,r.bind=ph,r.bindAll=$h,r.bindKey=vh,r.castArray=gi,r.chain=Oo,r.chunk=Ra,r.compact=Ba,r.concat=Gs,r.cond=fc,r.conforms=lc,r.constant=pc,r.countBy=ih,r.create=pu,r.curry=ei,r.curryRight=ai,r.debounce=oi,r.defaults=Eh,r.defaultsDeep=Sh,r.defer=gh,r.delay=wh,r.difference=Ps,r.differenceBy=Ks,r.differenceWith=Ys,r.drop=Ua,r.dropRight=Wa,r.dropRightWhile=Ma,r.dropWhile=La,r.fill=Ha,r.filter=Wo,r.flatMap=Ho,r.flatten=Ka,r.flattenDeep=Ya,r.flattenDepth=Fa,r.flip=ii,r.flow=Xh,r.flowRight=zh,r.fromPairs=$a,r.functions=du,r.functionsIn=xu,r.groupBy=uh,r.initial=qa,r.intersection=Fs,r.intersectionBy=$s,r.intersectionWith=Xs,r.invert=jh,r.invertBy=Nh,r.invokeMap=ch,r.iteratee=gc,r.keyBy=sh,r.keys=Ou,r.keysIn=Au,r.map=Yo,r.mapKeys=Cu,r.mapValues=Eu,r.matches=wc,r.matchesProperty=mc,r.memoize=ui,r.merge=kh,r.mergeWith=Rh,r.method=qh,r.methodOf=Zh,r.mixin=_c,r.negate=ci,r.nthArg=xc,r.omit=Bh,r.omitBy=Su,r.once=si,r.orderBy=Fo,r.over=Jh,r.overArgs=mh,r.overEvery=Vh,r.overSome=Qh,r.partial=_h,r.partialRight=yh,r.partition=hh,r.pick=Uh,r.pickBy=ju,r.property=bc,r.propertyOf=Ic,r.pull=zs,r.pullAll=Qa,r.pullAllBy=to,r.pullAt=qs,r.range=tf,r.rangeRight=rf,r.rearg=dh,r.reject=zo,r.remove=ro,r.rest=hi,r.reverse=no,r.sampleSize=Zo,r.set=Du,r.setWith=ku,r.shuffle=Jo,r.slice=eo,r.sortBy=fh,r.sortedUniq=ho,r.sortedUniqBy=fo,r.split=tc,r.spread=fi,r.tail=lo,r.take=po,r.takeRight=vo,r.takeRightWhile=go,r.takeWhile=wo,r.tap=Ao,r.throttle=li,r.thru=Co,r.toArray=iu,r.toPairs=Ru,r.toPairsIn=Bu,r.toPath=Oc,r.toPlainObject=hu,r.transform=Uu,r.unary=pi,r.union=Zs,r.unionBy=Js,r.unionWith=Vs,r.uniq=mo,r.uniqBy=_o,r.uniqWith=yo,r.unset=Wu,r.unzip=xo,r.unzipWith=bo,r.values=Mu,r.valuesIn=Lu,r.without=Qs,r.words=hc,r.wrap=vi,r.xor=th,r.xorBy=rh,r.xorWith=nh,r.zip=eh,r.zipObject=Io,r.zipObjectDeep=To,r.zipWith=ah,r.extend=Th,r.extendWith=Oh,_c(r,r),r.add=Cc,r.attempt=Fh,r.camelCase=Wh,r.capitalize=Ku,r.ceil=nf,r.clamp=Hu,r.clone=wi,r.cloneDeep=_i,r.cloneDeepWith=yi,r.cloneWith=mi,r.deburr=Yu,r.endsWith=Fu,r.eq=di,r.escape=$u,r.escapeRegExp=Xu,r.every=Uo,r.find=Mo,r.findIndex=Ga,r.findKey=vu,r.findLast=Lo,r.findLastIndex=Pa,r.findLastKey=gu,r.floor=ef,r.forEach=Go,r.forEachRight=Po,r.forIn=wu,r.forInRight=mu,r.forOwn=_u,r.forOwnRight=yu,r.get=bu,r.gt=xi,r.gte=bi,r.has=Iu,r.hasIn=Tu,r.head=Xa,r.identity=vc,r.includes=Ko,r.indexOf=za,r.inRange=Gu,r.invoke=Dh,r.isArguments=Ii,r.isArray=xh,r.isArrayBuffer=Ti,r.isArrayLike=Oi,r.isArrayLikeObject=Ai,r.isBoolean=Ci,r.isBuffer=bh,r.isDate=Ei,r.isElement=Si,r.isEmpty=ji,r.isEqual=Ni,r.isEqualWith=Di,r.isError=ki,r.isFinite=Ri,r.isFunction=Bi,r.isInteger=Ui,r.isLength=Wi,r.isMap=Hi,r.isMatch=Gi,r.isMatchWith=Pi,r.isNaN=Ki,r.isNative=Yi,r.isNil=$i,r.isNull=Fi,r.isNumber=Xi,r.isObject=Mi,r.isObjectLike=Li,r.isPlainObject=zi,r.isRegExp=qi,r.isSafeInteger=Zi,r.isSet=Ji,r.isString=Vi,r.isSymbol=Qi,r.isTypedArray=tu,r.isUndefined=ru,r.isWeakMap=nu,r.isWeakSet=eu,r.join=Za,r.kebabCase=Mh,r.last=Ja,r.lastIndexOf=Va,r.lowerCase=Lh,r.lowerFirst=Hh,r.lt=au,r.lte=ou,r.max=Ec,r.maxBy=Sc,r.mean=jc,r.min=Nc,r.minBy=Dc,r.noConflict=yc,r.noop=dc,r.now=lh,r.pad=zu,r.padEnd=qu,r.padStart=Zu,r.parseInt=Ju,r.random=Pu,r.reduce=$o,r.reduceRight=Xo,r.repeat=Vu,r.replace=Qu,r.result=Nu,r.round=af,r.runInContext=q,r.sample=qo,r.size=Vo,r.snakeCase=Ph,r.some=Qo,r.sortedIndex=ao,r.sortedIndexBy=oo,r.sortedIndexOf=io,r.sortedLastIndex=uo,r.sortedLastIndexBy=co,r.sortedLastIndexOf=so,r.startCase=Kh,r.startsWith=rc,r.subtract=kc,r.sum=Rc,r.sumBy=Bc,r.template=nc,r.times=Tc,r.toInteger=uu,r.toLength=cu,r.toLower=ec,r.toNumber=su,r.toSafeInteger=fu,r.toString=lu,r.toUpper=ac,r.trim=oc,r.trimEnd=ic,r.trimStart=uc,r.truncate=cc,r.unescape=sc,r.uniqueId=Ac,r.upperCase=Yh,r.upperFirst=Gh,r.each=Go,r.eachRight=Po,r.first=Xa,_c(r,function(){var t={};return Ln(r,function(n,e){Yc.call(r.prototype,e)||(t[e]=n)}),t}(),{chain:!1}),r.VERSION=J,c(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){r[t].placeholder=r}),c(["drop","take"],function(t,r){Ar.prototype[t]=function(n){var e=this.__filtered__;if(e&&!r)return new Ar(this);n=n===Z?1:vs(uu(n),0);var a=this.clone();return e?a.__takeCount__=gs(n,a.__takeCount__):a.__views__.push({size:gs(n,Tt),type:t+(a.__dir__<0?"Right":"")}),a},Ar.prototype[t+"Right"]=function(r){return this.reverse()[t](r).reverse()}}),c(["filter","map","takeWhile"],function(t,r){var n=r+1,e=n==gt||n==mt;Ar.prototype[t]=function(t){var r=this.clone();return r.__iteratees__.push({iteratee:fa(t,3),type:n}),r.__filtered__=r.__filtered__||e,r}}),c(["head","last"],function(t,r){var n="take"+(r?"Right":"");Ar.prototype[t]=function(){return this[n](1).value()[0]}}),c(["initial","tail"],function(t,r){var n="drop"+(r?"":"Right");Ar.prototype[t]=function(){return this.__filtered__?new Ar(this):this[n](1)}}),Ar.prototype.compact=function(){return this.filter(vc)},Ar.prototype.find=function(t){return this.filter(t).head()},Ar.prototype.findLast=function(t){return this.reverse().find(t)},Ar.prototype.invokeMap=hi(function(t,r){return"function"==typeof t?new Ar(this):this.map(function(n){return zn(n,t,r)})}),Ar.prototype.reject=function(t){return t=fa(t,3),this.filter(function(r){return!t(r)})},Ar.prototype.slice=function(t,r){t=uu(t);var n=this;return n.__filtered__&&(t>0||0>r)?new Ar(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),r!==Z&&(r=uu(r),n=0>r?n.dropRight(-r):n.take(r-t)),n)},Ar.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Ar.prototype.toArray=function(){return this.take(Tt)},Ln(Ar.prototype,function(t,n){var e=/^(?:filter|find|map|reject)|While$/.test(n),a=/^(?:head|last)$/.test(n),o=r[a?"take"+("last"==n?"Right":""):n],i=a||/^find/.test(n);o&&(r.prototype[n]=function(){var n=this.__wrapped__,u=a?[1]:arguments,c=n instanceof Ar,s=u[0],h=c||xh(n),f=function(t){var n=o.apply(r,g([t],u));return a&&l?n[0]:n};h&&e&&"function"==typeof s&&1!=s.length&&(c=h=!1);var l=this.__chain__,p=!!this.__actions__.length,v=i&&!l,w=c&&!p;if(!i&&h){n=w?n:new Ar(this);var m=t.apply(n,u);return m.__actions__.push({func:Co,args:[f],thisArg:Z}),new D(m,l)}return v&&w?t.apply(this,u):(m=this.thru(f),v?a?m.value()[0]:m.value():m)})}),c(["pop","push","shift","sort","splice","unshift"],function(t){var n=Gc[t],e=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",a=/^(?:pop|shift)$/.test(t);r.prototype[t]=function(){var t=arguments;return a&&!this.__chain__?n.apply(this.value(),t):this[e](function(r){return n.apply(r,t)})}}),Ln(Ar.prototype,function(t,n){var e=r[n];if(e){var a=e.name+"",o=js[a]||(js[a]=[]);o.push({name:n,func:e})}}),js[Ve(Z,Q).name]=[{name:"wrapper",func:Z}],Ar.prototype.clone=jr,Ar.prototype.reverse=Nr,Ar.prototype.value=Dr,r.prototype.at=oh,r.prototype.chain=Eo,r.prototype.commit=So,r.prototype.flatMap=jo,r.prototype.next=No,r.prototype.plant=ko,r.prototype.reverse=Ro,r.prototype.toJSON=r.prototype.valueOf=r.prototype.value=Bo,as&&(r.prototype[as]=Do),r}var Z,J="4.5.1",V=1,Q=2,tt=4,rt=8,nt=16,et=32,at=64,ot=128,it=256,ut=512,ct=1,st=2,ht=30,ft="...",lt=150,pt=16,vt=200,gt=1,wt=2,mt=3,_t="Expected a function",yt="__lodash_hash_undefined__",dt=1/0,xt=9007199254740991,bt=1.7976931348623157e308,It=NaN,Tt=4294967295,Ot=Tt-1,At=Tt>>>1,Ct="__lodash_placeholder__",Et="[object Arguments]",St="[object Array]",jt="[object Boolean]",Nt="[object Date]",Dt="[object Error]",kt="[object Function]",Rt="[object GeneratorFunction]",Bt="[object Map]",Ut="[object Number]",Wt="[object Object]",Mt="[object RegExp]",Lt="[object Set]",Ht="[object String]",Gt="[object Symbol]",Pt="[object WeakMap]",Kt="[object WeakSet]",Yt="[object ArrayBuffer]",Ft="[object Float32Array]",$t="[object Float64Array]",Xt="[object Int8Array]",zt="[object Int16Array]",qt="[object Int32Array]",Zt="[object Uint8Array]",Jt="[object Uint8ClampedArray]",Vt="[object Uint16Array]",Qt="[object Uint32Array]",tr=/\b__p \+= '';/g,rr=/\b(__p \+=) '' \+/g,nr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,er=/&(?:amp|lt|gt|quot|#39|#96);/g,ar=/[&<>"'`]/g,or=RegExp(er.source),ir=RegExp(ar.source),ur=/<%-([\s\S]+?)%>/g,cr=/<%([\s\S]+?)%>/g,sr=/<%=([\s\S]+?)%>/g,hr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fr=/^\w*$/,lr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,pr=/[\\^$.*+?()[\]{}|]/g,vr=RegExp(pr.source),gr=/^\s+|\s+$/g,wr=/^\s+/,mr=/\s+$/,_r=/\\(\\)?/g,yr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,dr=/\w*$/,xr=/^0x/i,br=/^[-+]0x[0-9a-f]+$/i,Ir=/^0b[01]+$/i,Tr=/^\[object .+?Constructor\]$/,Or=/^0o[0-7]+$/i,Ar=/^(?:0|[1-9]\d*)$/,Cr=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Er=/($^)/,Sr=/['\n\r\u2028\u2029\\]/g,jr="\\ud800-\\udfff",Nr="\\u0300-\\u036f\\ufe20-\\ufe23",Dr="\\u20d0-\\u20f0",kr="\\u2700-\\u27bf",Rr="a-z\\xdf-\\xf6\\xf8-\\xff",Br="\\xac\\xb1\\xd7\\xf7",Ur="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Wr="\\u2018\\u2019\\u201c\\u201d",Mr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lr="A-Z\\xc0-\\xd6\\xd8-\\xde",Hr="\\ufe0e\\ufe0f",Gr=Br+Ur+Wr+Mr,Pr="["+jr+"]",Kr="["+Gr+"]",Yr="["+Nr+Dr+"]",Fr="\\d+",$r="["+kr+"]",Xr="["+Rr+"]",zr="[^"+jr+Gr+Fr+kr+Rr+Lr+"]",qr="\\ud83c[\\udffb-\\udfff]",Zr="(?:"+Yr+"|"+qr+")",Jr="[^"+jr+"]",Vr="(?:\\ud83c[\\udde6-\\uddff]){2}",Qr="[\\ud800-\\udbff][\\udc00-\\udfff]",tn="["+Lr+"]",rn="\\u200d",nn="(?:"+Xr+"|"+zr+")",en="(?:"+tn+"|"+zr+")",an=Zr+"?",on="["+Hr+"]?",un="(?:"+rn+"(?:"+[Jr,Vr,Qr].join("|")+")"+on+an+")*",cn=on+an+un,sn="(?:"+[$r,Vr,Qr].join("|")+")"+cn,hn="(?:"+[Jr+Yr+"?",Yr,Vr,Qr,Pr].join("|")+")",fn=RegExp(Yr,"g"),ln=RegExp(qr+"(?="+qr+")|"+hn+cn,"g"),pn=RegExp("["+rn+jr+Nr+Dr+Hr+"]"),vn=/[a-zA-Z0-9]+/g,gn=RegExp([tn+"?"+Xr+"+(?="+[Kr,tn,"$"].join("|")+")",en+"+(?="+[Kr,tn+nn,"$"].join("|")+")",tn+"?"+nn+"+",tn+"+",Fr,sn].join("|"),"g"),wn=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,mn=["Array","Buffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_n=-1,yn={};yn[Ft]=yn[$t]=yn[Xt]=yn[zt]=yn[qt]=yn[Zt]=yn[Jt]=yn[Vt]=yn[Qt]=!0,yn[Et]=yn[St]=yn[Yt]=yn[jt]=yn[Nt]=yn[Dt]=yn[kt]=yn[Bt]=yn[Ut]=yn[Wt]=yn[Mt]=yn[Lt]=yn[Ht]=yn[Pt]=!1;var dn={};dn[Et]=dn[St]=dn[Yt]=dn[jt]=dn[Nt]=dn[Ft]=dn[$t]=dn[Xt]=dn[zt]=dn[qt]=dn[Bt]=dn[Ut]=dn[Wt]=dn[Mt]=dn[Lt]=dn[Ht]=dn[Gt]=dn[Zt]=dn[Jt]=dn[Vt]=dn[Qt]=!0,dn[Dt]=dn[kt]=dn[Pt]=!1;var xn={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},bn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},In={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Tn={"function":!0,object:!0},On={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},An=parseFloat,Cn=parseInt,En=Tn[typeof n]&&n&&!n.nodeType?n:Z,Sn=Tn[typeof r]&&r&&!r.nodeType?r:Z,jn=Sn&&Sn.exports===En?En:Z,Nn=D(En&&Sn&&"object"==typeof t&&t),Dn=D(Tn[typeof self]&&self),kn=D(Tn[typeof window]&&window),Rn=D(Tn[typeof this]&&this),Bn=Nn||kn!==(Rn&&Rn.window)&&kn||Dn||Rn||Function("return this")(),Un=q();(kn||Dn||{})._=Un,"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return Un}):En&&Sn?(jn&&((Sn.exports=Un)._=Un),En._=Un):Bn._=Un}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,r,n){var e=t("./danmaku_helper"),a=new e,o=[[{v:{r:5,theta:165,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:135,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:105,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:75,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:45,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:15,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}}],[{v:{aimed:!0,r:5,theta:0,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:3}}}],[{v:{r:5,theta:0,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:23,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:45,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:68,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:90,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:113,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:135,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:158,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:180,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:203,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:225,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:248,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:270,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:293,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:315,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:338,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}}],[{v:[{count:0,v:{r:0,theta:0,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:5,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{
max:3}}}]},{v:[{count:0,v:{r:0,theta:10,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:15,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:20,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:45,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:50,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:55,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:60,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:65,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:95,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:100,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:105,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:110,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:135,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:140,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:145,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:150,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:155,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:180,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:185,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:190,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:195,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:200,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:225,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:230,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:235,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:240,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:245,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:270,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:275,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:280,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:285,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:290,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:315,w:0,ra:0,wa:0}},{count:5,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:320,w:0,ra:0,wa:0}},{count:10,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:325,w:0,ra:0,wa:0}},{count:15,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:330,w:0,ra:0,wa:0}},{count:20,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:335,w:0,ra:0,wa:0}},{count:25,v:{r:0,w:0,ra:.1,wa:0,rrange:{max:3}}}]}],[{v:{r:5,theta:12,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:35,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:57,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:80,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:102,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:125,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:147,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:170,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:192,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:215,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:237,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:260,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:282,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:305,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:327,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}},{v:{r:5,theta:350,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:2}}}],[{v:{aimed:!0,r:5,theta:-10,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:3}}}],[{v:{aimed:!0,r:5,theta:0,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:3}}}],[{v:{aimed:!0,r:5,theta:10,w:0,ra:.1,wa:0,raa:-.01,rrange:{min:3}}}],[{v:[{count:0,v:{r:0,theta:30,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:35,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.1}}}]},{v:[{count:0,v:{r:0,theta:40,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.2}}}]},{v:[{count:0,v:{r:0,theta:45,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.3}}}]},{v:[{count:0,v:{r:0,theta:50,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.4}}}]},{v:[{count:0,v:{r:0,theta:55,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.5}}}]},{v:[{count:0,v:{r:0,theta:60,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.6}}}]},{v:[{count:0,v:{r:0,theta:65,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.7}}}]},{v:[{count:0,v:{r:0,theta:70,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.8}}}]},{v:[{count:0,v:{r:0,theta:75,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.9}}}]},{v:[{count:0,v:{r:0,theta:80,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4}}}]},{v:[{count:0,v:{r:0,theta:85,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.1}}}]},{v:[{count:0,v:{r:0,theta:90,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.2}}}]},{v:[{count:0,v:{r:0,theta:95,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.3}}}]},{v:[{count:0,v:{r:0,theta:100,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.4}}}]},{v:[{count:0,v:{r:0,theta:105,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.5}}}]},{v:[{count:0,v:{r:0,theta:110,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.6}}}]},{v:[{count:0,v:{r:0,theta:115,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.7}}}]},{v:[{count:0,v:{r:0,theta:120,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.8}}}]},{v:[{count:0,v:{r:0,theta:125,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.9}}}]},{v:[{count:0,v:{r:0,theta:130,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5}}}]},{v:[{count:0,v:{r:0,theta:135,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.1}}}]},{v:[{count:0,v:{r:0,theta:140,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.2}}}]},{v:[{count:0,v:{r:0,theta:145,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.3}}}]},{v:[{count:0,v:{r:0,theta:150,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.4}}}]}],[{v:[{count:0,v:{r:0,theta:0,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3}}}]},{v:[{count:0,v:{r:0,theta:10,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.2}}}]},{v:[{count:0,v:{r:0,theta:20,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.4}}}]},{v:[{count:0,v:{r:0,theta:30,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.6}}}]},{v:[{count:0,v:{r:0,theta:40,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.8}}}]},{v:[{count:0,v:{r:0,theta:50,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4}}}]},{v:[{count:0,v:{r:0,theta:60,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.2}}}]},{v:[{count:0,v:{r:0,theta:70,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.4}}}]},{v:[{count:0,v:{r:0,theta:80,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.6}}}]},{v:[{count:0,v:{r:0,theta:90,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.8}}}]},{v:[{count:0,v:{r:0,theta:100,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5}}}]},{v:[{count:0,v:{r:0,theta:110,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.2}}}]},{v:[{count:0,v:{r:0,theta:120,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.4}}}]},{v:[{count:0,v:{r:0,theta:130,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.6}}}]}],[{v:[{count:0,v:{r:0,theta:175,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.1}}}]},{v:[{count:0,v:{r:0,theta:165,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.3}}}]},{v:[{count:0,v:{r:0,theta:155,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.5}}}]},{v:[{count:0,v:{r:0,theta:145,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.7}}}]},{v:[{count:0,v:{r:0,theta:135,w:0,ra:.1,wa:0,raa:.01,rrange:{max:3.9}}}]},{v:[{count:0,v:{r:0,theta:125,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.1}}}]},{v:[{count:0,v:{r:0,theta:115,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.3}}}]},{v:[{count:0,v:{r:0,theta:105,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.5}}}]},{v:[{count:0,v:{r:0,theta:95,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.7}}}]},{v:[{count:0,v:{r:0,theta:85,w:0,ra:.1,wa:0,raa:.01,rrange:{max:4.9}}}]},{v:[{count:0,v:{r:0,theta:75,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.1}}}]},{v:[{count:0,v:{r:0,theta:65,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.3}}}]},{v:[{count:0,v:{r:0,theta:55,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.5}}}]},{v:[{count:0,v:{r:0,theta:45,w:0,ra:.1,wa:0,raa:.01,rrange:{max:5.7}}}]}],[{laser:!0,waitCount:40,keep:150,v:{r:0,theta:180,w:-.01,ra:0,wa:-.01,trange:{min:110}}},{laser:!0,waitCount:40,keep:150,v:{r:0,theta:0,w:.01,ra:0,wa:.01,trange:{max:70}}}],[{v:{r:5,theta:0,w:0,ra:0,wa:0,rrandom:{min:4,max:5},trandom:{min:0,max:360}}}],[{v:{r:3,theta:45,w:0,ra:0,wa:0,raa:0}},{v:{r:3,theta:135,w:0,ra:0,wa:0,raa:0}},{v:{r:3,theta:225,w:0,ra:0,wa:0,raa:0}},{v:{r:3,theta:315,w:0,ra:0,wa:0,raa:0}}],a.daiYousei1(),a.daiYousei2(),a.chilno1(),[{v:{r:2,theta:0,w:0,ra:0,wa:0,rrandom:{min:2,max:3},trandom:{min:0,max:360},g:{r:0,theta:90,ra:.05}}}],a.chilno2(),[{v:{aimed:!0,r:5,theta:-15,w:0}},{v:{aimed:!0,r:5,theta:-5,w:0}},{v:{aimed:!0,r:5,theta:5,w:0}},{v:{aimed:!0,r:5,theta:15,w:0}}],[{beam:!0,v:{rrandom:{min:4,max:6},trandom:{min:180,max:200},g:{r:0,theta:90,ra:.3}}},{beam:!0,v:{rrandom:{min:4,max:6},trandom:{min:225,max:245},g:{r:0,theta:90,ra:.3}}},{beam:!0,v:{rrandom:{min:4,max:6},trandom:{min:270,max:290},g:{r:0,theta:90,ra:.3}}},{beam:!0,v:{rrandom:{min:4,max:6},trandom:{min:340,max:360},g:{r:0,theta:90,ra:.3}}}]];r.exports=o},{"./danmaku_helper":3}],3:[function(t,r,n){"use strict";function e(){}e.prototype._calculateRadian=function(t){return t*Math.PI/180},e.prototype._calculateTheta=function(t){return parseInt(180*t/Math.PI)},e.prototype.daiYousei1=function(){for(var t=[],r=30,n=0;36>n;n++){var e=(10*n+90)%360,a={x:r*Math.cos(this._calculateRadian(e)),y:r*Math.sin(this._calculateRadian(e)),count:1*n,v:{r:2+n/50,theta:e}};t.push(a)}return t},e.prototype.daiYousei2=function(){for(var t=[],r=30,n=0;36>n;n++){var e=1*n,a=(-10*n+450)%360,o={x:r*Math.cos(this._calculateRadian(a)),y:r*Math.sin(this._calculateRadian(a)),count:e,v:{r:2+n/50,theta:a}};t.push(o)}return t},e.prototype.chilno1=function(){var t,r=[],n=50,e=100,a=[],o=10;for(t=0;5>t;t++)a[t]=(126+144*t)%360;for(t=0;5>t;t++)for(var i=a[t],u=a[(t+1)%5],c=n*Math.cos(this._calculateRadian(i)),s=n*Math.sin(this._calculateRadian(i)),h=n*Math.cos(this._calculateRadian(u)),f=n*Math.sin(this._calculateRadian(u)),l=0;o>l;l++)for(var p=l+t*o,v=c+(h-c)/o*l,g=s+(f-s)/o*l,w=this._calculateTheta(Math.atan2(g,v)),m=0;5>m;m++){var _=a[m],y=v+e*Math.cos(this._calculateRadian(_)),d=g+e*Math.sin(this._calculateRadian(_)),x={x:y,y:d,count:p,v:[{count:0,v:{r:0,theta:w}},{count:6*o-p,v:{r:2,w:0}}]};r.push(x)}return r},e.prototype.chilno2=function(){for(var t=[],r=0;200>r;r++){var n=1*r,e={count:n,v:[{count:0,v:{r:5,theta:0,w:0,ra:-.01,wa:0,rrandom:{min:4,max:5},rrange:{min:2},trandom:{min:0,max:360}}},{count:200-n,v:{r:0}},{count:400-n,v:{r:1,theta:0,w:0,ra:.02,wa:0,trandom:{min:0,max:360}}}]};t.push(e)}return t},r.exports=e},{}],4:[function(t,r,n){var e=[],a={};a.random=function(){};for(var o=0;6>o;o++)e.push({count:100+15*o,x:50+20*o,vital:1,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:.01,trange:{max:135},wrange:{max:.5}}}]});for(var o=0;6>o;o++)e.push({count:300+15*o,x:380-20*o,vital:1,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:45},wrange:{min:-.5}}}]});for(var o=0;6>o;o++)e.push({count:500+15*o,x:50+20*o,vital:1,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:.01,trange:{max:135},wrange:{max:.5}}}]});for(var o=0;6>o;o++)e.push({count:700+15*o,x:380-20*o,vital:1,powerItem:o%2==0?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:45},wrange:{min:-.5}}}]});for(var o=0;8>o;o++)e.push({count:900+o*(80-5*o),x:25+o%4*50,vital:3,powerItem:o%2==0?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var o=0;8>o;o++)e.push({count:950+o*(80-5*o),x:455-o%4*50,vital:3,powerItem:o%2==0?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var o=0;4>o;o++)e.push({count:1400+20*o,x:50+50*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:-30},wrange:{min:-1}}}]});for(var o=0;4>o;o++)e.push({count:1410+10*o,x:25+50*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:-30},wrange:{min:-1}}}]});for(var o=0;4>o;o++)e.push({count:1420+20*o,x:430-50*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:.01,trange:{max:210},wrange:{max:1}}}]});for(var o=0;4>o;o++)e.push({count:1430+10*o,x:455-50*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:.01,trange:{max:210},wrange:{max:1}}}]});for(var o=0;20>o;o++)e.push({count:1700+10*parseInt(o/2),x:(o%2==0?50:80)+10*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,v:[{count:0,v:{r:3,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:3,w:0,ra:0,wa:-.02,trange:{min:-45},wrange:{min:-1}}},{count:180,v:{r:3,w:0,ra:0,wa:.02,trange:{max:45},wrange:{max:1}}}]});for(var o=0;20>o;o++)e.push({count:1900+10*parseInt(o/2),x:(o%2==0?430:400)-10*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,v:[{count:0,v:{r:3,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:3,w:0,ra:0,wa:.02,trange:{max:225},wrange:{max:1}}},{count:180,v:{r:3,w:0,ra:0,wa:-.02,trange:{min:135},wrange:{min:-1}}}]});for(var o=0;8>o;o++)e.push({count:2300+o*(80-5*o),x:25+o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var o=0;8>o;o++)e.push({count:2350+o*(80-5*o),x:455-o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var o=0;8>o;o++)e.push({count:2500+o*(80-5*o),x:25+o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var o=0;8>o;o++)e.push({count:2550+o*(80-5*o),x:455-o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var o=0;8>o;o++)e.push({count:2700+o*(80-5*o),x:25+o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var o=0;8>o;o++)e.push({count:2750+o*(80-5*o),x:455-o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var i=[],o=0;100>o;o++)i.push({count:100+5*o,x:parseInt(480*a.random()),vital:1,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:13,shotCount:[10]},v:[{count:0,v:{r:3,theta:90,w:0,ra:0,wa:0}}]});for(var o=0;6>o;o++)i.push({count:500+15*o,x:50+20*o,vital:1,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:.01,trange:{max:135},wrange:{max:.5}}}]});for(var o=0;6>o;o++)i.push({count:700+15*o,x:380-20*o,vital:1,powerItem:o%2==0?1:0,v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:50,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:45},wrange:{min:-.5}}}]});for(var o=0;8>o;o++)i.push({count:900+o*(80-5*o),x:25+o%4*50,vital:3,powerItem:o%2==0?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var o=0;8>o;o++)i.push({count:950+o*(80-5*o),x:455-o%4*50,vital:3,powerItem:o%2==0?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var o=0;4>o;o++)i.push({count:1400+20*o,x:50+50*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:-30},wrange:{min:-1}}}]});for(var o=0;4>o;o++)i.push({count:1410+10*o,x:25+50*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:-.01,trange:{min:-30},wrange:{min:-1}}}]});for(var o=0;4>o;o++)i.push({count:1420+20*o,x:430-50*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:.01,trange:{max:210},wrange:{max:1}}}]});for(var o=0;4>o;o++)i.push({count:1430+10*o,x:455-50*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,s:{bullet:1,shotCount:[40]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:2,w:0,ra:0,wa:.01,trange:{max:210},wrange:{max:1}}}]});for(var o=0;20>o;o++)i.push({count:1700+10*parseInt(o/2),x:(o%2==0?50:80)+10*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,v:[{count:0,v:{r:3,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:3,w:0,ra:0,wa:-.02,trange:{min:-45},wrange:{min:-1}}},{count:180,v:{r:3,w:0,ra:0,wa:.02,trange:{max:45},wrange:{max:1}}}]});for(var o=0;20>o;o++)i.push({count:1900+10*parseInt(o/2),x:(o%2==0?430:400)-10*o,vital:1,powerItem:o%4==0?1:0,scoreItem:o%4==2?1:0,v:[{count:0,v:{r:3,theta:90,w:0,ra:0,wa:0}},{count:30,v:{r:3,w:0,ra:0,wa:.02,trange:{max:225},wrange:{max:1}}},{count:180,v:{r:3,w:0,ra:0,wa:-.02,trange:{min:135},wrange:{min:-1}}}]});for(var o=0;8>o;o++)i.push({count:2300+o*(80-5*o),x:25+o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var o=0;8>o;o++)i.push({count:2350+o*(80-5*o),x:455-o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var o=0;8>o;o++)i.push({count:2500+o*(80-5*o),x:25+o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var o=0;8>o;o++)i.push({count:2550+o*(80-5*o),x:455-o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});for(var o=0;8>o;o++)i.push({count:2700+o*(80-5*o),x:25+o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:.1,trange:{max:190}}}]});for(var o=0;8>o;o++)i.push({count:2750+o*(80-5*o),x:455-o%4*50,vital:3,powerItem:o%2==0?1:0,scoreItem:o%2==1?1:0,s:{bullet:0,shotCount:[40+o%2*20]},v:[{count:0,v:{r:2,theta:90,w:0,ra:0,wa:0}},{count:30+o%2*20,v:{r:0,theta:90,w:0,ra:0,wa:0}},{count:130+o%2*20,v:{r:2,theta:90,w:0,ra:0,wa:-.1,trange:{min:-10}}}]});e.sort(function(t,r){return t.count-r.count}),r.exports=e},{}],5:[function(t,r,n){"use strict";var e=(t("lodash"),function(t){this.stage=t.stage,this.pool=[],this.incremental_id=0});e.prototype.get=function(t){console.error("get method must be overridden")},e.prototype.free=function(t){console.error("get method must be overridden")},r.exports=e},{lodash:1}],6:[function(t,r,n){"use strict";var e=t("lodash"),a=t("../object/bullet"),o=t("./base"),i=function(t){o.apply(this,arguments)};e.extend(i.prototype,o.prototype),e.extend(i,o),i.prototype.get=function(t,r){this.incremental_id++;var n=new a(this.incremental_id,this.stage);return n.init(t,r),n},i.prototype.free=function(t){},r.exports=i},{"../object/bullet":16,"./base":5,lodash:1}],7:[function(t,r,n){"use strict";var e=t("lodash"),a=t("../object/enemy"),o=t("./base"),i=function(t){o.apply(this,arguments)};e.extend(i.prototype,o.prototype),e.extend(i,o),i.prototype.get=function(t){this.incremental_id++;var r=new a(this.incremental_id,this.stage);return r.init(t),r},i.prototype.free=function(t){},r.exports=i},{"../object/enemy":18,"./base":5,lodash:1}],8:[function(t,r,n){"use strict";var e=t("lodash"),a=t("../object/shot"),o=t("./base"),i=function(t){o.apply(this,arguments)};e.extend(i.prototype,o.prototype),e.extend(i,o),i.prototype.get=function(){this.incremental_id++;var t=new a(this.incremental_id,this.stage);return t.init(),t},i.prototype.free=function(t){},r.exports=i},{"../object/shot":19,"./base":5,lodash:1}],9:[function(t,r,n){"use strict";var e=t("./scene/loading"),a=t("./scene/opening"),o=t("./scene/stage"),i=function(t){this.surface=t.getContext("2d"),this.width=Number(t.getAttribute("width")),this.height=Number(t.getAttribute("height")),this.state=null,this.scenes=[],this.scenes[this.LOADING_SCENE]=new e(this),this.scenes[this.OPENING_SCENE]=new a(this),this.scenes[this.STAGE_SCENE]=new o(this),this.scenes[this.ENDING_SCENE]=null,this.images={},this.sounds={},this.bgms={},this.frame_count=0};i.prototype.DEBUG=!0,i.prototype.LOADING_SCENE=0,i.prototype.OPENING_SCENE=1,i.prototype.STAGE_SCENE=2,i.prototype.ENDING_SCENE=3,i.prototype.IMAGES={title_bg:"image/title_bg.png",stage1_bg:"image/stage1_bg.jpg",reimu:"image/reimu.png",shot:"image/shot.png",enemy:"image/enemy.png",bullet:"image/bullet.png"},i.prototype.SOUNDS={select:{path:"sound/select.wav",volume:1},shot:{path:"sound/shot.wav",volume:.1},enemy_vanish:{path:"sound/enemy_vanish.wav",volume:.03}},i.prototype.BGMS={title:{path:"bgm/title.mp3",volume:1},stage1:{path:"bgm/stage1.mp3",volume:1}},i.prototype.handleKeyDown=function(t){this.scenes[this.state].handleKeyDown(t),t.preventDefault()},i.prototype.handleKeyUp=function(t){this.scenes[this.state].handleKeyUp(t),t.preventDefault()},i.prototype.init=function(){this.frame_count=0,this.changeScene(this.LOADING_SCENE)},i.prototype.run=function(){this.scenes[this.state].run(),this.scenes[this.state].updateDisplay(),this.frame_count++,requestAnimationFrame(this.run.bind(this))},i.prototype.changeScene=function(t){this.state=t,this.scenes[this.state].init()},i.prototype.getImage=function(t){return this.images[t]},i.prototype.playBGM=function(t){for(var r in this.bgms)this.bgms[r].pause(),this.bgms[r].currentTime=0;this.bgms[t].loop=!0,this.bgms[t].play()},i.prototype.playSound=function(t){this.sounds[t].pause(),this.sounds[t].currentTime=0,this.sounds[t].play()},i.prototype.notifyLoadingDone=function(){this.changeScene(this.OPENING_SCENE)},i.prototype.notifyOpeningDone=function(){this.changeScene(this.STAGE_SCENE)},r.exports=i},{"./scene/loading":22,"./scene/opening":23,"./scene/stage":24}],10:[function(t,r,n){"use strict";var e=t("./game");window.onload=function(){var t=document.getElementById("mainCanvas"),r=new e(t);r.init(),window.onkeydown=function(t){r.handleKeyDown(t)},window.onkeyup=function(t){r.handleKeyUp(t)},r.run()}},{"./game":9}],11:[function(t,r,n){"use strict";var e=(t("lodash"),function(t){this.stage=t,this.game=t.game,this.factory=null,this.objects={},this.frame_count=0});e.prototype.init=function(){this.objects={},this.frame_count=0},e.prototype.create=function(t){var r=this.factory.get(t);this.objects[r.id]=r},e.prototype.remove=function(t){delete this.objects[t],this.factory.free(t)},e.prototype.run=function(){this.frame_count++;for(var t in this.objects)this.objects[t].run()},e.prototype.updateDisplay=function(){for(var t in this.objects)this.objects[t].updateDisplay()},r.exports=e},{lodash:1}],12:[function(t,r,n){"use strict";var e=t("lodash"),a=t("../factory/bullet"),o=t("../data/bullets_params"),i=t("./base"),u=function(t){i.apply(this,arguments),this.factory=new a(this),this.bullets_params=o};e.extend(u.prototype,i.prototype),e.extend(u,i),u.prototype.init=function(){i.prototype.init.apply(this,arguments)},u.prototype.create=function(t){for(var r=0;r<this.bullets_params[t.shots.bullet].length;r++){var n=this.factory.get(this.bullets_params[t.shots.bullet][r],t);this.objects[n.id]=n}},u.prototype.remove=function(t){i.prototype.remove.apply(this,arguments)},u.prototype.run=function(){i.prototype.run.apply(this,arguments)},u.prototype.updateDisplay=function(){i.prototype.updateDisplay.apply(this,arguments)},r.exports=u},{"../data/bullets_params":2,"../factory/bullet":6,"./base":11,lodash:1}],13:[function(t,r,n){"use strict";var e=t("lodash"),a=t("../data/enemies_params"),o=t("../factory/enemy"),i=t("./base"),u=function(t){i.apply(this,arguments),this.factory=new o(this),this.enemy_index=0,this.enemies_params=a};e.extend(u.prototype,i.prototype),e.extend(u,i),u.prototype.init=function(){i.prototype.init.apply(this,arguments),this.enemy_index=0},u.prototype.create=function(){for(;this.enemies_params[this.enemy_index]&&this.enemies_params[this.enemy_index].count===this.frame_count;){var t=this.factory.get(this.enemies_params[this.enemy_index]);this.objects[t.id]=t,this.enemy_index++}},u.prototype.remove=function(t){i.prototype.remove.apply(this,arguments)},u.prototype.run=function(){i.prototype.run.apply(this,arguments),this.create()},u.prototype.updateDisplay=function(){i.prototype.updateDisplay.apply(this,arguments)},r.exports=u},{"../data/enemies_params":4,"../factory/enemy":7,"./base":11,lodash:1}],14:[function(t,r,n){"use strict";var e=t("lodash"),a=t("../factory/shot"),o=t("./base"),i=function(t){o.apply(this,arguments),this.factory=new a(this)};e.extend(i.prototype,o.prototype),e.extend(i,o),i.prototype.init=function(){o.prototype.init.apply(this,arguments)},i.prototype.create=function(){o.prototype.create.apply(this,arguments)},i.prototype.remove=function(t){o.prototype.remove.apply(this,arguments)},i.prototype.run=function(){o.prototype.run.apply(this,arguments)},i.prototype.updateDisplay=function(){o.prototype.updateDisplay.apply(this,arguments)},i.prototype.checkCollisionWithEnemies=function(t){for(var r in this.objects)for(var n in t.objects)if(this.objects[r].checkCollision(t.objects[n])){this.objects[r].notifyCollision(t.objects[n]),t.objects[n].notifyCollision(this.objects[r]);break}},r.exports=i},{"../factory/shot":8,"./base":11,lodash:1}],15:[function(t,r,n){"use strict";var e=(t("lodash"),function(t,r){this.frame_count=0,this.stage=r,this.game=r.game,this.id=t,this.x=0,this.y=0,this.indexX=0,this.indexY=0});e.prototype.init=function(){this.frame_count=0},e.prototype.run=function(){this.frame_count++},e.prototype.updateDisplay=function(){var t=Math.round(this.x-this.WIDTH/2),r=Math.round(this.y-this.HEIGHT/2),n=this.game.getImage(this.IMAGE_KEY);this.game.surface.save(),this.game.surface.drawImage(n,this.WIDTH*this.indexX,this.HEIGHT*this.indexY,this.WIDTH,this.HEIGHT,t,r,this.WIDTH,this.HEIGHT),this.game.surface.restore()},e.prototype.checkCollision=function(t){return!!(this.inCollisionArea(t.getCollisionLeftX(),t.getCollisionUpY())||this.inCollisionArea(t.getCollisionLeftX(),t.getCollisionBottomY())||this.inCollisionArea(t.getCollisionRightX(),t.getCollisionUpY())||this.inCollisionArea(t.getCollisionRightX(),t.getCollisionBottomY())||this.inCollisionArea(t.x,t.y))},e.prototype.getCollisionLeftX=function(){return this.x-this.WIDTH/2},e.prototype.getCollisionRightX=function(){return this.x+this.WIDTH/2},e.prototype.getCollisionUpY=function(){return this.y-this.HEIGHT/2},e.prototype.getCollisionBottomY=function(){return this.y+this.HEIGHT/2},e.prototype.inCollisionArea=function(t,r){return t>=this.getCollisionLeftX()&&t<=this.getCollisionRightX()&&r>=this.getCollisionUpY()&&r<=this.getCollisionBottomY()},e.prototype.notifyCollision=function(t){},r.exports=e},{lodash:1}],16:[function(t,r,n){"use strict";var e=t("lodash"),a=t("./vector_base"),o=function(t,r){a.apply(this,arguments),this.indexX=3,this.indexY=3};e.extend(o.prototype,a.prototype),e.extend(o,a),o.prototype.WIDTH=16,o.prototype.HEIGHT=16,o.prototype.IMAGE_KEY="bullet",o.prototype.init=function(t,r){a.prototype.init.apply(this,arguments),this.x=r.x,this.y=r.y},o.prototype.run=function(){a.prototype.run.apply(this,arguments)},r.exports=o},{"./vector_base":20,lodash:1}],17:[function(t,r,n){"use strict";var e=t("lodash"),a=t("./base"),o=function(t,r){a.apply(this,arguments)};e.extend(o.prototype,a.prototype),e.extend(o,a),o.prototype.WIDTH=32,o.prototype.HEIGHT=48,o.prototype.IMAGE_KEY="reimu",o.prototype.SPEED=4,o.prototype.ANIMATION_SPAN=2,o.prototype.init=function(){a.prototype.init.apply(this,arguments),this.x=this.stage.width/2,this.y=this.stage.height-100},o.prototype.run=function(){a.prototype.run.apply(this,arguments),this.stage.isKeyDown(this.stage.BUTTON_Z)&&this.frame_count%5==0&&(this.stage.shotmanager.create(),this.game.playSound("shot")),this.stage.isKeyDown(this.stage.BUTTON_LEFT)&&(this.x-=this.SPEED),this.stage.isKeyDown(this.stage.BUTTON_RIGHT)&&(this.x+=this.SPEED),this.stage.isKeyDown(this.stage.BUTTON_DOWN)&&(this.y+=this.SPEED),this.stage.isKeyDown(this.stage.BUTTON_UP)&&(this.y-=this.SPEED),this.x<0&&(this.x=0),this.x>this.stage.width&&(this.x=this.stage.width),this.y<0&&(this.y=0),this.y>this.stage.height&&(this.y=this.stage.height),this.stage.isKeyDown(this.stage.BUTTON_LEFT)&&!this.stage.isKeyDown(this.stage.BUTTON_RIGHT)?this.indexY=1:this.stage.isKeyDown(this.stage.BUTTON_RIGHT)&&!this.stage.isKeyDown(this.stage.BUTTON_LEFT)?this.indexY=2:this.indexY=0,this.frame_count%this.ANIMATION_SPAN===0&&(this.indexX++,0===this.indexY&&this.indexX>7?this.indexX=0:(1===this.indexY||2===this.indexY)&&this.indexX>7&&(this.indexX=4))},r.exports=o},{"./base":15,lodash:1}],18:[function(t,r,n){"use strict";var e=t("lodash"),a=t("./vector_base"),o=function(t,r){a.apply(this,arguments),this.indexX=0,this.indexY=0};e.extend(o.prototype,a.prototype),e.extend(o,a),o.prototype.WIDTH=32,o.prototype.HEIGHT=32,o.prototype.IMAGE_KEY="enemy",o.prototype.ANIMATION_SPAN=5,o.prototype.init=function(t){a.prototype.init.apply(this,arguments),this.x=t.x||0,this.y=t.y||0,this.vital=t.vital,this.shots=t.s,this.shotCountIndex=0},o.prototype.run=function(){a.prototype.run.apply(this,arguments),this.shot(),this.frame_count%this.ANIMATION_SPAN===0&&(this.indexX++,
this.indexX>2&&(this.indexX=0))},o.prototype.shot=function(){this.shots&&this.shots.shotCount[this.shotCountIndex]&&this.shots.shotCount[this.shotCountIndex]<=this.frame_count&&(this.shotCountIndex++,this.stage.bulletmanager.create(this),this.game.playSound("shot"))},o.prototype.notifyCollision=function(t){this.stage.enemymanager.remove(this.id),this.game.playSound("enemy_vanish"),this.stage.score+=100},r.exports=o},{"./vector_base":20,lodash:1}],19:[function(t,r,n){"use strict";var e=t("lodash"),a=t("./base"),o=function(t,r){a.apply(this,arguments),this.indexX=3,this.indexY=3};e.extend(o.prototype,a.prototype),e.extend(o,a),o.prototype.WIDTH=16,o.prototype.HEIGHT=48,o.prototype.IMAGE_KEY="shot",o.prototype.SPEED=8,o.prototype.init=function(){a.prototype.init.apply(this,arguments),this.x=this.stage.character.x,this.y=this.stage.character.y},o.prototype.run=function(){a.prototype.run.apply(this,arguments),this.y-=this.SPEED},o.prototype.notifyCollision=function(t){this.stage.shotmanager.remove(this.id)},r.exports=o},{"./base":15,lodash:1}],20:[function(t,r,n){"use strict";var e=t("lodash"),a=t("./base"),o=function(t,r){a.apply(this,arguments)};e.extend(o.prototype,a.prototype),e.extend(o,a),o.prototype.init=function(t){a.prototype.init.apply(this,arguments),this.vectors=[],this.vector_index=0;var r;if(t.v&&t.v instanceof Array)for(var n=0;n<t.v.length;n++)r={},r.count=t.v[n].count,r.r=t.v[n].v.r,r.theta=t.v[n].v.theta||90,r.w=t.v[n].v.w||0,r.ra=t.v[n].v.ra||0,r.wa=t.v[n].v.wa||0,r.raa=t.v[n].v.raa||0,r.waa=t.v[n].v.waa||0,r.trange=t.v[n].v.trange||null,r.rrange=t.v[n].v.rrange||null,r.wrange=t.v[n].v.wrange||null,r.rarange=t.v[n].v.rarange||null,r.warange=t.v[n].v.warange||null,this.vectors.push(r);else t.v&&(r={},r.count=0,r.r=t.v.r,r.theta=t.v.theta||90,r.w=t.v.w||0,r.ra=t.v.ra||0,r.wa=t.v.wa||0,r.raa=t.v.raa||0,r.waa=t.v.waa||0,r.trange=t.v.trange||null,r.rrange=t.v.rrange||null,r.wrange=t.v.wrange||null,r.rarange=t.v.rarange||null,r.warange=t.v.warange||null,this.vectors.push(r))},o.prototype.run=function(){a.prototype.run.apply(this,arguments),this.vectors[this.vector_index+1]&&this.vectors[this.vector_index+1].count<=this.frame_count&&this.vector_index++,this.x+=this.calc_moveX(),this.y+=this.calc_moveY(),this.vectors[this.vector_index].theta+=this.vectors[this.vector_index].w,this.vectors[this.vector_index].r+=this.vectors[this.vector_index].ra,this.vectors[this.vector_index].w+=this.vectors[this.vector_index].wa,this.vectors[this.vector_index].ra+=this.vectors[this.vector_index].raa,this.vectors[this.vector_index].wa+=this.vectors[this.vector_index].waa,this.vectors[this.vector_index].theta=this._beInRange(this.vectors[this.vector_index].theta,this.vectors[this.vector_index].trange),this.vectors[this.vector_index].r=this._beInRange(this.vectors[this.vector_index].r,this.vectors[this.vector_index].rrange),this.vectors[this.vector_index].w=this._beInRange(this.vectors[this.vector_index].w,this.vectors[this.vector_index].wrange),this.vectors[this.vector_index].ra=this._beInRange(this.vectors[this.vector_index].ra,this.vectors[this.vector_index].rarange),this.vectors[this.vector_index].wa=this._beInRange(this.vectors[this.vector_index].wa,this.vectors[this.vector_index].warange)},o.prototype._beInRange=function(t,r){return null===r?t:(void 0!==r.max&&t>r.max&&(t=r.max),void 0!==r.min&&t<r.min&&(t=r.min),t)},o.prototype._getRadian=function(){var t=this.vectors[this.vector_index].theta/180*Math.PI;return t},o.prototype.calc_moveX=function(){var t=this.vectors[this.vector_index].r*Math.cos(this._getRadian());return t},o.prototype.calc_moveY=function(){var t=this.vectors[this.vector_index].r*Math.sin(this._getRadian());return t},r.exports=o},{"./base":15,lodash:1}],21:[function(t,r,n){"use strict";var e=function(t){this.game=t,this.frame_count=0};e.prototype.init=function(){this.frame_count=0},e.prototype.run=function(){this.frame_count++},e.prototype.updateDisplay=function(){console.error("updateDisplay method must be overridden")},r.exports=e},{}],22:[function(t,r,n){"use strict";var e=t("lodash"),a=t("./base"),o=function(t){a.apply(this,arguments),this.loadedImageNum=0,this.loadedSoundNum=0,this.loadedBGMNum=0};e.extend(o.prototype,a.prototype),e.extend(o,a),o.prototype.init=function(){this._loadImages(),this._loadSounds(),this._loadBGMs()},o.prototype.run=function(){var t=Object.keys(this.game.images).length+Object.keys(this.game.sounds).length+Object.keys(this.game.bgms).length,r=this.loadedImageNum+this.loadedSoundNum+this.loadedBGMNum;r>=t&&this.game.notifyLoadingDone()},o.prototype.updateDisplay=function(){var t=Object.keys(this.game.images).length+Object.keys(this.game.sounds).length+Object.keys(this.game.bgms).length,r=this.loadedImageNum+this.loadedSoundNum+this.loadedBGMNum;this.game.surface.save(),this.game.surface.clearRect(0,0,this.game.width,this.game.height),this.game.surface.fillStyle="rgb( 0, 0, 0 )",this.game.surface.textAlign="right",this.game.surface.fillText("loading...",180,200),this.game.surface.fillText(r+"/"+t,200,240),this.game.surface.restore()},o.prototype._loadImages=function(){var t=this,r=function(){t.loadedImageNum++};for(var n in this.game.IMAGES)this.game.images[n]=new Image,this.game.images[n].src=this.game.IMAGES[n],this.game.images[n].onload=r},o.prototype._loadSounds=function(){var t=this,r=function(r){t.loadedBGMNum++};for(var n in this.game.SOUNDS)this.game.sounds[n]=new Audio(this.game.SOUNDS[n].path),this.game.sounds[n].volume=this.game.SOUNDS[n].volume,this.game.sounds[n].addEventListener("canplay",r),this.game.sounds[n].load()},o.prototype._loadBGMs=function(){var t=this,r=function(r){t.loadedBGMNum++};for(var n in this.game.BGMS)this.game.bgms[n]=new Audio(this.game.BGMS[n].path),this.game.bgms[n].volume=this.game.BGMS[n].volume,this.game.bgms[n].addEventListener("canplay",r),this.game.bgms[n].load()},r.exports=o},{"./base":21,lodash:1}],23:[function(t,r,n){"use strict";var e=t("lodash"),a=t("./base"),o=function(t){a.apply(this,arguments)};e.extend(o.prototype,a.prototype),e.extend(o,a),o.prototype.SHOW_TRANSITION_COUNT=100,o.prototype.init=function(){a.prototype.init.apply(this,arguments),this.game.playBGM("title")},o.prototype.handleKeyDown=function(t){switch(t.keyCode){case 90:this.game.playSound("select"),this.game.notifyOpeningDone()}},o.prototype.run=function(){a.prototype.run.apply(this,arguments)},o.prototype.updateDisplay=function(){this.game.surface.clearRect(0,0,this.game.width,this.game.height),this.game.surface.save(),this.frame_count<this.SHOW_TRANSITION_COUNT?this.game.surface.globalAlpha=this.frame_count/this.SHOW_TRANSITION_COUNT:this.game.surface.globalAlpha=1;var t=this.game.getImage("title_bg");this.game.surface.drawImage(t,0,0,t.width,t.height,0,0,this.game.width,this.game.height),this.game.surface.font="24px 'Comic Sans MS'",this.game.surface.textAlign="center",this.game.surface.textBaseAlign="middle",this.game.surface.fillStyle="rgb( 0, 0, 0 )",this.game.surface.fillText("Touhou Project",120,200),this.game.surface.fillText("on Javascript",120,250),this.game.surface.fillText("Press Z to Start",120,350),this.game.surface.restore()},r.exports=o},{"./base":21,lodash:1}],24:[function(t,r,n){"use strict";var e=t("lodash"),a=t("./base"),o=t("../object/character"),i=t("../manager/shot"),u=t("../manager/enemy"),c=t("../manager/bullet"),s=function(t){a.apply(this,arguments),this.score=0,this.character=new o(1,this),this.shotmanager=new i(this),this.enemymanager=new u(this),this.bulletmanager=new c(this),this.keyflag=0,this.width=this.game.width-this.SIDE_WIDTH,this.height=this.game.height};e.extend(s.prototype,a.prototype),e.extend(s,a),s.prototype.BUTTON_LEFT=1,s.prototype.BUTTON_UP=2,s.prototype.BUTTON_RIGHT=4,s.prototype.BUTTON_DOWN=8,s.prototype.BUTTON_Z=16,s.prototype.BUTTON_X=32,s.prototype.BUTTON_SHIFT=64,s.prototype.BUTTON_SPACE=128,s.prototype.SIDE_WIDTH=160,s.prototype.BACKGROUND_SCROLL_SPEED=3,s.prototype.SHOW_TITLE_COUNT=300,s.prototype.init=function(){a.prototype.init.apply(this,arguments),this.character.init(),this.shotmanager.init(),this.enemymanager.init(),this.bulletmanager.init(),this.game.playBGM("stage1")},s.prototype.handleKeyDown=function(t){this.keyflag|=this._keyCodeToBitCode(t.keyCode)},s.prototype.handleKeyUp=function(t){this.keyflag&=~this._keyCodeToBitCode(t.keyCode)},s.prototype.isKeyDown=function(t){return this.keyflag&t},s.prototype._keyCodeToBitCode=function(t){var r;switch(t){case 16:r=this.BUTTON_SHIFT;break;case 32:r=this.BUTTON_SPACE;break;case 37:r=this.BUTTON_LEFT;break;case 38:r=this.BUTTON_UP;break;case 39:r=this.BUTTON_RIGHT;break;case 40:r=this.BUTTON_DOWN;break;case 88:r=this.BUTTON_X;break;case 90:r=this.BUTTON_Z}return r},s.prototype.run=function(){a.prototype.run.apply(this,arguments),this.character.run(),this.shotmanager.run(),this.enemymanager.run(),this.bulletmanager.run(),this.shotmanager.checkCollisionWithEnemies(this.enemymanager)},s.prototype.updateDisplay=function(){this.game.surface.clearRect(0,0,this.game.width,this.game.height),this._showBackground(),this.character.updateDisplay(),this.shotmanager.updateDisplay(),this.enemymanager.updateDisplay(),this.bulletmanager.updateDisplay(),this._showSidebar(),this._showStageTitle()},s.prototype._showSidebar=function(){var t=this.game.width-this.SIDE_WIDTH,r=0;this.game.surface.save(),this.game.surface.fillStyle="rgb(0, 0, 0)",this.game.surface.fillRect(t,r,this.SIDE_WIDTH,this.game.height),this.game.surface.fillStyle="rgb(255, 255, 255)",this.game.surface.font="16px 'Comic Sans MS'",this.game.surface.textAlign="right",this.game.surface.fillText("Score:",t+70,r+100),this.game.surface.fillText(this.score,t+140,r+100),this.game.surface.fillText("Player:",t+70,r+140),this.game.surface.fillText("0",t+140,r+140),this.game.surface.fillText("Bomb:",t+70,r+180),this.game.surface.fillText("0",t+140,r+180),this.game.surface.restore()},s.prototype._showBackground=function(){var t=0,r=this.frame_count*this.BACKGROUND_SCROLL_SPEED%this.game.height;this.game.surface.save();var n=this.game.getImage("stage1_bg");this.game.surface.drawImage(n,0,0,n.width,n.height,t,r,this.game.width-this.SIDE_WIDTH,this.game.height),this.game.surface.drawImage(n,0,0,n.width,n.height,t,r-this.game.height,this.game.width-this.SIDE_WIDTH,this.game.height),this.game.surface.restore()},s.prototype._showStageTitle=function(){if(!(this.frame_count>this.SHOW_TITLE_COUNT)){this.game.surface.save();var t=1;this.frame_count<this.SHOW_TITLE_COUNT/3?t=3*this.frame_count/this.SHOW_TITLE_COUNT:this.SHOW_TITLE_COUNT/3<this.frame_count&&this.frame_count<2*this.SHOW_TITLE_COUNT/3?t=1:2*this.SHOW_TITLE_COUNT/3<this.frame_count&&(t=3*(this.SHOW_TITLE_COUNT-this.frame_count)/this.SHOW_TITLE_COUNT),this.game.surface.fillStyle="rgb( 0, 0, 0 )",this.game.surface.globalAlpha=.5*t,this.game.surface.fillRect(0,170,480,100),this.game.surface.globalAlpha=t,this.game.surface.fillStyle="rgb( 255, 255, 255 )",this.game.surface.textAlign="left",this.game.surface.font="16px Arial",this.game.surface.fillText("Stage 1",100,210),this.game.surface.textAlign="right",this.game.surface.fillText("  Mystic Flier",380,250),this.game.surface.fillRect(100,225,280,1),this.game.surface.restore()}},r.exports=s},{"../manager/bullet":12,"../manager/enemy":13,"../manager/shot":14,"../object/character":17,"./base":21,lodash:1}]},{},[10]);